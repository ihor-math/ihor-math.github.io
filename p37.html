<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>37. –°–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä—ñ–≤ —Ç–∞ –π–æ–≥–æ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ</title>
    <script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    window.MathJax = {
        tex: {
            inlineMath: [['\\(', '\\)']],
            displayMath: [['\\[', '\\]']],
            processEscapes: true,
            processEnvironments: true
        },
        options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            ignoreHtmlClass: 'tex2jax_ignore',
            processHtmlClass: 'tex2jax_process'
        }
    };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        *, *:before, *:after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            background: linear-gradient(135deg, #0a0a0a, #1a1a2e);
            font-family: 'Poppins', sans-serif;
            color: #e8e8e8;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100dvh;
        }
        body.modal-open {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }
        .title-box {
            margin-top: 60px;
            padding: 25px 40px;
            background: linear-gradient(135deg, #16213e, #0f3460);
            border-radius: 25px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4), inset 0 0 10px rgba(255, 255, 255, 0.1);
            max-width: 90%;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .title-box h1 {
            font-size: 28px;
            color: #00d4ff;
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
            font-weight: 800;
        }
        .section-container {
            margin-top: 40px;
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
            overflow: hidden; /* –ë–ª–æ–∫—É—î —Ç–∏–º—á–∞—Å–æ–≤–∏–π —Å–∫—Ä–æ–ª –ø—Ä–∏ reflow */
        }
        .section {
            width: 250px;
            height: 220px;
            background: linear-gradient(135deg, #1e3a5f, #0f3460);
            border-radius: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3), inset 0 0 8px rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            color: inherit;
            border: 1px solid rgba(0, 212, 255, 0.3);
                                        position: relative; /* –§—ñ–∫—Å—É—î absolute ::before */
    will-change: transform; /* –û–ø—Ç–∏–º—ñ–∑—É—î hover –¥–ª—è GPU */
    overflow: hidden; /* –ó–∞–ø–æ–±—ñ–≥–∞—î –≤–∏—Ç—ñ–∫–∞–Ω–Ω—é –∫–æ–Ω—Ç–µ–Ω—Ç—É –ø—Ä–∏ scale */
            
        }
        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.1), transparent);
            transition: left 0.5s;
            transition: left 0.3s ease; /* –ü—Ä–∏—Å–∫–æ—Ä–∏–ª–∏, —â–æ–± –º–µ–Ω—à–µ flicker */
        }
        .section:hover::before {
            left: 100%;
        }
        .section:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.5), inset 0 0 12px rgba(0, 212, 255, 0.2);
            will-change: transform, box-shadow; /* –î–æ–¥–∞—Ç–∫–æ–≤–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è */
        }
        .section img {
            width: 60px;
            height: 60px;
            margin-bottom: 15px;
            object-fit: cover;
            border-radius: 8px;
            filter: drop-shadow(0 0 5px rgba(0, 212, 255, 0.3));
        }
        .section h2 {
            font-size: 20px;
            color: #e8e8e8;
            font-weight: 600;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
        }
        .modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.95);
            width: 95%;
            max-width: 95vw;
            height: 95vh;
            max-height: 95vh;
            background: linear-gradient(135deg, #0a0a0a, #1a1a2e);
            z-index: 1001;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            transition: opacity 0.25s ease, transform 0.25s ease;
            opacity: 0;
            border-radius: 15px;
            overflow: hidden;
            transform: translateZ(0);
                   }
        .modal.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }
        .modal-header {
            background: linear-gradient(90deg, #16213e, #0f3460);
            padding: 8px 12px;
            display: flex;
            justify-content: flex-end;
            width: 100%;
            flex-shrink: 0;
        }
        .close-btn {
            background: #00d4ff;
            color: #0a0a0a;
            border: none;
            border-radius: 6px;
            padding: 6px 16px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.2s ease;
        }
        .close-btn:hover {
            background: #00b3d9;
            transform: scale(1.05);
        }
        .modal-content {
            padding: 20px;
            flex-grow: 1;
            background: linear-gradient(135deg, #0f3460, #16213e);
            border-radius: 10px;
            margin: 10px;
            color: #e8e8e8;
            width: 100%;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 212, 255, 0.5) transparent;
        }
        .modal-content::-webkit-scrollbar {
            width: 6px;
        }
        .modal-content::-webkit-scrollbar-track {
            background: transparent;
        }
        .modal-content::-webkit-scrollbar-thumb {
            background: rgba(0, 212, 255, 0.5);
            border-radius: 3px;
        }
        .modal-content::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 212, 255, 0.8);
        }
        .video-card-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
        }
        .video-card {
            width: 350px;
            height: 250px;
            background: linear-gradient(135deg, #1e3a5f, #0f3460);
            border-radius: 15px;
            border: 1px solid rgba(0, 212, 255, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 10px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            color: #e8e8e8;
            position: relative;
            overflow: hidden;
        }
        .video-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        .video-card:hover::before {
            left: 100%;
        }
        .video-card:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
        }
        .video-card img {
            width: 40px;
            height: 40px;
            margin-bottom: 8px;
            object-fit: cover;
            border-radius: 6px;
        }
        .video-card h3 {
            font-size: clamp(16px, 2.5vw, 18px);
            font-weight: 600;
        }
        .video-player-container {
            max-width: 95%;
            margin: 0 auto;
        }
        .video-player-container iframe {
            width: 100%;
            aspect-ratio: 16 / 9;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .glow-title {
            text-align: center;
            font-size: 2em;
            color: #e8e8e8;
            font-family: 'Verdana', sans-serif;
            text-shadow: 0 0 10px #e8e8e8, 0 0 20px #00d4ff, 0 0 30px #00d4ff;
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from {
                text-shadow: 0 0 5px #e8e8e8, 0 0 10px #00d4ff;
            }
            to {
                text-shadow: 0 0 20px #e8e8e8, 0 0 30px #00d4ff;
            }
        }
        #theoryModal .modal-content p {
            font-size: 18px !important;
            line-height: 1.6;
            word-wrap: break-word;
            overflow-wrap: break-word;
            text-align: justify;
            max-width: 100%;
        }
        #theoryModal .modal-content ul {
            list-style: none;
            padding-left: 20px;
        }
        #theoryModal .modal-content li {
            color: #e8e8e8;
            padding-left: 20px;
            margin-left: 10px;
            max-width: calc(100% - 30px);
            white-space: normal;
            text-align: justify;
            position: relative;
        }
        #theoryModal .modal-content li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #00d4ff;
            font-size: 16px;
        }
        #theoryModal .modal-content img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 10px auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
       #theoryModal .math-notation-centered {
            display: block !important;
            color: #FFFF00 !important;
            text-align: center !important;
            max-width: 100%;
            width: fit-content;
            margin: 10px auto;
            padding: 5px;
            box-sizing: border-box;
        }
        #theoryModal mjx-container {
            color: #FFFF00 !important;
            font-size: clamp(16px, 2.8vw, 18px);
        }
        #theoryModal mjx-container[jax="CHTML"][display="true"] {
            display: block !important;
            text-align: center !important;
            margin: 10px auto !important;
            max-width: 100% !important;
            width: fit-content !important;
            padding: 5px !important;
            box-sizing: border-box !important;
            overflow: visible !important;
        }
        #trainerModal mjx-container {
            font-size: clamp(16px, 2.8vw, 18px);
            color: #FFFF00;
            max-width: 90%;
            width: fit-content;
            margin: 10px auto;
            padding: 5px;
            box-sizing: border-box;
            text-align: center;
        }
        #trainerModal mjx-container[jax="CHTML"][display="true"] {
            font-size: clamp(18px, 3vw, 20px) !important;
            display: block !important;
            text-align: center !important;
            margin: 10px auto !important;
            max-width: 90% !important;
            width: fit-content !important;
            padding: 5px !important;
            box-sizing: border-box !important;
            overflow: visible !important;
        }
        .mathjax-loading::before {
            content: '–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ä–º—É–ª...';
            display: block;
            text-align: center;
            color: #e0e6ed;
            margin: 10px 0;
        }
        #questionsModal mjx-container {
            font-size: clamp(16px, 2.8vw, 18px);
            color: #FFFF00;
            max-width: 90%;
            width: fit-content;
            margin: 5px auto;
            padding: 3px;
            box-sizing: border-box;
            text-align: center;
            overflow: visible !important;
        }
        #questionsModal mjx-container[jax="CHTML"][display="true"] {
            display: block !important;
            text-align: center !important;
            margin: 5px auto !important;
            max-width: 90% !important;
            width: fit-content !important;
            padding: 3px !important;
            box-sizing: border-box !important;
            overflow: visible !important;
        }

        #modalOverlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            transition: opacity 0.25s ease;
            transform: translateZ(0);
        }
        .question-card {
            perspective: 1000px;
            margin: 20px auto;
            max-width: 95%;
            height: 200px;
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: 15px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
            cursor: pointer;
        }
        .card-inner.flipped {
            transform: rotateY(180deg);
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            padding: 12px;
            border-radius: 15px;
            font-size: clamp(16px, 3vw, 18px);
            line-height: 1.5;
            border: 1px solid rgba(0, 212, 255, 0.3);
            font-family: 'Poppins', sans-serif;
            box-sizing: border-box;
        }
        .card-front {
            background: linear-gradient(135deg, #1e3a5f, #0f3460);
            color: #e8e8e8;
            font-weight: 600;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            flex-wrap: wrap;
            overflow-wrap: break-word;
            word-break: break-word;
            padding: 12px 15px;
            max-width: 100%;
        }
        .card-back {
            background: linear-gradient(135deg, #0f3460, #1e3a5f);
            color: #e8e8e8;
            transform: rotateY(180deg);
            overflow-y: auto;
            text-align: justify;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100%;
            word-break: break-word;
            overflow-wrap: break-word;
            padding: 12px 15px;
            max-width: 100%;
            box-sizing: border-box;
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 212, 255, 0.5) transparent;
        }
            .question-text { display: inline-block; max-width: 100%; }
            
        .card-back::-webkit-scrollbar {
            width: 6px;
        }
        .card-back::-webkit-scrollbar-track {
            background: transparent;
        }
        .card-back::-webkit-scrollbar-thumb {
            background: rgba(0, 212, 255, 0.5);
            border-radius: 3px;
        }
        .card-back::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 212, 255, 0.8);
        }
        .question-card .card-front {
            white-space: normal;
            overflow-wrap: break-word;
            word-break: break-word;
            flex-wrap: wrap;
        }
        .card-back p {
            margin: 5px 0;
            font-size: clamp(16px, 3vw, 18px);
            color: #e8e8e8;
            box-sizing: border-box;
            width: 100%;
            text-align: center;
        }
        .card-front span.yellow {
            color: #FFFF00;
            font-weight: 600;
            display: inline;
            margin-right: 0.1em;
        }
        .trainer-container {
            width: 95%;
            max-width: 900px;
            padding: 4vw 5vw;
            text-align: center;
            background: linear-gradient(135deg, #1e3a5f, #0f3460);
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 212, 255, 0.3);
            box-sizing: border-box;
            margin: auto;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(0, 212, 255, 0.5) transparent;
                                        will-change: scroll-position; /* –û–ø—Ç–∏–º—ñ–∑—É—î —Å–∫—Ä–æ–ª, –∑–º–µ–Ω—à—É—î flicker */
        }
        .trainer-container::-webkit-scrollbar {
            width: 6px;
        }
        .trainer-container::-webkit-scrollbar-track {
            background: transparent;
        }
        .trainer-container::-webkit-scrollbar-thumb {
            background: rgba(0, 212, 255, 0.5);
            border-radius: 3px;
        }
        .trainer-container::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 212, 255, 0.8);
        }
        .trainer-container p {
            font-size: clamp(18px, 3vw, 20px);
            color: #e8e8e8;
            margin: 10px 0;
        }
        .trainer-container .math-notation-centered {
            text-align: center !important;
            margin: 10px 0;
            max-width: 90%;
        }
        .trainer-question {
            font-size: clamp(18px, 3vw, 20px);
            color: #e8e8e8;
            margin-bottom: 15px;
            text-align: center;
        }
        .question-number {
            width: 100px;
            height: 100px;
            line-height: 100px;
            background: linear-gradient(135deg, #00d4ff, #00b3d9);
            color: #0a0a0a;
            border-radius: 50%;
            font-size: clamp(16px, 2.8vw, 18px);
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            text-align: center;
            white-space: nowrap;
        }
      /* –ó–∞–±–µ–∑–ø–µ—á—É—î–º–æ, —â–æ .answer-buttons –∞–¥–∞–ø—Ç—É—î—Ç—å—Å—è –¥–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö –µ–∫—Ä–∞–Ω—ñ–≤ */
.answer-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 12px; /* –ó–±—ñ–ª—å—à–µ–Ω–æ gap –¥–ª—è –∫—Ä–∞—â–æ–≥–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—É */
    justify-content: center;
    margin: 15px 0;
    position: relative; /* –î–æ–¥–∞—î–º–æ –¥–ª—è —è–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É z-index */
    z-index: 10; /* –ù–∏–∂—á–µ #feedback, –∞–ª–µ –≤–∏—â–µ —ñ–Ω—à–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ */
}

/* –û–Ω–æ–≤–ª–µ–Ω—ñ —Å—Ç–∏–ª—ñ –¥–ª—è .answer-btn */
.answer-btn {
    background: #16213e;
    border: 1.5px solid #00d4ff;
    color: #e8e8e8;
    border-radius: 8px;
    padding: 12px 24px; /* –ó–±—ñ–ª—å—à–µ–Ω–æ padding –¥–ª—è –±—ñ–ª—å—à–æ—ó –∑–æ–Ω–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è */
    font-size: clamp(14px, 2.5vw, 16px); /* –ó–º–µ–Ω—à–µ–Ω–æ —Ä–æ–∑–º—ñ—Ä —à—Ä–∏—Ñ—Ç—É –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö */
    cursor: pointer;
    transition: background 0.3s ease, transform 0.2s ease;
    min-width: 80px; /* –ó–º–µ–Ω—à–µ–Ω–æ min-width –¥–ª—è –∫—Ä–∞—â–æ—ó –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—ñ */
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    white-space: nowrap;
    touch-action: manipulation; /* –ó–∞–ª–∏—à–∞—î–º–æ –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è */
    user-select: none; /* –ó–∞–ø–æ–±—ñ–≥–∞—î–º–æ –≤–∏–¥—ñ–ª–µ–Ω–Ω—é —Ç–µ–∫—Å—Ç—É */
    -webkit-user-select: none; /* –î–ª—è iOS Safari */
    -moz-user-select: none;
    -ms-user-select: none;
    z-index: 11; /* –í–∏—â–µ .answer-buttons, –∞–ª–µ –Ω–∏–∂—á–µ #feedback.show */
}

/* –°—Ç–∏–ª—ñ –¥–ª—è .answer-btn:hover */
.answer-btn:hover {
    background: linear-gradient(135deg, #0f3460, #1e3a5f);
    transform: scale(1.05);
}

/* –°—Ç–∏–ª—ñ –¥–ª—è .answer-btn:disabled */
.answer-btn:disabled {
    background: #1e3a5f;
    cursor: not-allowed;
    opacity: 0.6;
}

/* –°—Ç–∏–ª—ñ –¥–ª—è .answer-btn.selected */
.answer-btn.selected {
    background: #00d4ff !important;
    color: #0a0a0a !important;
    border: 2px solid #FFFF00 !important;
}

        .submit-btn {
            background: #0f3460;
            color: #00d4ff;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            font-size: clamp(18px, 2.9vw, 20px);
            cursor: pointer;
            transition: background 0.3s ease, transform 0.2s ease;
            margin: 15px auto;
            display: block;
        }
        .submit-btn:hover {
            background: linear-gradient(135deg, #1e3a5f, #16213e);
            transform: scale(1.05);
        }
        .submit-btn:disabled {
            background: #1e3a5f;
            cursor: not-allowed;
            opacity: 0.6;
            color: #e8e8e8;
        }
        /* –û–Ω–æ–≤–ª–µ–Ω—ñ —Å—Ç–∏–ª—ñ –¥–ª—è #feedback */
#feedback {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    margin: 0;
    padding: 15px 25px;
    max-width: 400px;
    width: 90%;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    font-size: clamp(16px, 2.8vw, 18px);
    font-weight: 600;
    text-align: center;
    opacity: 0;
    transition: opacity 0.4s ease, transform 0.4s ease;
    z-index: 1000; /* –í–∏—â–µ –≤—Å—ñ—Ö –∫–Ω–æ–ø–æ–∫, –∫–æ–ª–∏ –≤–∏–¥–Ω–æ */
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none; /* –í–∏–º–∏–∫–∞—î–º–æ –≤–∑–∞—î–º–æ–¥—ñ—é, –∫–æ–ª–∏ –Ω–µ –≤–∏–¥–Ω–æ */
}

#feedback.show {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.05);
    pointer-events: auto; /* –£–≤—ñ–º–∫–Ω—É—Ç–∏ –≤–∑–∞—î–º–æ–¥—ñ—é, –∫–æ–ª–∏ –≤–∏–¥–Ω–æ */
}

#feedback.correct {
    color: #ffffff;
    background: linear-gradient(135deg, #00ff00, #00cc00);
    border: 2px solid #00b3d9;
    text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
}

#feedback.incorrect {
    color: #ffffff;
    background: linear-gradient(135deg, #ff4757, #cc3333);
    border: 2px solid #ff6b6b;
    text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
}

        #resetTrainerBtn {
            background: #00d4ff;
            color: #0a0a0a;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            font-size: clamp(14px, 2.5vw, 16px);
            cursor: pointer;
            transition: background 0.3s ease;
        }
        #resetTrainerBtn:hover {
            background: #00b3d9;
        }
        .navigation-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin: 40px auto;
            max-width: 1000px;
            padding: 0 20px;
        }
        .nav-button {
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, #16213e, #0f3460);
            color: #00d4ff;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 212, 255, 0.3);
            text-decoration: none;
            transition: all 0.3s ease;
        }
        .nav-button:hover {
            background: linear-gradient(135deg, #0f3460, #1e3a5f);
            color: #e8e8e8;
            text-decoration: none;
            transform: translateY(-2px);
        }
        .nav-button svg {
            margin-right: 8px;
            fill: currentColor;
        }
        details {
            margin: 10px 0;
            padding: 10px;
            border-radius: 10px;
            background: linear-gradient(135deg, #1e3a5f, #0f3460);
            cursor: pointer;
            border: 1px solid rgba(0, 212, 255, 0.3);
            transition: all 0.3s ease;
        }
        details:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }
        summary {
            font-weight: 600;
            padding: 10px;
            background: linear-gradient(90deg, #0f3460, #1e3a5f);
            border-radius: 10px;
            color: #00d4ff;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
            transition: background 0.3s ease;
        }
        summary:hover {
            background: linear-gradient(90deg, #1e3a5f, #16213e);
        }
        details p {
            padding: 0 20px 10px;
            color: #e8e8e8;
        }
        .solution {
            color: #F4A261 !important;
            font-weight: bold;
        }
        .example-title {
            color: #F4A261 !important;
            font-weight: bold;
        }
        .example-condition {
            color: #e8e8e8 !important;
        }
        .completion-emoji {
            width: clamp(80px, 15vw, 120px);
            height: clamp(80px, 15vw, 120px);
            margin: 0 auto 3vw;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
            border: 2px dashed #00d4ff;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .completion-emoji::after {
            content: 'üéâ';
            font-size: clamp(40px, 8vw, 60px);
            color: #ffff00;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
        }
        #completionScreen {
            z-index: 10;
            width: 100%;
            max-width: 90%;
            margin: 20px auto;
            text-align: center;
            position: relative;
        }
        .completion-message {
            text-align: center;
            padding: 20px;
            background: #16213e;
            border-radius: 15px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(0, 212, 255, 0.3);
            max-width: 90%;
            margin: 20px auto;
        }
        .completion-message h2 {
            font-size: clamp(20px, 3.5vw, 24px);
            color: #e6e6e6;
            margin-bottom: 10px;
        }
        .completion-message p {
            font-size: clamp(18px, 3vw, 20px);
            color: #FFFF00;
        }
        .completion-message button {
            margin-top: 20px;
            background: #00d4ff;
            color: #0a0a0a;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            font-size: clamp(14px, 2.5vw, 16px);
            cursor: pointer;
            transition: background 0.3s ease;
        }
        .completion-message button:hover {
            background: #00b3d9;
        }
        .hidden {
            display: none !important;
        }
            .modal {
   overflow: hidden; /* –ë–ª–æ–∫—É—î —Å–∫—Ä–æ–ª –ø—ñ–¥ —á–∞—Å transition */
    will-change: opacity, transform;
}
.modal.hide {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.95);
    visibility: hidden; /* –î–æ–¥–∞–ª–∏: –ø–ª–∞–≤–Ω—ñ—à–µ, –Ω—ñ–∂ display:none */
}
            .modal.show {
    visibility: visible; /* –ó–∞–±–µ–∑–ø–µ—á—É—î –ø–ª–∞–≤–Ω—ñ—Å—Ç—å */
}
       .trainer-container {
    width: 95%;
    max-width: 900px;
    padding: 4vw 5vw;
    text-align: center;
    background: linear-gradient(135deg, #1e3a5f, #0f3460);
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(0, 212, 255, 0.3);
    box-sizing: border-box;
    margin: auto;
    position: relative; /* –î–æ–¥–∞—î–º–æ –¥–ª—è –ø–æ–∑–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è #feedback */
    min-height: 400px; /* –ó–∞–±–µ–∑–ø–µ—á—É—î–º–æ –¥–æ—Å—Ç–∞—Ç–Ω—é –≤–∏—Å–æ—Ç—É */
    overflow-y: auto; /* –ó–∞–ª–∏—à–∞—î–º–æ —Å–∫—Ä–æ–ª, –∞–ª–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏–º–æ, —â–æ –≤—ñ–Ω –Ω–µ –æ–±—Ä—ñ–∑–∞—î */
    scrollbar-width: thin;
    scrollbar-color: rgba(0, 212, 255, 0.5) transparent;
}
           
        @media (max-width: 768px) {
            .title-box {
                margin-top: 40px;
                padding: 15px 20px;
            }
            .title-box h1 {
                font-size: 24px;
            }
            .section-container {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }
            .section {
                width: 80%;
                height: 180px;
            }
            .modal-content {
                padding: 15px;
                max-height: calc(100dvh - 60px);
                overflow-x: auto;
            }
            .video-card {
                width: 260px;
                height: 160px;
            }
            #theoryModal .modal-content p, #theoryModal .modal-content li {
                font-size: 18px !important;
                line-height: 1.7;
            }
            #theoryModal mjx-container, #theoryModal .math-notation-centered {
                font-size: clamp(18px, 3vw, 20px) !important;
            }
            #trainerModal mjx-container, #questionsModal mjx-container {
                font-size: clamp(18px, 3vw, 20px) !important;
            }
            .question-card {
                height: 220px;
                max-width: 90%;
            }
            .card-front {
                font-size: clamp(16px, 2.9vw, 18px);
                padding: 10px 12px;
                overflow-wrap: break-word;
                word-break: break-word;
            }
            .card-back {
                padding: 10px 12px;
                font-size: clamp(16px, 2.9vw, 18px);
                justify-content: center;
                align-items: center;
                overflow-y: auto;
            }
            #questionsModal mjx-container {
                font-size: clamp(16px, 3.2vw, 18px) !important;
                max-width: 100%;
                margin: 5px auto;
                padding: 5px;
                overflow: visible !important;
            }
            #questionsModal mjx-container[jax="CHTML"][display="true"] {
                font-size: clamp(16px, 3.2vw, 18px) !important;
                max-width: 100%;
                margin: 5px auto;
                padding: 5px;
                overflow: visible !important;
                text-align: center;
            }
            .card-back p {
                font-size: clamp(16px, 2.9vw, 18px);
                margin: 5px 0;
                text-align: center;
            }
            .trainer-container {
                padding: 4vw 5vw;
                width: 95%;
                max-width: 800px;
            }
            .trainer-container p, .trainer-question {
                font-size: clamp(16px, 2.8vw, 18px);
            }
            .question-number {
                width: 80px;
                height: 80px;
                line-height: 80px;
                font-size: clamp(14px, 2.5vw, 16px);
            }
            .answer-btn, .submit-btn, #resetTrainerBtn {
                font-size: clamp(16px, 3vw, 18px);
                padding: 8px 15px;
                min-width: 100px;
            }
            .completion-emoji {
                width: clamp(60px, 12vw, 100px);
                height: clamp(60px, 12vw, 100px);
            }
            .completion-emoji::after {
                font-size: clamp(30px, 6vw, 50px);
            }
            .completion-message h2 {
                font-size: clamp(18px, 3vw, 20px);
            }
            .completion-message p {
                font-size: clamp(16px, 2.8vw, 18px);
            }
            .completion-message button {
                font-size: clamp(12px, 2.3vw, 14px);
                padding: 8px 16px;
            }
            .navigation-buttons {
                margin: 22px auto;
                gap: 16px;
            }
            .nav-button {
                font-size: 18px;
                padding: 8px 18px;
            }
            .trainer-question {
                font-size: clamp(16px, 2.8vw, 18px);
            }
            .submit-btn {
                font-size: clamp(16px, 3vw, 18px);
                padding: 12px 24px;
                min-width: 120px;
                border-radius: 10px;
            }

             .answer-buttons {
        gap: 10px; /* –ú–µ–Ω—à–∏–π gap –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—ñ */
    }
    .answer-btn {
        padding: 10px 20px; /* –ó–º–µ–Ω—à–µ–Ω–æ padding */
        font-size: clamp(13px, 2.4vw, 15px); /* –©–µ –º–µ–Ω—à–∏–π —à—Ä–∏—Ñ—Ç */
        min-width: 70px; /* –©–µ –º–µ–Ω—à–∏–π min-width */
    }
    #feedback {
        font-size: clamp(14px, 2.6vw, 16px);
        padding: 10px 15px;
        max-width: 300px;
    }
            .section-container {
        overflow: hidden; /* –ü–æ—Å–∏–ª—é—î —Ñ—ñ–∫—Å —Å–∫—Ä–æ–ª—É */
    }
    .section:hover {
        transform: translateY(-4px) scale(1.01); /* –ú–µ–Ω—à–∏–π scale, –º–µ–Ω—à–µ reflow */
    }
        }
        @media (max-width: 480px) {
            .title-box {
                margin-top: 20px;
                padding: 10px 15px;
            }
            .title-box h1 {
                font-size: 22px;
            }
            .section {
                width: 90%;
                height: 150px;
            }
            .section img {
                width: 50px;
                height: 50px;
            }
            .section h2 {
                font-size: 20px;
            }
            .modal-content {
                padding: 10px;
            }
            .video-card {
                width: 260px;
                height: 160px;
            }
            #theoryModal .modal-content p, #theoryModal .modal-content li {
                font-size: 16px !important;
            }
            #theoryModal mjx-container, #theoryModal .math-notation-centered {
                font-size: clamp(16px, 2.8vw, 18px) !important;
            }
            #trainerModal mjx-container, #questionsModal mjx-container {
                font-size: clamp(15px, 2.7vw, 17px) !important;
            }
            .question-card {
                height: 240px;
                max-width: 90%;
            }
            .card-front {
                font-size: clamp(15px, 2.8vw, 17px);
                padding: 8px 10px;
            }
            .card-back {
                padding: 8px 10px;
                font-size: clamp(15px, 2.8vw, 17px);
                justify-content: center;
                align-items: center;
                overflow-y: auto;
            }
            #questionsModal mjx-container {
                font-size: clamp(15px, 2.8vw, 17px) !important;
                max-width: 100%;
                margin: 5px auto;
                padding: 5px;
                overflow: visible !important;
            }
            #questionsModal mjx-container[jax="CHTML"][display="true"] {
                font-size: clamp(15px, 2.8vw, 17px) !important;
                max-width: 100%;
                margin: 5px auto;
                padding: 5px;
                overflow: visible !important;
                text-align: center;
            }
            .card-back p {
                font-size: clamp(15px, 2.8vw, 17px);
                margin: 5px 0;
                text-align: center;
            }
            .trainer-container {
                padding: 5vw 6vw;
                width: 95%;
                max-width: 700px;
            }
            .trainer-container p, .trainer-question {
                font-size: clamp(15px, 2.7vw, 17px);
            }
            .question-number {
                width: 70px;
                height: 70px;
                line-height: 70px;
                font-size: clamp(12px, 2.3vw, 14px);
            }
            .answer-buttons {
        gap: 8px; /* –©–µ –º–µ–Ω—à–∏–π gap */
        flex-direction: column; /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è –¥–ª—è –¥—É–∂–µ –º–∞–ª–µ–Ω—å–∫–∏—Ö –µ–∫—Ä–∞–Ω—ñ–≤ */
        align-items: center;
    }
    .answer-btn {
        padding: 8px 16px;
        font-size: clamp(14px, 2.5vw, 16px);
        min-width: 60px; /* –©–µ –º–µ–Ω—à–∏–π min-width */
        width: 90%; /* –ö–Ω–æ–ø–∫–∏ –∑–∞–π–º–∞—é—Ç—å –±—ñ–ª—å—à–µ —à–∏—Ä–∏–Ω–∏ */
        max-width: 200px; /* –û–±–º–µ–∂—É—î–º–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É —à–∏—Ä–∏–Ω—É */
    }
    #feedback {
        font-size: clamp(14px, 2.4vw, 16px);
        padding: 8px 12px;
        max-width: 250px;
        min-height: 50px;
    }
           
            .completion-emoji {
                width: clamp(50px, 10vw, 80px);
                height: clamp(50px, 10vw, 80px);
            }
            .completion-emoji::after {
                font-size: clamp(25px, 5vw, 40px);
            }
            .completion-message h2 {
                font-size: clamp(16px, 2.8vw, 18px);
            }
            .completion-message p {
                font-size: clamp(14px, 2.6vw, 16px);
            }
            .completion-message button {
                font-size: clamp(12px, 2.3vw, 14px);
                padding: 6px 12px;
            }
            .nav-button {
                font-size: 16px;
                padding: 8px 16px;
            }
            .submit-btn {
                font-size: clamp(15px, 2.8vw, 17px);
                padding: 10px 20px;
                min-width: 100px;
                border-radius: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="title-box">
        <h1>37. –°–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä—ñ–≤ —Ç–∞ –π–æ–≥–æ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ</h1>
    </div>

    <div class="section-container">
        <div class="section" id="openTheoryBtn">
            <img src="https://img.icons8.com/fluency/96/book-shelf.png" alt="–ö–Ω–∏–≥–∞">
            <h2>–¢–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ</h2>
        </div>
        <div class="section" id="openVideoBtn">
            <img src="https://img.icons8.com/fluency/96/video.png" alt="–í—ñ–¥–µ–æ">
            <h2>–í—ñ–¥–µ–æ–º–∞—Ç–µ—Ä—ñ–∞–ª–∏</h2>
        </div>
        <div class="section" id="openQuestionsBtn">
            <img src="https://img.icons8.com/fluency/96/flipboard.png" alt="–ö–∞—Ä—Ç–∫–∏">
            <h2>–ü–∏—Ç–∞–Ω–Ω—è —ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ</h2>
        </div>
        <div class="section" id="openTrainerBtn">
            <img src="https://img.icons8.com/fluency/96/flash-on.png" alt="–¢—Ä–µ–Ω–∞–∂–µ—Ä">
            <h2>–¢—Ä–µ–Ω–∞–∂–µ—Ä</h2>
        </div>
    </div>

    <div class="navigation-buttons">
        <a class="nav-button" href='tema8.html'>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                <path d="M15 18l-6-6l6-6"/>
            </svg>
            –î–æ —Ç–µ–º–∏ 8
        </a>
        <a class="nav-button" href='index.html'>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
            </svg>
            –ù–∞ –≥–æ–ª–æ–≤–Ω—É
        </a>
    </div>

    <div id="modalOverlay"></div>

    <div id="theoryModal" class="modal">
        <div class="modal-header">
            <button class="close-btn" id="closeTheoryBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
        <div class="modal-content">
            <details>
                <summary>–ê–ª–≥–µ–±—Ä–∞—ó—á–Ω–µ –æ–∑–Ω–∞—á–µ–Ω–Ω—è —Å–∫–∞–ª—è—Ä–Ω–æ–≥–æ –¥–æ–±—É—Ç–∫—É</summary>
                <p>–°–∫–∞–ª—è—Ä–Ω–∏–º –¥–æ–±—É—Ç–∫–æ–º –≤–µ–∫—Ç–æ—Ä—ñ–≤ \(\vec{a}(a_x; a_y; a_z)\) —ñ \(\vec{b}(b_x; b_y; b_z)\) –Ω–∞–∑–∏–≤–∞—é—Ç—å —á–∏—Å–ª–æ, —è–∫–µ –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è –∑–∞ —Ñ–æ—Ä–º—É–ª–æ—é:</p>
                <p class="math-notation-centered">\[
                    \vec{a} \cdot \vec{b} = a_x b_x + a_y b_y + a_z b_z. \quad (8.1)
                \]</p>
                <p>–ü–æ–∑–Ω–∞—á–∞—é—Ç—å —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ \( ¬´\cdot¬ª \), –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, \(\vec{a} \cdot \vec{b}\) –∞–±–æ –ø—Ä–æ—Å—Ç–æ \(\vec{a} \vec{b}\).</p>
                <p>–û—Ç–∂–µ, <span style="font-style: italic; color: #fb607f;">
—Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –¥–≤–æ—Ö –≤–µ–∫—Ç–æ—Ä—ñ–≤ –¥–æ—Ä—ñ–≤–Ω—é—î —Å—É–º—ñ –¥–æ–±—É—Ç–∫—ñ–≤ —ó—Ö–Ω—ñ—Ö –æ–¥–Ω–æ–π–º–µ–Ω–Ω–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.
</span></p>

                <p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 8.1.</span> <span class="example-condition">–ó–Ω–∞–π—Ç–∏ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä—ñ–≤ \(\vec{a}(-4;1;3)\) —Ç–∞ \(\vec{b}(2;6;5)\).</span></p>
                <p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
                <p>–ó–∞ —Ñ–æ—Ä–º—É–ª–æ—é (8.1):</p>
                <p>\[
                    \vec{a} \cdot \vec{b} = -4 \cdot 2 + 1 \cdot 6 + 3 \cdot 5 = -8 + 6 + 15 = 13.
                \]</p>
                <p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \( 13 \). </p>
                <p><span style="color: #00ffff; font-weight: bold;">–°–∫–∞–ª—è—Ä–Ω–∏–π –∫–≤–∞–¥—Ä–∞—Ç –≤–µ–∫—Ç–æ—Ä–∞.</span> 
–†–æ–∑–≥–ª—è–Ω–µ–º–æ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä–∞ –Ω–∞ —Å–∞–º–æ–≥–æ —Å–µ–±–µ. –ù–µ—Ö–∞–π –¥–∞–Ω–æ –≤–µ–∫—Ç–æ—Ä \(\vec{a}(a_x; a_y; a_z)\). –¢–æ–¥—ñ:</p>
                <p>\[
                    \vec{a} \cdot \vec{a} = a_x \cdot a_x + a_y \cdot a_y + a_z \cdot a_z = a_x^2 + a_y^2 + a_z^2.
                \]</p>
                <p>–û—Å–∫—ñ–ª—å–∫–∏ \(\sqrt{a_x^2 + a_y^2 + a_z^2} = |\vec{a}|\) —î –¥–æ–≤–∂–∏–Ω–æ—é (–º–æ–¥—É–ª–µ–º) –≤–µ–∫—Ç–æ—Ä–∞ \(\vec{a}\), —Ç–æ:</p>
                <p>\[
                    \vec{a} \cdot \vec{a} = |\vec{a}|^2.
                \]</p>
                <p>–î–æ–±—É—Ç–æ–∫ \(\vec{a} \cdot \vec{a}\) –ø–æ–∑–Ω–∞—á–∞—é—Ç—å —è–∫ \(\vec{a}^2\) —ñ –Ω–∞–∑–∏–≤–∞—é—Ç—å —Å–∫–∞–ª—è—Ä–Ω–∏–º –∫–≤–∞–¥—Ä–∞—Ç–æ–º –≤–µ–∫—Ç–æ—Ä–∞. –¢–∞–∫–∏–º —á–∏–Ω–æ–º, <span style="font-style: italic; color: #fb607f;">—Å–∫–∞–ª—è—Ä–Ω–∏–π –∫–≤–∞–¥—Ä–∞—Ç –≤–µ–∫—Ç–æ—Ä–∞ –¥–æ—Ä—ñ–≤–Ω—é—î –∫–≤–∞–¥—Ä–∞—Ç—É –π–æ–≥–æ –º–æ–¥—É–ª—è:</span></p>
                <p class="math-notation-centered">\[
                    \vec{a}^2 = |\vec{a}|^2. \quad (8.2)
                \]</p>
            </details>


          <details>
    <summary>–ì–µ–æ–º–µ—Ç—Ä–∏—á–Ω–µ –æ–∑–Ω–∞—á–µ–Ω–Ω—è —Å–∫–∞–ª—è—Ä–Ω–æ–≥–æ –¥–æ–±—É—Ç–∫—É</summary>
    <p>–°–∫–∞–ª—è—Ä–Ω–∏–º –¥–æ–±—É—Ç–∫–æ–º –¥–≤–æ—Ö –Ω–µ–Ω—É–ª—å–æ–≤–∏—Ö –≤–µ–∫—Ç–æ—Ä—ñ–≤ \(\vec{a}\) —ñ \(\vec{b}\) –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è —á–∏—Å–ª–æ, —è–∫–µ –¥–æ—Ä—ñ–≤–Ω—é—î –¥–æ–±—É—Ç–∫—É —ó—Ö–Ω—ñ—Ö –¥–æ–≤–∂–∏–Ω (–º–æ–¥—É–ª—ñ–≤) –Ω–∞ –∫–æ—Å–∏–Ω—É—Å –∫—É—Ç–∞ –º—ñ–∂ –Ω–∏–º–∏ (—Ä–∏—Å. 8.1):</p>

    <p class="math-notation-centered">\[
        \vec{a} \cdot \vec{b} = |\vec{a}| \cdot |\vec{b}| \cos \varphi, \quad (8.3)
    \]</p>

    <p>–¥–µ \(\varphi\) ‚Äì –∫—É—Ç –º—ñ–∂ –≤–µ–∫—Ç–æ—Ä–∞–º–∏ \(\vec{a}\) —ñ \(\vec{b}\) (\(\varphi = \angle \vec{a}, \vec{b}\)).</p>

    <p style="text-align: center;">
        <img src="static/figure8.1.jpg" alt="–†–∏—Å. 8.1" class="figure figure-8-1">
    </p>

    <p>–Ø–∫—â–æ —Ö–æ—á–∞ –± –æ–¥–∏–Ω —ñ–∑ –≤–µ–∫—Ç–æ—Ä—ñ–≤ <span style="font-style: italic; color: #fb607f;">–Ω—É–ª—å–æ–≤–∏–π </span>  (\(\vec{a} = 0\) –∞–±–æ \(\vec{b} = 0\)), —Ç–æ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –¥–æ—Ä—ñ–≤–Ω—é—î –Ω—É–ª—é.</p>

    <p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 8.2.</span>
        <span class="example-condition">–ó–Ω–∞–π—Ç–∏ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä—ñ–≤ \(\vec{a}\) —ñ \(\vec{b}\), —è–∫—â–æ \(|\vec{a}| = 2\), \(|\vec{b}| = 5\), \(\angle(\vec{a}; \vec{b}) = \pi/6\).</span>
    </p>

    <p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
    <p>–í–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ —Ñ–æ—Ä–º—É–ª—É (8.3):</p>

    <p>\[
        \vec{a} \cdot \vec{b} = |\vec{a}| \cdot |\vec{b}| \cos \varphi = 2 \cdot 5 \cdot \cos \frac{\pi}{6} = 10 \cdot \frac{\sqrt{3}}{2} = 5\sqrt{3}.
    \]</p>

    <p><em><span style="font-style: italic; color: #ff9900;">–ü—Ä–∏–º—ñ—Ç–∫–∞.</em></span> –ó–Ω–∞—á–µ–Ω–Ω—è \(\cos \pi/6 = \sqrt{3}/2\) –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –≤ —Ç—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—á–Ω—ñ–π —Ç–∞–±–ª–∏—Ü—ñ. –ó –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ—ó —Ç–æ—á–∫–∏ –∑–æ—Ä—É, —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ —î –±–µ–∑—Ä–æ–∑–º—ñ—Ä–Ω–∏–º —á–∏—Å–ª–æ–º (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, \(5\sqrt{3}\)). –û–¥–Ω–∞–∫ —É —Ñ—ñ–∑–∏—á–Ω–∏—Ö –∑–∞–¥–∞—á–∞—Ö –≤—ñ–Ω –Ω–∞–±—É–≤–∞—î –∑–º—ñ—Å—Ç—É –π –æ–¥–∏–Ω–∏—Ü—å –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —É –∑–∞–¥–∞—á—ñ –ø—Ä–æ —Ä–æ–±–æ—Ç—É —Å–∏–ª–∏ (\(A = \vec{F} \cdot \vec{s}\)) —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–∏—Å—É—é—Ç—å —É –¥–∂–æ—É–ª—è—Ö, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, \(5\sqrt{3}\) –î–∂. –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ —Ü–µ ‚Äì —É –ø—ñ–¥—Ä—É—á–Ω–∏–∫–∞—Ö —ñ–∑ —Ñ—ñ–∑–∏–∫–∏.</p>

    <p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \(5\sqrt{3}\).</p>
</details>


           <details>
    <summary>–í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ —Å–∫–∞–ª—è—Ä–Ω–æ–≥–æ –¥–æ–±—É—Ç–∫—É</summary>

    <p>–°–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä—ñ–≤ –º–∞—î <strong>–∞–ª–≥–µ–±—Ä–∞—ó—á–Ω—ñ</strong> —Ç–∞ <strong>–≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω—ñ</strong> –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ, —è–∫—ñ —Ä–æ–±–ª—è—Ç—å –π–æ–≥–æ –ø–æ—Ç—É–∂–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è —Ä–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è –∑–∞–¥–∞—á.</p>

    <p style="text-align:center;">
    <span style="color:#00ffff; font-weight:bold;">–ê–ª–≥–µ–±—Ä–∞—ó—á–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:</span>
</p>

    <ol>
        <li><strong>–ö–æ–º—É—Ç–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å.</strong> –ó–º—ñ–Ω–∞ –ø–æ—Ä—è–¥–∫—É –≤–µ–∫—Ç–æ—Ä—ñ–≤ –Ω–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:<br>
        \[
        \vec{a} \cdot \vec{b} = \vec{b} \cdot \vec{a}.
        \]</li>

        <li><strong>–õ—ñ–Ω—ñ–π–Ω—ñ—Å—Ç—å (–∑–∞ –º–Ω–æ–∂–Ω–∏–∫–æ–º).</strong> –Ø–∫—â–æ –æ–¥–∏–Ω —ñ–∑ –≤–µ–∫—Ç–æ—Ä—ñ–≤ –ø–æ–º–Ω–æ–∂–∏—Ç–∏ –Ω–∞ —á–∏—Å–ª–æ \(\lambda\), —Ç–æ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π–Ω–æ –∑–º—ñ–Ω—é—î—Ç—å—Å—è:<br>
        \[
        (\lambda \vec{a}) \cdot \vec{b} = \lambda (\vec{a} \cdot \vec{b}),
        \]
        –¥–µ \(\lambda\) ‚Äì –¥–æ–≤—ñ–ª—å–Ω–µ –¥—ñ–π—Å–Ω–µ —á–∏—Å–ª–æ.
        </li>

        <li><strong>–î–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–Ω—ñ—Å—Ç—å (—Ä–æ–∑–ø–æ–¥—ñ–ª—å–Ω–∏–π –∑–∞–∫–æ–Ω).</strong> –°–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ —Ä–æ–∑–ø–æ–¥—ñ–ª—è—î—Ç—å—Å—è –∑–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º –≤–µ–∫—Ç–æ—Ä—ñ–≤:<br>
        \[
        \vec{a} \cdot (\vec{b} + \vec{c}) = \vec{a} \cdot \vec{b} + \vec{a} \cdot \vec{c}.
        \]
        </li>
    </ol>

   <p style="text-align:center;">
    <span style="color:#00ffff; font-weight:bold;">–ì–µ–æ–º–µ—Ç—Ä–∏—á–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:</span>
</p>

    <ol>
        <li><strong>–ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –≤—ñ–¥ –∫—É—Ç–∞.</strong> –°–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä—ñ–≤ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∫—É—Ç–∞ \(\varphi\) –º—ñ–∂ –Ω–∏–º–∏ (–∑–≥—ñ–¥–Ω–æ –∑ —Ñ–æ—Ä–º—É–ª–æ—é):<br>
        \[
        \vec{a} \cdot \vec{b} = |\vec{a}| \cdot |\vec{b}| \cos \varphi.
        \]
        –Ø–∫—â–æ \(\varphi\) –≥–æ—Å—Ç—Ä–∏–π (\(0 < \varphi < 90^\circ\)), —Ç–æ \(\vec{a} \cdot \vec{b} > 0\);  
        —è–∫—â–æ \(\varphi\) —Ç—É–ø–∏–π (\(90^\circ < \varphi < 180^\circ\)), —Ç–æ \(\vec{a} \cdot \vec{b} < 0\).
        </li>

        <li><strong>–ü–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω—ñ—Å—Ç—å.</strong> –î–ª—è –±—É–¥—å-—è–∫–∏—Ö –¥–≤–æ—Ö –Ω–µ–Ω—É–ª—å–æ–≤–∏—Ö –≤–µ–∫—Ç–æ—Ä—ñ–≤ —ó—Ö–Ω—ñ–π —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –¥–æ—Ä—ñ–≤–Ω—é—î –Ω—É–ª—é —Ç–æ–¥—ñ –π —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –≤–æ–Ω–∏ –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω—ñ:<br>
        \[
        \vec{a} \cdot \vec{b} = 0 \iff \vec{a} \perp \vec{b}.
        \]
        </li>

        <li><strong>–°–∫–∞–ª—è—Ä–Ω–∏–π –∫–≤–∞–¥—Ä–∞—Ç.</strong> –°–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä–∞ —Å–∞–º–æ–≥–æ –Ω–∞ —Å–µ–±–µ –¥–æ—Ä—ñ–≤–Ω—é—î –∫–≤–∞–¥—Ä–∞—Ç—É –π–æ–≥–æ –¥–æ–≤–∂–∏–Ω–∏ (–º–æ–¥—É–ª—è):<br>
        \[
        \vec{a} \cdot \vec{a} = |\vec{a}|^2.
        \]
        –ó–≤—ñ–¥—Å–∏ –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –¥–æ–≤–∂–∏–Ω—É –≤–µ–∫—Ç–æ—Ä–∞:<br>
        \[
        |\vec{a}| = \sqrt{\vec{a} \cdot \vec{a}} = \sqrt{\vec{a}^2}.
        \]
        </li>
    </ol>
</details>

            <details>
    <summary>–û–±—á–∏—Å–ª–µ–Ω–Ω—è –∫—É—Ç–∞ –º—ñ–∂ –¥–≤–æ–º–∞ –≤–µ–∫—Ç–æ—Ä–∞–º–∏</summary>
    <p>–ó–∞ –æ–∑–Ω–∞—á–µ–Ω–Ω—è–º —Å–∫–∞–ª—è—Ä–Ω–æ–≥–æ –¥–æ–±—É—Ç–∫—É \(\vec{a} \cdot \vec{b} = |\vec{a}| \cdot |\vec{b}| \cos \varphi\), –¥–µ \(\varphi\) ‚Äì –∫—É—Ç –º—ñ–∂ –≤–µ–∫—Ç–æ—Ä–∞–º–∏ \(\vec{a}\) —ñ \(\vec{b}\). –Ø–∫—â–æ \(\vec{a} \neq 0\) —ñ \(\vec{b} \neq 0\), —Ç–æ –∫–æ—Å–∏–Ω—É—Å –∫—É—Ç–∞ –º–æ–∂–Ω–∞ –≤–∏—Ä–∞–∑–∏—Ç–∏ —è–∫:</p>
    <p class="math-notation-centered">\[
        \cos \varphi = \frac{\vec{a} \cdot \vec{b}}{|\vec{a}| \cdot |\vec{b}|}. \quad (8.4)
    \]</p>
    <p>–û—Ç–∂–µ, <span style="font-style: italic; color: #fb607f;">–∫–æ—Å–∏–Ω—É—Å –∫—É—Ç–∞ –º—ñ–∂ –Ω–µ–Ω—É–ª—å–æ–≤–∏–º–∏ –≤–µ–∫—Ç–æ—Ä–∞–º–∏ \(\vec{a}\) —ñ \(\vec{b}\) –¥–æ—Ä—ñ–≤–Ω—é—î —ó—Ö–Ω—å–æ–º—É —Å–∫–∞–ª—è—Ä–Ω–æ–º—É –¥–æ–±—É—Ç–∫—É, –ø–æ–¥—ñ–ª–µ–Ω–æ–º—É –Ω–∞ –¥–æ–±—É—Ç–æ–∫ —ó—Ö–Ω—ñ—Ö –¥–æ–≤–∂–∏–Ω.</span></p>
  <p><span style="color: #00ffff; font-weight: bold;">–§–æ—Ä–º—É–ª–∞ –¥–ª—è –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –∫–æ—Å–∏–Ω—É—Å–∞ –∫—É—Ç–∞ —É –¥–µ–∫–∞—Ä—Ç–æ–≤—ñ–π —Å–∏—Å—Ç–µ–º—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.</span> <em>–£ —Ç—Ä–∏–≤–∏–º—ñ—Ä–Ω–æ–º—É –ø—Ä–æ—Å—Ç–æ—Ä—ñ.</em> –ù–µ—Ö–∞–π —É —Ç—Ä–∏–≤–∏–º—ñ—Ä–Ω—ñ–π –ø—Ä—è–º–æ–∫—É—Ç–Ω—ñ–π –¥–µ–∫–∞—Ä—Ç–æ–≤—ñ–π —Å–∏—Å—Ç–µ–º—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∑–∞–¥–∞–Ω–æ –≤–µ–∫—Ç–æ—Ä–∏:</p>

<p>\[
\vec{a} = (a_x; a_y; a_z), \quad \vec{b} = (b_x; b_y; b_z).
\]</p>

<p>–¢–æ–¥—ñ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –º—ñ–∂ —Ü–∏–º–∏ –≤–µ–∫—Ç–æ—Ä–∞–º–∏</p>
<p>\[
\vec{a} \cdot \vec{b} = a_x b_x + a_y b_y + a_z b_z,
\]</p>

<p>–¥–æ–≤–∂–∏–Ω–∏ –≤–µ–∫—Ç–æ—Ä—ñ–≤ –æ–±—á–∏—Å–ª—é—é—Ç—å—Å—è —è–∫</p>
<p>\[
|\vec{a}| = \sqrt{a_x^2 + a_y^2 + a_z^2}, \quad |\vec{b}| = \sqrt{b_x^2 + b_y^2 + b_z^2}.
\]</p>

<p>–ó–≥—ñ–¥–Ω–æ –∑ —Ñ–æ—Ä–º—É–ª–æ—é (8.4), –∫–æ—Å–∏–Ω—É—Å –∫—É—Ç–∞ \(\varphi = \angle (\vec{a}; \vec{b})\) –º—ñ–∂ –≤–µ–∫—Ç–æ—Ä–∞–º–∏ –º–æ–∂–Ω–∞ –æ–±—á–∏—Å–ª–∏—Ç–∏ —Ç–∞–∫:</p>

<p class="math-notation-centered">\[
\cos \varphi = \frac{a_x b_x + a_y b_y + a_z b_z}{\sqrt{a_x^2 + a_y^2 + a_z^2} \cdot \sqrt{b_x^2 + b_y^2 + b_z^2}}. \quad (8.5)
\]</p>

<p>–¶—è —Ñ–æ—Ä–º—É–ª–∞ –¥–æ–∑–≤–æ–ª—è—î –∑—Ä—É—á–Ω–æ –æ–±—á–∏—Å–ª—é–≤–∞—Ç–∏ –∫–æ—Å–∏–Ω—É—Å –∫—É—Ç–∞ –º—ñ–∂ –≤–µ–∫—Ç–æ—Ä–∞–º–∏ —É —Ç—Ä–∏–≤–∏–º—ñ—Ä–Ω–æ–º—É –ø—Ä–æ—Å—Ç–æ—Ä—ñ –∑–∞ —ó—Ö–Ω—ñ–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏.</p>

<p><em>–ù–∞ –ø–ª–æ—â–∏–Ω—ñ.</em> –Ø–∫—â–æ –≤–µ–∫—Ç–æ—Ä–∏ \(\vec{a} = (a_x; a_y)\) —ñ \(\vec{b} = (b_x; b_y)\) –∑–∞–¥–∞–Ω–æ –≤ –¥–≤–æ–≤–∏–º—ñ—Ä–Ω—ñ–π –ø—Ä—è–º–æ–∫—É—Ç–Ω—ñ–π –¥–µ–∫–∞—Ä—Ç–æ–≤—ñ–π —Å–∏—Å—Ç–µ–º—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, —Ç–æ –∫–æ—Å–∏–Ω—É—Å –∫—É—Ç–∞ \(\varphi = \angle (\vec{a}; \vec{b})\) –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è —Ç–∞–∫:</p>

<p class="math-notation-centered">\[
\cos \varphi = \frac{a_x b_x + a_y b_y}{\sqrt{a_x^2 + a_y^2} \cdot \sqrt{b_x^2 + b_y^2}}. \quad (8.6)
\]</p>

<p><em><span style="font-style: italic; color: #ff9900;">–ü—Ä–∏–º—ñ—Ç–∫–∞.</span></em> –©–æ–± –∑–Ω–∞–π—Ç–∏ –º—ñ—Ä—É –∫—É—Ç–∞ \(\varphi\), –º–æ–∂–Ω–∞ —Å–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏—Å—è —Ñ—É–Ω–∫—Ü—ñ—î—é –∞—Ä–∫–∫–æ—Å–∏–Ω—É—Å–∞ (\(\varphi = \arccos(\cos \varphi)\)) –∞–±–æ —Ç–∞–±–ª–∏—Ü—è–º–∏ –∑–Ω–∞—á–µ–Ω—å –∫–æ—Å–∏–Ω—É—Å—ñ–≤.</p>

    <p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 8.3.</span> <span class="example-condition">–î–∞–Ω–æ –¥–≤–∞ –≤–µ–∫—Ç–æ—Ä–∏ \(\vec{a} = (1;1;0)\) —ñ \(\vec{b} = (1;0;1)\). –ó–Ω–∞–π—Ç–∏ –∫—É—Ç –º—ñ–∂ –Ω–∏–º–∏.</span></p>
    <p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
    <p> –í–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ —Ñ–æ—Ä–º—É–ª—É –¥–ª—è –∫–æ—Å–∏–Ω—É—Å–∞ –∫—É—Ç–∞ –º—ñ–∂ –≤–µ–∫—Ç–æ—Ä–∞–º–∏ (8.4) –∞–±–æ –º–æ–∂–Ω–∞ —Å–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏—Å—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ —Ñ–æ—Ä–º—É–ª–æ—é (8.5):</p>
    <p>\[
        \cos \varphi = \frac{\vec{a} \cdot \vec{b}}{|\vec{a}| \cdot |\vec{b}|}.
    \]</p>
    <p>–ó–Ω–∞–π–¥–µ–º–æ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä—ñ–≤:</p>
    <p>\[
        \vec{a} \cdot \vec{b} = 1 \cdot 1 + 1 \cdot 0 + 0 \cdot 1 = 1.
    \]</p>
    <p>–û–±—á–∏—Å–ª–∏–º–æ –¥–æ–≤–∂–∏–Ω–∏ –≤–µ–∫—Ç–æ—Ä—ñ–≤:</p>
    <p>\[
        |\vec{a}| = \sqrt{1^2 + 1^2 + 0^2} = \sqrt{2}, \quad |\vec{b}| = \sqrt{1^2 + 0^2 + 1^2} = \sqrt{2}.
    \]</p>
    <p>–ü—ñ–¥—Å—Ç–∞–≤–∏–º–æ —É —Ñ–æ—Ä–º—É–ª—É:</p>
    <p>\[
        \cos \varphi = \frac{\vec{a} \cdot \vec{b}}{|\vec{a}| \cdot |\vec{b}|} = \frac{1}{\sqrt{2} \cdot \sqrt{2}} = \frac{1}{2}.
    \]</p>
    <p>–ó–Ω–∞—Ö–æ–¥–∏–º–æ –∫—É—Ç –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∞—Ä–∫–∫–æ—Å–∏–Ω—É—Å–∞:</p>
    <p>\[
        \varphi = \arccos \frac{1}{2} = \frac{\pi}{3}.
    \]</p>
    <p>–û—Å–∫—ñ–ª—å–∫–∏ \(\frac{\pi}{3}\) —Ä–∞–¥—ñ–∞–Ω –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î \(60^\circ\), –º–æ–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å —ñ –≤ –≥—Ä–∞–¥—É—Å–∞—Ö:</p>
    <p>\[
        \varphi = 60^\circ.
    \]</p>
    <p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \(60^\circ\). </p>

    <p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 8.4.</span> <span class="example-condition">–ó–Ω–∞–π—Ç–∏ –∫—É—Ç –º—ñ–∂ –≤–µ–∫—Ç–æ—Ä–∞–º–∏ \(\vec{a} = 2\vec{i} - \vec{j} + \vec{k}\), \(\vec{b} = -\vec{i} + \vec{j}\).</span></p>
    <p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
    <p> –ó–∞–ø–∏—à–µ–º–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –≤–µ–∫—Ç–æ—Ä—ñ–≤ —É –≤–∏–≥–ª—è–¥—ñ:</p>
    <p>\[
        \vec{a} = (2; -1; 1), \quad \vec{b} = (-1; 1; 0).
    \]</p>
    <p>–í–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ —Ñ–æ—Ä–º—É–ª—É –¥–ª—è –∫–æ—Å–∏–Ω—É—Å–∞ –∫—É—Ç–∞ –º—ñ–∂ –≤–µ–∫—Ç–æ—Ä–∞–º–∏ (8.4):</p>
    <p>\[
        \cos \varphi = \frac{\vec{a} \cdot \vec{b}}{|\vec{a}| \cdot |\vec{b}|}.
    \]</p>
    <p>–ó–Ω–∞–π–¥–µ–º–æ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä—ñ–≤:</p>
    <p>\[
        \vec{a} \cdot \vec{b} = 2 \cdot (-1) + (-1) \cdot 1 + 1 \cdot 0 = -3.
    \]</p>
    <p>–û–±—á–∏—Å–ª–∏–º–æ –¥–æ–≤–∂–∏–Ω–∏ –≤–µ–∫—Ç–æ—Ä—ñ–≤:</p>
    <p>\[
        |\vec{a}| = \sqrt{2^2 + (-1)^2 + 1^2} = \sqrt{6}, \quad |\vec{b}| = \sqrt{(-1)^2 + 1^2 + 0^2} = \sqrt{2}.
    \]</p>
    <p>–ü—ñ–¥—Å—Ç–∞–≤–∏–º–æ —É —Ñ–æ—Ä–º—É–ª—É:</p>
    <p>\[
        \cos \varphi = \frac{-3}{\sqrt{6} \cdot \sqrt{2}} = \frac{-3}{2\sqrt{3}} = -\frac{\sqrt{3}}{2}.
    \]</p>
    <p>–ó–Ω–∞—Ö–æ–¥–∏–º–æ –∫—É—Ç –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –æ–±–µ—Ä–Ω–µ–Ω–æ–≥–æ –∫–æ—Å–∏–Ω—É—Å–∞:</p>
    <p>\[
        \varphi = \arccos \left( -\frac{\sqrt{3}}{2} \right) = \pi - \arccos \frac{\sqrt{3}}{2} = \pi - \frac{\pi}{6} = \frac{5\pi}{6}.
    \]</p>
    <p>–£ –≥—Ä–∞–¥—É—Å–∞—Ö \(\varphi = 180^\circ - 30^\circ = 150^\circ\).</p>
    <p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \(150^\circ\). </p>
</details>

          <details>
    <summary>–ü—Ä–æ–µ–∫—Ü—ñ—è –≤–µ–∫—Ç–æ—Ä–∞ –Ω–∞ –≤–µ–∫—Ç–æ—Ä</summary>

    <p>–ü—Ä–æ–µ–∫—Ü—ñ—è –≤–µ–∫—Ç–æ—Ä–∞ <span style="color:#00ffff;">\(\vec{a}\)</span> –Ω–∞ –≤—ñ—Å—å \(l\), –Ω–∞–ø—Ä—è–º–æ–∫ —è–∫–æ—ó –∑–±—ñ–≥–∞—î—Ç—å—Å—è –∑ –Ω–∞–ø—Ä—è–º–æ–º –≤–µ–∫—Ç–æ—Ä–∞ <span style="color:#00ffff;">\(\vec{a}\)</span>, –≤–∏—Ä–∞–∂–∞—î—Ç—å—Å—è —Ñ–æ—Ä–º—É–ª–æ—é:</p>

    <p class="math-notation-centered" style="text-align:center; color:#ffd54f; font-size:17px;">
        \[
        \text{–ø—Ä}_l \vec{a} = |\vec{a}| \cos \varphi,
        \]
    </p>

    <p>–¥–µ <span style="color:#ffcc80;">\(\varphi\)</span> ‚Äì –∫—É—Ç –º—ñ–∂ –≤–µ–∫—Ç–æ—Ä–æ–º <span style="color:#00ffff;">\(\vec{a}\)</span> —ñ –≤—ñ—Å—Å—é \(l\).</p>

    <p>–û—Å–∫—ñ–ª—å–∫–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è —Ä—ñ–≤–Ω–æ—Å—Ç—ñ:</p>

    <p class="math-notation-centered" style="text-align:center;">
        \[
        |\vec{a}| \cos \varphi = \text{–ø—Ä}_{\vec{b}} \vec{a}, \quad 
        |\vec{b}| \cos \varphi = \text{–ø—Ä}_{\vec{a}} \vec{b},
        \]
    </p>

    <p>—Ç–æ, –ø—ñ–¥—Å—Ç–∞–≤–ª—è—é—á–∏ —Ü—ñ –≤–∏—Ä–∞–∑–∏ —É —Ñ–æ—Ä–º—É–ª—É —Å–∫–∞–ª—è—Ä–Ω–æ–≥–æ –¥–æ–±—É—Ç–∫—É 
        \(\vec{a} \cdot \vec{b} = |\vec{a}| \cdot |\vec{b}| \cos \varphi\), 
        –æ—Ç—Ä–∏–º—É—î–º–æ:
    </p>

    <p class="math-notation-centered" style="text-align:center; color:#ffd54f;">
        \[
        \vec{a} \cdot \vec{b} = |\vec{b}| \text{–ø—Ä}_{\vec{b}} \vec{a} = |\vec{a}| \text{–ø—Ä}_{\vec{a}} \vec{b}. \quad (8.7)
        \]
    </p>

    <p style="text-align:center;"><span style="color:#00ffff; font-weight:bold;">–§–æ—Ä–º—É–ª–∏ –¥–ª—è –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ü—ñ–π:</span></p>

    <p>–ü—Ä–æ–µ–∫—Ü—ñ—è –≤–µ–∫—Ç–æ—Ä–∞ \(\vec{a}\) –Ω–∞ –≤–µ–∫—Ç–æ—Ä \(\vec{b}\):</p>
    <p class="math-notation-centered" style="text-align:center;">
        \[
        \text{–ø—Ä}_{\vec{b}} \vec{a} = \frac{\vec{a} \cdot \vec{b}}{|\vec{b}|}. \quad (8.8)
        \]
    </p>

    <p>–ü—Ä–æ–µ–∫—Ü—ñ—è –≤–µ–∫—Ç–æ—Ä–∞ \(\vec{b}\) –Ω–∞ –≤–µ–∫—Ç–æ—Ä \(\vec{a}\):</p>
    <p class="math-notation-centered" style="text-align:center;">
        \[
        \text{–ø—Ä}_{\vec{a}} \vec{b} = \frac{\vec{a} \cdot \vec{b}}{|\vec{a}|}. \quad (8.9)
        \]
    </p>

    <p><span class="example-title" style="color:#ffb74d;">–ü—Ä–∏–∫–ª–∞–¥ 8.5.</span>
    <span class="example-condition">–ó–Ω–∞–π—Ç–∏ –ø—Ä–æ–µ–∫—Ü—ñ—é –≤–µ–∫—Ç–æ—Ä–∞ \(\vec{a} = (0;4;1)\) –Ω–∞ –≤–µ–∫—Ç–æ—Ä \(\vec{b} = (-1;2;7)\).</span></p>

    <p class="solution" style="text-align: center; color:#81d4fa;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>

   <p>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Ñ–æ—Ä–º—É–ª—É –¥–ª—è –ø—Ä–æ–µ–∫—Ü—ñ—ó –≤–µ–∫—Ç–æ—Ä–∞ \(\vec{a}\) –Ω–∞ –≤–µ–∫—Ç–æ—Ä \(\vec{b}\) (8.8), –æ—Ç—Ä–∏–º–∞—î–º–æ:</p>

    <p class="math-notation-centered" style="text-align:center;">
        \[
        \text{–ø—Ä}_{\vec{b}} \vec{a} = \frac{\vec{a} \cdot \vec{b}}{|\vec{b}|} = 
        \frac{0 \cdot (-1) + 4 \cdot 2 + 1 \cdot 7}{\sqrt{(-1)^2 + 2^2 + 7^2}} = 
        \frac{15}{3\sqrt{6}} = \frac{5}{\sqrt{6}}.
        \]
    </p>
    <p><strong style="color:#ffd54f;">–í—ñ–¥–ø–æ–≤—ñ–¥—å:</strong> \(\text{–ø—Ä}_{\vec{b}} \vec{a} = \frac{5}{\sqrt{6}}\).</p>

    <p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 8.6.</span> <span class="example-condition">–¢—Ä–∏–∫—É—Ç–Ω–∏–∫ –∑–∞–¥–∞–Ω–æ —Å–≤–æ—ó–º–∏ –≤–µ—Ä—à–∏–Ω–∞–º–∏ \(A(3;-2;4)\), \(B(1;0;5)\) —ñ \(C(6;4;2)\). –ó–Ω–∞–π—Ç–∏: 1) –≤–µ–ª–∏—á–∏–Ω—É –∫—É—Ç–∞ \(A\); 2) –ø—Ä–æ–µ–∫—Ü—ñ—é —Å—Ç–æ—Ä–æ–Ω–∏ \(AB\) –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—É \(AC\); 3) –ø—Ä–æ–µ–∫—Ü—ñ—é —Å—Ç–æ—Ä–æ–Ω–∏ \(AC\) –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—É \(BC\).</span></p>
                <p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
                <p>1) –†–æ–∑–≥–ª—è–Ω–µ–º–æ —Å—Ö–µ–º–∞—Ç–∏—á–Ω–∏–π —Ä–∏—Å—É–Ω–æ–∫ —Ç—Ä–∏–∫—É—Ç–Ω–∏–∫–∞ \(ABC\) (—Ä–∏—Å. 8.2) —ñ –ø–æ–±—É–¥—É—î–º–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞—Ö \(AB\) —ñ \(AC\) –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –≤–µ–∫—Ç–æ—Ä–∏ \(\overrightarrow{AB}\) —ñ \(\overrightarrow{AC}\) (—Ä–∏—Å. 8.3).</p>
 <img src="static/figure8.2.jpg" alt="–†–∏—Å. 8.2" class="figure figure-8-2">
                <p>–ó–≥—ñ–¥–Ω–æ –∑ —Ñ–æ—Ä–º—É–ª–æ—é (8.4):</p>
                <p>\[
                    \cos \varphi = \frac{\vec{a} \cdot \vec{b}}{|\vec{a}| \cdot |\vec{b}|},
                \]</p>
                <p>–¥–ª—è –∫—É—Ç–∞ \(\angle A\) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –≤–µ–∫—Ç–æ—Ä–∏ \(\overrightarrow{AB}\) —ñ \(\overrightarrow{AC}\):</p>
                <p>\[
                    \cos \angle A = \frac{\overrightarrow{AB} \cdot \overrightarrow{AC}}{|\overrightarrow{AB}| \cdot |\overrightarrow{AC}|}.
                \]</p>
                <p>–°–ø–æ—á–∞—Ç–∫—É –∑–Ω–∞–π–¥–µ–º–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –≤–µ–∫—Ç–æ—Ä—ñ–≤ \(\overrightarrow{AB}\) —ñ \(\overrightarrow{AC}\):</p>
                <p>\[
                    \overrightarrow{AB} = (1-3; 0-(-2); 5-4) = (-2; 2; 1),
                \]</p>
                <p>\[
                    \overrightarrow{AC} = (6-3; 4-(-2); 2-4) = (3; 6; -2).
                \]</p>
                <p>–î–∞–ª—ñ –æ–±—á–∏—Å–ª—é—î–º–æ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫:</p>
                <p>\[
                    \overrightarrow{AB} \cdot \overrightarrow{AC} = (-2) \cdot 3 + 2 \cdot 6 + 1 \cdot (-2) = -6 + 12 - 2 = 4.
                \]</p>
                <p>–Ü –¥–æ–≤–∂–∏–Ω–∏ –≤–µ–∫—Ç–æ—Ä—ñ–≤:</p>
                <p>\[
                    |\overrightarrow{AB}| = \sqrt{(-2)^2 + 2^2 + 1^2} = \sqrt{4 + 4 + 1} = \sqrt{9} = 3,
                \]</p>
                <p>\[
                    \overrightarrow{AC} = \sqrt{3^2 + 6^2 + (-2)^2} = \sqrt{9 + 36 + 4} = \sqrt{49} = 7.
                \]</p>
                <p>–¢–µ–ø–µ—Ä –º–æ–∂–µ–º–æ –∑–Ω–∞–π—Ç–∏ –∫–æ—Å–∏–Ω—É—Å –∫—É—Ç–∞:</p>
                <p>\[
                    \cos \angle A = \frac{4}{3 \cdot 7} = \frac{4}{21}.
                \]</p>
                <p>–ö—É—Ç \(\angle A\):</p>
                <p>\[
                    \angle A = \arccos \frac{4}{21} \approx 79^\circ.
                \]</p>
                <p>2) –î–ª—è –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ü—ñ—ó —Å—Ç–æ—Ä–æ–Ω–∏ \(AB\) –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—É \(AC\) (—Ä–∏—Å. 8.4) —Å–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ—Å—è —Ñ–æ—Ä–º—É–ª–æ—é (8.8):</p>
                <p>\[
                    \text{–ø—Ä}_{\vec{b}} \vec{a} = \frac{\vec{a} \cdot \vec{b}}{|\vec{b}|} = \text{–ø—Ä}_{\overrightarrow{AC}} \overrightarrow{AB} = \frac{\overrightarrow{AB} \cdot \overrightarrow{AC}}{|\overrightarrow{AC}|}.
                \]</p>
                 <img src="static/figure8.4.jpg" alt="–†–∏—Å. 8.4" class="figure figure-8-4">
                <p>–ü—ñ–¥—Å—Ç–∞–≤–ª—è—î–º–æ –∑–Ω–∞–π–¥–µ–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è:</p>
                <p>\[
                    \text{–ø—Ä}_{\overrightarrow{AC}} \overrightarrow{AB} = \frac{4}{7}.
                \]</p>
                <p>3) –î–ª—è –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ü—ñ—ó —Å—Ç–æ—Ä–æ–Ω–∏ \(AC\) –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—É \(BC\) (—Ä–∏—Å. 8.5) —Å–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ—Å—è —Ñ–æ—Ä–º—É–ª–æ—é (8.8):</p>
                <p>\[
                    \text{–ø—Ä}_{\vec{b}} \vec{a} = \frac{\vec{a} \cdot \vec{b}}{|\vec{b}|} = \text{–ø—Ä}_{\overrightarrow{BC}} \overrightarrow{AC} = \frac{\overrightarrow{AC} \cdot \overrightarrow{BC}}{|\overrightarrow{BC}|}.
                \]</p>
                 <img src="static/figure8.5.jpg" alt="–†–∏—Å. 8.5" class="figure figure-8-5">
                <p>–ù–µ–æ–±—Ö—ñ–¥–Ω–æ –∑–Ω–∞–π—Ç–∏ —â–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –≤–µ–∫—Ç–æ—Ä–∞ \(\overrightarrow{BC}\), –∞ —Ç–∞–∫–æ–∂ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä—ñ–≤ \(\overrightarrow{AC}\) —ñ \(\overrightarrow{BC}\) —Ç–∞ –¥–æ–≤–∂–∏–Ω—É –≤–µ–∫—Ç–æ—Ä–∞ \(\overrightarrow{BC}\):</p>
                <p>\[
                    \overrightarrow{BC} = (6-1; 4-0; 2-5) = (5; 4; -3),
                \]</p>
                <p>\[
                    \overrightarrow{AC} \cdot \overrightarrow{BC} = 3 \cdot 5 + 6 \cdot 4 + (-2) \cdot (-3) = 15 + 24 + 6 = 45,
                \]</p>
                <p>\[
                    |\overrightarrow{BC}| = \sqrt{5^2 + 4^2 + (-3)^2} = \sqrt{25 + 16 + 9} = \sqrt{50} = 5\sqrt{2}.
                \]</p>
                <p>–ü—ñ–¥—Å—Ç–∞–≤–ª—è—î–º–æ –∑–Ω–∞–π–¥–µ–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è:</p>
                <p>\[
                    \text{–ø—Ä}_{\overrightarrow{BC}} \overrightarrow{AC} = \frac{45}{5\sqrt{2}} = \frac{9}{\sqrt{2}}.
                \]</p>
                <p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> 1) \(\angle A \approx 79^\circ\); 2) \(\text{–ø—Ä}_{\overrightarrow{AC}} \overrightarrow{AB} = \frac{4}{7}\); 3) \(\text{–ø—Ä}_{\overrightarrow{BC}} \overrightarrow{AC} = \frac{9}{\sqrt{2}}\).</p>



    <p style="text-align:center; color:#ffb300; font-weight:bold;">–†–æ–±–æ—Ç–∞ —Å–∏–ª–∏</p>

   <p>–§–æ—Ä–º—É–ª–∞ –¥–ª—è –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ \(A\), –≤–∏–∫–æ–Ω–∞–Ω–æ—ó —Å—Ç–∞–ª–æ—é —Å–∏–ª–æ—é \(\vec{F}\) –ø—Ä–∏ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª—å–Ω–æ—ó —Ç–æ—á–∫–∏ –Ω–∞ —à–ª—è—Ö—É \(|\vec{s}|\), –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫:</p>
<p class="math-notation-centered">\[
    A = \vec{F} \cdot \vec{s} = |\vec{F}| \cdot |\vec{s}| \cdot \cos \angle (\vec{F}; \vec{s}), \quad (8.10)
\]</p>
<p>–¥–µ \(\vec{F} \cdot \vec{s}\) ‚Äì —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä–∞ —Å–∏–ª–∏ —ñ –≤–µ–∫—Ç–æ—Ä–∞ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è, \(|\vec{F}|\) ‚Äì –≤–µ–ª–∏—á–∏–Ω–∞ —Å–∏–ª–∏, \(|\vec{s}|\) ‚Äì –¥–æ–≤–∂–∏–Ω–∞ —à–ª—è—Ö—É (–≤–µ–∫—Ç–æ—Ä–∞ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è), \(\angle (\vec{F}; \vec{s})\) ‚Äì –∫—É—Ç –º—ñ–∂ –≤–µ–∫—Ç–æ—Ä–æ–º —Å–∏–ª–∏ —ñ –≤–µ–∫—Ç–æ—Ä–æ–º –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è.</p>
<p><em><span style="font-style: italic; color: #ff9900;">–ü—Ä–∏–º—ñ—Ç–∫–∞.</em></span> –ó —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —Ç–æ–≥–æ, —â–æ \(\angle (\vec{F}; \vec{s})\) —î —î–¥–∏–Ω–∏–º –∫—É—Ç–æ–º, —è–∫–∏–π –≤—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è –≤ –æ–±—á–∏—Å–ª–µ–Ω–Ω—ñ —Ä–æ–±–æ—Ç–∏ —Å–∏–ª–∏, —ñ –≤—ñ–Ω –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –ª–∏—à–µ –º—ñ–∂ –¥–≤–æ–º–∞ –≤–µ–∫—Ç–æ—Ä–∞–º–∏: —Å–∏–ª–æ—é —Ç–∞ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è–º. –Ø–∫—â–æ –∂ —î –∫—ñ–ª—å–∫–∞ —Å–∏–ª, —Ç–æ –∫—É—Ç –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –º—ñ–∂ —Ä—ñ–≤–Ω–æ–¥—ñ–π–Ω–æ—é —Å–∏–ª–æ—é —Ç–∞ —à–ª—è—Ö–æ–º.</p>

<p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 8.7.</span> <span class="example-condition">–û–±—á–∏—Å–ª–∏—Ç–∏ —Ä–æ–±–æ—Ç—É —Ä—ñ–≤–Ω–æ–¥—ñ–π–Ω–æ—ó —Å–∏–ª–∏ \(\vec{F}\), —è–∫–∞ —î —Å—É–º–æ—é —Ç—Ä—å–æ—Ö —Å–∏–ª \(\vec{F_1} = (3;-4;5)\), \(\vec{F_2} = (2;1;-4)\), \(\vec{F_3} = (-1;6;2)\), –ø—Ä–∏–∫–ª–∞–¥–µ–Ω–∏—Ö –¥–æ –º–∞—Ç–µ—Ä—ñ–∞–ª—å–Ω–æ—ó —Ç–æ—á–∫–∏, —â–æ –ø–µ—Ä–µ–º—ñ—â–∞—î—Ç—å—Å—è –ø—Ä—è–º–æ–ª—ñ–Ω—ñ–π–Ω–æ –≤—ñ–¥ —Ç–æ—á–∫–∏ \(M_1(4;2;-3)\) –¥–æ —Ç–æ—á–∫–∏ \(M_2(7;4;1)\).</span></p>
<p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
<p> –ó–Ω–∞–π–¥–µ–º–æ —Ä—ñ–≤–Ω–æ–¥—ñ–π–Ω—É —Å–∏–ª—É \(\vec{F}\). –†—ñ–≤–Ω–æ–¥—ñ–π–Ω–∞ —Å–∏–ª–∞ \(\vec{F}\) ‚Äì —Ü–µ –≤–µ–∫—Ç–æ—Ä–Ω–∞ —Å—É–º–∞ –≤—Å—ñ—Ö —Å–∏–ª:</p>
<p>\[
    \vec{F} = \vec{F_1} + \vec{F_2} + \vec{F_3} = (3;-4;5) + (2;1;-4) + (-1;6;2) = (4;3;3).
\]</p>
<p>–ó–Ω–∞–π–¥–µ–º–æ –≤–µ–∫—Ç–æ—Ä –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è \(\vec{s}\). –í–µ–∫—Ç–æ—Ä –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è \(\vec{s}\) ‚Äì —Ü–µ —Ä—ñ–∑–Ω–∏—Ü—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ç–æ—á–æ–∫ \(M_1\) —ñ \(M_2\):</p>
<p>\[
    \vec{s} = \overrightarrow{M_1 M_2} = (7;4;1) - (4;2;-3) = (3;2;4).
\]</p>
<p>–û–±—á–∏—Å–ª–∏–º–æ —Ä–æ–±–æ—Ç—É. –†–æ–±–æ—Ç–∞ \(A\) –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è —è–∫ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ —Ä—ñ–≤–Ω–æ–¥—ñ–π–Ω–æ—ó —Å–∏–ª–∏ \(\vec{F}\) —ñ –≤–µ–∫—Ç–æ—Ä–∞ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è \(\vec{s}\) –ø—Ä—è–º–æ–ª—ñ–Ω—ñ–π–Ω–æ–≥–æ —Ä—É—Ö—É:</p>
<p>\[
    A = \vec{F} \cdot \vec{s}.
\]</p>
<p>–í–∏–∫–æ–Ω—É—î–º–æ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Å–∫–∞–ª—è—Ä–Ω–æ–≥–æ –¥–æ–±—É—Ç–∫—É:</p>
<p>\[
    A = (4;3;3) \cdot (3;2;4) = 4 \cdot 3 + 3 \cdot 2 + 3 \cdot 4 = 12 + 6 + 12 = 30.
\]</p>
<p>–û—Ç–∂–µ, —Ä–æ–±–æ—Ç–∞, –≤–∏–∫–æ–Ω–∞–Ω–∞ —Ä—ñ–≤–Ω–æ–¥—ñ–π–Ω–æ—é —Å–∏–ª–æ—é:</p>
<p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \(A = 30\) –æ–¥–∏–Ω–∏—Ü—å —Ä–æ–±–æ—Ç–∏. </p>


</details>



        </div>
    </div>

    <div id="videoModal" class="modal">
        <div class="modal-header">
            <button class="close-btn" id="closeVideoBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
        <div class="modal-content">
            <h2 class="glow-title">–û–±–µ—Ä—ñ—Ç—å –≤—ñ–¥–µ–æ</h2>
            <div class="video-card-container">
                <div class="video-card" data-video="1">
                    <img src="https://img.icons8.com/?size=100&id=o1CR3NjO7Pv8&format=png&color=000000" alt="–í—ñ–¥–µ–æ–∫–∞–º–µ—Ä–∞">
                    <h3>–°–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä—ñ–≤(–≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏—Ö, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏)</h3>
                </div>
                <div class="video-card" data-video="2">
                    <img src="https://img.icons8.com/?size=100&id=o1CR3NjO7Pv8&format=png&color=000000" alt="–í—ñ–¥–µ–æ–∫–∞–º–µ—Ä–∞">
                    <h3>–°–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä—ñ–≤ —É –ø—Ä–æ—Å—Ç–æ—Ä—ñ(–ø—Ä–∏–∫–ª–∞–¥–∏)</h3>
                </div>
                            </div>
        </div>
    </div>

    <div id="videoPlayerModal1" class="modal">
        <div class="modal-header">
            <button class="close-btn" id="closeVideoPlayerBtn1">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
        <div class="modal-content">
            <div class="video-player-container">
                <iframe id="youtubePlayer1" width="100%" src="https://www.youtube.com/embed/_mWtjasS3QE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <div id="videoPlayerModal2" class="modal">
        <div class="modal-header">
            <button class="close-btn" id="closeVideoPlayerBtn2">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
        <div class="modal-content">
            <div class="video-player-container">
                <iframe id="youtubePlayer2" width="100%" src="https://www.youtube.com/embed/8Ev1wHymWuY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </div>

       <div id="questionsModal" class="modal">
    <div class="modal-header">
        <button class="close-btn" id="closeQuestionsBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
    <div class="modal-content">

        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    1. –©–æ –Ω–∞–∑–∏–≤–∞—é—Ç—å —Å–∫–∞–ª—è—Ä–Ω–∏–º –¥–æ–±—É—Ç–∫–æ–º –¥–≤–æ—Ö –≤–µ–∫—Ç–æ—Ä—ñ–≤?
                </div>
                <div class="card-back">
                    <p>–ß–∏—Å–ª–æ, —è–∫–µ –¥–æ—Ä—ñ–≤–Ω—é—î —Å—É–º—ñ –¥–æ–±—É—Ç–∫—ñ–≤ —ó—Ö–Ω—ñ—Ö –æ–¥–Ω–æ–π–º–µ–Ω–Ω–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:<br>
                    \(\vec{a} \cdot \vec{b} = a_x b_x + a_y b_y + a_z b_z.\)</p>
                </div>
            </div>
        </div>

        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    2. –Ø–∫–µ –ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è –º–∞—î —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫?
                </div>
                <div class="card-back">
                   <p>–ü–æ–∑–Ω–∞—á–∞—é—Ç—å —á–µ—Ä–µ–∑ –∫—Ä–∞–ø–∫—É ¬´\(\cdot\)¬ª: \(\vec{a} \cdot \vec{b}\) –∞–±–æ –ø—Ä–æ—Å—Ç–æ \(ab\).</p>

                </div>
            </div>
        </div>

        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    3. –©–æ —Ç–∞–∫–µ —Å–∫–∞–ª—è—Ä–Ω–∏–π –∫–≤–∞–¥—Ä–∞—Ç –≤–µ–∫—Ç–æ—Ä–∞?
                </div>
                <div class="card-back">
                    <p>–¶–µ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä–∞ —Å–∞–º–æ–≥–æ –Ω–∞ —Å–µ–±–µ:<br>
                    \(\vec{a} \cdot \vec{a} = |\vec{a}|^2.\)</p>
                </div>
            </div>
        </div>

        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    4. –Ø–∫ –æ–±—á–∏—Å–ª–∏—Ç–∏ –º–æ–¥—É–ª—å –≤–µ–∫—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫?
                </div>
                <div class="card-back">
                    <p>\(|\vec{a}| = \sqrt{\vec{a} \cdot \vec{a}} = \sqrt{a^2}.\)</p>
                </div>
            </div>
        </div>

        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    5. –Ø–∫ —Ñ–æ—Ä–º—É–ª—é—î—Ç—å—Å—è –≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω–µ –æ–∑–Ω–∞—á–µ–Ω–Ω—è —Å–∫–∞–ª—è—Ä–Ω–æ–≥–æ –¥–æ–±—É—Ç–∫—É?
                </div>
                <div class="card-back">
                    <p>–°–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –¥–≤–æ—Ö –≤–µ–∫—Ç–æ—Ä—ñ–≤ –¥–æ—Ä—ñ–≤–Ω—é—î –¥–æ–±—É—Ç–∫—É —ó—Ö–Ω—ñ—Ö –¥–æ–≤–∂–∏–Ω –Ω–∞ –∫–æ—Å–∏–Ω—É—Å –∫—É—Ç–∞ –º—ñ–∂ –Ω–∏–º–∏:<br>
                    \(\vec{a} \cdot \vec{b} = |\vec{a}| |\vec{b}| \cos \varphi.\)</p>
                </div>
            </div>
        </div>

        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    6. –ö–æ–ª–∏ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –¥–æ—Ä—ñ–≤–Ω—é—î –Ω—É–ª—é?
                </div>
                <div class="card-back">
                    <p>–ö–æ–ª–∏ —Ö–æ—á–∞ –± –æ–¥–∏–Ω —ñ–∑ –≤–µ–∫—Ç–æ—Ä—ñ–≤ –Ω—É–ª—å–æ–≤–∏–π –∞–±–æ –∫–æ–ª–∏ –≤–µ–∫—Ç–æ—Ä–∏ –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω—ñ.</p>
                </div>
            </div>
        </div>

        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    7. –ù–∞–∑–≤—ñ—Ç—å —Ç—Ä–∏ –∞–ª–≥–µ–±—Ä–∞—ó—á–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ —Å–∫–∞–ª—è—Ä–Ω–æ–≥–æ –¥–æ–±—É—Ç–∫—É.
                </div>
                <div class="card-back">
                    <p>
                        1. –ö–æ–º—É—Ç–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å: \(\vec{a} \cdot \vec{b} = \vec{b} \cdot \vec{a}\)<br>
                        2. –õ—ñ–Ω—ñ–π–Ω—ñ—Å—Ç—å: \((\lambda \vec{a}) \cdot \vec{b} = \lambda (\vec{a} \cdot \vec{b})\)<br>
                        3. –î–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–Ω—ñ—Å—Ç—å: \(\vec{a} \cdot (\vec{b} + \vec{c}) = \vec{a} \cdot \vec{b} + \vec{a} \cdot \vec{c}\)
                    </p>
                </div>
            </div>
        </div>

        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    8. –Ø–∫ –∑–∞–ª–µ–∂–∏—Ç—å –∑–Ω–∞–∫ —Å–∫–∞–ª—è—Ä–Ω–æ–≥–æ –¥–æ–±—É—Ç–∫—É –≤—ñ–¥ –∫—É—Ç–∞ –º—ñ–∂ –≤–µ–∫—Ç–æ—Ä–∞–º–∏?
                </div>
                <div class="card-back">
                    <p>
                        –Ø–∫—â–æ \(\varphi\) –≥–æ—Å—Ç—Ä–∏–π (0¬∞ &lt; \(\varphi\) &lt; 90¬∞), —Ç–æ \(\vec{a} \cdot \vec{b} &gt; 0\).<br>
                        –Ø–∫—â–æ \(\varphi\) —Ç—É–ø–∏–π (90¬∞ &lt; \(\varphi\) &lt; 180¬∞), —Ç–æ \(\vec{a} \cdot \vec{b} &lt; 0\).
                    </p>
                </div>
            </div>
        </div>

        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    9. –Ø–∫–∞ —É–º–æ–≤–∞ –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–æ—Å—Ç—ñ –≤–µ–∫—Ç–æ—Ä—ñ–≤ —á–µ—Ä–µ–∑ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫?
                </div>
                <div class="card-back">
                    <p>\(\vec{a} \cdot \vec{b} = 0 \iff \vec{a} \perp \vec{b}.\)</p>
                </div>
            </div>
        </div>

        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    10. –Ø–∫ –∑–Ω–∞–π—Ç–∏ –∫–æ—Å–∏–Ω—É—Å –∫—É—Ç–∞ –º—ñ–∂ –¥–≤–æ–º–∞ –≤–µ–∫—Ç–æ—Ä–∞–º–∏?
                </div>
                <div class="card-back">
                    <p>\(\cos \varphi = \frac{\vec{a} \cdot \vec{b}}{|\vec{a}| |\vec{b}|}.\)</p>
                </div>
            </div>
        </div>

        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    11. –§–æ—Ä–º—É–ª–∞ –¥–ª—è –∫–æ—Å–∏–Ω—É—Å–∞ –∫—É—Ç–∞ –º—ñ–∂ –≤–µ–∫—Ç–æ—Ä–∞–º–∏, —â–æ –∑–∞–¥–∞–Ω—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ —É –ø—Ä–æ—Å—Ç–æ—Ä—ñ.
                </div>
                <div class="card-back">
                    <p>\(\cos \varphi = \frac{a_x b_x + a_y b_y + a_z b_z}{\sqrt{a_x^2 + a_y^2 + a_z^2} \cdot \sqrt{b_x^2 + b_y^2 + b_z^2}}.\)</p>
                </div>
            </div>
        </div>

        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    12. –§–æ—Ä–º—É–ª–∞ –¥–ª—è –∫–æ—Å–∏–Ω—É—Å–∞ –∫—É—Ç–∞ –º—ñ–∂ –≤–µ–∫—Ç–æ—Ä–∞–º–∏, —â–æ –∑–∞–¥–∞–Ω—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –Ω–∞ –ø–ª–æ—â–∏–Ω—ñ.
                </div>
                <div class="card-back">
                    <p>\(\cos \varphi = \frac{a_x b_x + a_y b_y}{\sqrt{a_x^2 + a_y^2} \cdot \sqrt{b_x^2 + b_y^2}}.\)</p>
                </div>
            </div>
        </div>

        <div class="question-card">
            <div class="card-inner">
                 <div class="card-front">
<p class="question-text">13. –Ø–∫ –æ–±—á–∏—Å–ª–∏—Ç–∏ –ø—Ä–æ–µ–∫—Ü—ñ—é –≤–µ–∫—Ç–æ—Ä–∞ \(\vec{a}\) –Ω–∞ –≤–µ–∫—Ç–æ—Ä \(\vec{b}\)?</p>
 </div>
                <div class="card-back">
                    <p>\(\text{–ø—Ä}_{\vec{b}} \vec{a} = \frac{\vec{a} \cdot \vec{b}}{|\vec{b}|}.\)</p>
                </div>
            </div>
        </div>

    </div>
</div>


    <div id="trainerModal" class="modal">
        <div class="modal-header">
            <button class="close-btn" id="closeTrainerBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
        <div class="modal-content">
            <div class="trainer-container" id="trainerContent">
                <div class="question-number" id="questionNumber">–ü–∏—Ç–∞–Ω–Ω—è 1</div>
                <p class="trainer-question" id="trainerQuestion"></p>
                <div id="vectorDisplay" class="math-notation-centered"></div>
                <div class="answer-buttons" id="answerButtons"></div>
                <button class="submit-btn" id="submitAnswerBtn" disabled>–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
                <p id="feedback"></p>
            </div>
            <div id="completionScreen" class="completion-message hidden">
                <div class="completion-emoji"></div>
                <h2>–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!</h2>
                <p>–ú–æ–ª–æ–¥–µ—Ü—å!</p>
                <button id="resetTrainerBtn">–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑</button>
            </div>
        </div>
    </div>

    <script>
              const modals = {
    theory: document.getElementById('theoryModal'),
    video: document.getElementById('videoModal'),
    questions: document.getElementById('questionsModal'),
    trainer: document.getElementById('trainerModal'),
    videoPlayer1: document.getElementById('videoPlayerModal1'),
    videoPlayer2: document.getElementById('videoPlayerModal2')
};

const buttons = {
    openTheory: document.getElementById('openTheoryBtn'),
    openVideo: document.getElementById('openVideoBtn'),
    openQuestions: document.getElementById('openQuestionsBtn'),
    openTrainer: document.getElementById('openTrainerBtn'),
    closeTheory: document.getElementById('closeTheoryBtn'),
    closeVideo: document.getElementById('closeVideoBtn'),
    closeQuestions: document.getElementById('closeQuestionsBtn'),
    closeTrainer: document.getElementById('closeTrainerBtn'),
    closeVideoPlayer1: document.getElementById('closeVideoPlayerBtn1'),
    closeVideoPlayer2: document.getElementById('closeVideoPlayerBtn2'),
    submitAnswer: document.getElementById('submitAnswerBtn')
};

const overlay = document.getElementById('modalOverlay');
const trainerContent = document.getElementById('trainerContent');
const questionNumber = document.getElementById('questionNumber');
const trainerQuestion = document.getElementById('trainerQuestion');
const vectorDisplay = document.getElementById('vectorDisplay');
const answerButtons = document.getElementById('answerButtons');
const feedback = document.getElementById('feedback');
const completionScreen = document.getElementById('completionScreen');
const resetTrainerBtn = document.getElementById('resetTrainerBtn');


function stopVideo(modal) {
    const iframe = modal.querySelector('iframe');
    if (iframe) {
        const src = iframe.src;
        iframe.src = ''; // –°–∫–∏–¥–∞—î–º–æ src, —â–æ–± –∑—É–ø–∏–Ω–∏—Ç–∏ –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è
        iframe.src = src; // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ src, —â–æ–± –≤—ñ–¥–µ–æ –º–æ–∂–Ω–∞ –±—É–ª–æ –≤—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏ –∑–Ω–æ–≤—É
    }
}

        let currentQuestion = 1;
        let selectedAnswer = null;
        let incorrectAttempts = 0;
        const maxIncorrectAttempts = 3;
        let scrollPosition = 0;
        let correctAnswerValue = ''; // Store correct numerical or LaTeX

        function getRandomInt(min = -5, max = 5) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        // –û–±—á–∏—Å–ª–µ–Ω–Ω—è –ù–°–î
function gcd(a, b) {
    a = Math.abs(a);
    b = Math.abs(b);
    while (b) {
        let temp = b;
        b = a % b;
        a = temp;
    }
    return a;
}

      // –í–∏–±—ñ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
function selectAnswer(btn) {
    if (selectedAnswer) {
        selectedAnswer.classList.remove('selected');
    }
    selectedAnswer = btn;
    btn.classList.add('selected');
    buttons.submitAnswer.disabled = false;
    console.log('Answer selected:', btn.textContent);
}

       // –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
function formatAnswer(value, isRoot3) {
    if (Number.isInteger(value)) {
        return `${value}`;
    }
    const absValue = Math.abs(value);
    let numerator = Math.round(absValue * 2);
    let denominator = 2;
    const gcdValue = gcd(numerator, denominator);
    numerator /= gcdValue;
    denominator /= gcdValue;
    const sign = value < 0 ? '-' : '';
    const root = isRoot3 ? '\\sqrt{3}' : '\\sqrt{2}';
    if (denominator === 1) {
        return `${sign}${numerator}${root}`;
    }
    return `${sign}\\frac{${numerator}${root}}{${denominator}}`;
}

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ MathJax
function typesetMath(id, elements) {
    if (typeof MathJax === 'undefined') {
        console.error('Error: MathJax not loaded');
        return;
    }
    elements.forEach(element => {
        MathJax.typesetPromise([element]).catch(err => console.error('MathJax error:', err));
    });
}

        function waitForMathJax(callback, context = 'general', maxAttempts = 100, interval = 200) {
            let attempts = 0;
            const checkMathJax = setInterval(() => {
                if (typeof MathJax !== 'undefined' && typeof MathJax.typesetPromise === 'function') {
                    clearInterval(checkMathJax);
                    callback();
                } else if (attempts >= maxAttempts) {
                    clearInterval(checkMathJax);
                    callback();
                }
                attempts++;
            }, interval);
        }

        function generateVector() {
    let vector;
    do {
        vector = [getRandomInt(-5, 5), getRandomInt(-5, 5), getRandomInt(-5, 5)];
    } while (vector[0] === 0 && vector[1] === 0 && vector[2] === 0); // –ó–∞–±–µ–∑–ø–µ—á—É—î–º–æ –Ω–µ–Ω—É–ª—å–æ–≤–∏–π –≤–µ–∫—Ç–æ—Ä
    return vector;
}

function generateQuestion1() {
    const a = generateVector();
    const b = generateVector();
    const dot = a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
    correctAnswerValue = dot.toString();

    // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —á–æ—Ç–∏—Ä—å–æ—Ö —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
    const options = new Set([dot]); // –ü–æ—á–∏–Ω–∞—î–º–æ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
    while (options.size < 4) {
        const offset = getRandomInt(-5, 5);
        if (offset !== 0) { // –í–∏–∫–ª—é—á–∞—î–º–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è 0, —â–æ–± –Ω–µ –¥—É–±–ª—é–≤–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
            options.add(dot + offset);
        }
    }
    const shuffled = shuffleArray([...options]); // –ü–µ—Ä–µ–º—ñ—à—É—î–º–æ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

    // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ UI
    questionNumber.textContent = '–ü–∏—Ç–∞–Ω–Ω—è 1';
    trainerQuestion.textContent = '–û–±—á–∏—Å–ª–∏—Ç–∏ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫:';
    vectorDisplay.innerHTML = `\\(\\vec{a} = (${a[0]}, ${a[1]}, ${a[2]}), \\vec{b} = (${b[0]}, ${b[1]}, ${b[2]})\\)`;

    answerButtons.innerHTML = '';
    shuffled.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'answer-btn';
        btn.textContent = opt;
        btn.dataset.correct = (opt == dot).toString();
        btn.addEventListener('click', () => selectAnswer(btn));
        answerButtons.appendChild(btn);
    });

    submitAnswerBtn.disabled = true;
    selectedAnswer = null;
    feedback.textContent = '';
    completionScreen.classList.add('hidden');
    trainerContent.style.display = 'block';

    typesetMath('q1', [vectorDisplay]);
}
        // Question 2: Cos theta
 function generateQuestion2() {
    const p = generateVector(); // –í–µ–∫—Ç–æ—Ä p (px, py, pz)
    const q = generateVector(); // –í–µ–∫—Ç–æ—Ä q (qx, qy, qz)
    const dot = p[0] * q[0] + p[1] * q[1] + p[2] * q[2]; // –°–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫
    correctAnswerValue = dot.toString();
    const options = new Set([dot]);
    while (options.size < 4) {
        const offset = getRandomInt(-5, 5);
        if (offset !== 0) {
            options.add(dot + offset);
        }
    }
    const shuffled = shuffleArray([...options]);

    function formatVector(v) {
        let terms = [];
        let first = true;
        for (let i = 0; i < 3; i++) {
            const coeff = v[i];
            if (coeff === 0) continue;
            let term = '';
            const absCoeff = Math.abs(coeff);
            const isPositive = coeff > 0;
            if (first) {
                if (!isPositive) {
                    term += '-';
                }
            } else {
                term += isPositive ? ' + ' : ' - ';
            }
            if (absCoeff !== 1) {
                term += absCoeff;
            }
            term += ['\\vec{i}', '\\vec{j}', '\\vec{k}'][i];
            terms.push(term);
            first = false;
        }
        if (terms.length === 0) return '0';
        return terms.join('');
    }

    const pFormatted = formatVector(p);
    const qFormatted = formatVector(q);

    questionNumber.textContent = '–ü–∏—Ç–∞–Ω–Ω—è 2';
    trainerQuestion.textContent = '–û–±—á–∏—Å–ª–∏—Ç–∏ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫:';
    vectorDisplay.innerHTML = `\\(\\vec{p} = ${pFormatted}, \\vec{q} = ${qFormatted}\\)`;
    answerButtons.innerHTML = '';
    shuffled.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'answer-btn';
        btn.textContent = opt;
        btn.dataset.correct = (opt == dot).toString();
        btn.addEventListener('click', () => selectAnswer(btn));
        answerButtons.appendChild(btn);
    });
    buttons.submitAnswer.disabled = true;
    selectedAnswer = null;
    feedback.textContent = '';
    feedback.className = 'feedback';
    completionScreen.classList.add('hidden');
    trainerContent.style.display = 'block';
    typesetMath('q2', [vectorDisplay]);
}

        // Question 3: Orthogonal? (yes/no)
function generateQuestion3() {
    let a, b, dot, unknownValue, unknownVar, unknownIndex, zVector;
    do {
        a = generateVector();
        b = generateVector();
        // –í–∏–ø–∞–¥–∫–æ–≤–æ –æ–±–∏—Ä–∞—î–º–æ –∑–º—ñ–Ω–Ω—É: x (0), y (1), z (2)
        unknownIndex = Math.floor(Math.random() * 3); // 0 (x), 1 (y), 2 (z)
        unknownVar = ['x', 'y', 'z'][unknownIndex];
        // –í–∏–ø–∞–¥–∫–æ–≤–æ –æ–±–∏—Ä–∞—î–º–æ, –≤ —è–∫–æ–º—É –≤–µ–∫—Ç–æ—Ä—ñ –±—É–¥–µ –∑–º—ñ–Ω–Ω–∞
        zVector = Math.random() < 0.5 ? 'a' : 'b';
        // –¶—ñ–ª—å–æ–≤–∏–π —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤—ñ–¥ -10 –¥–æ 10, –æ–∫—Ä—ñ–º 0
        dot = getRandomInt(-10, 10);
        while (dot === 0) {
            dot = getRandomInt(-10, 10);
        }
        // –û–±—á–∏—Å–ª—é—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ–≤—ñ–¥–æ–º–æ—ó –∑–º—ñ–Ω–Ω–æ—ó
        if (zVector === 'a') {
            if (unknownIndex === 0) unknownValue = (dot - a[1] * b[1] - a[2] * b[2]) / b[0]; // x = a_x
            else if (unknownIndex === 1) unknownValue = (dot - a[0] * b[0] - a[2] * b[2]) / b[1]; // y = a_y
            else unknownValue = (dot - a[0] * b[0] - a[1] * b[1]) / b[2]; // z = a_z
        } else {
            if (unknownIndex === 0) unknownValue = (dot - a[1] * b[1] - a[2] * b[2]) / a[0]; // x = b_x
            else if (unknownIndex === 1) unknownValue = (dot - a[0] * b[0] - a[2] * b[2]) / a[1]; // y = b_y
            else unknownValue = (dot - a[0] * b[0] - a[1] * b[1]) / a[2]; // z = b_z
        }
    } while (!Number.isInteger(unknownValue) || unknownValue < -5 || unknownValue > 5 || 
             (zVector === 'a' && b[unknownIndex] === 0) || (zVector === 'b' && a[unknownIndex] === 0));

    correctAnswerValue = unknownValue.toString();

    const options = new Set([unknownValue]);
    while (options.size < 4) {
        const offset = getRandomInt(-5, 5);
        if (offset !== 0 && offset !== unknownValue) {
            options.add(unknownValue + offset);
        }
    }
    const shuffled = shuffleArray([...options]);

    questionNumber.textContent = '–ü–∏—Ç–∞–Ω–Ω—è 3';
    // –£–º–æ–≤–∞: —Ç–µ–∫—Å—Ç + —Ñ–æ—Ä–º—É–ª–∏ —á–µ—Ä–µ–∑ MathJax
    trainerQuestion.innerHTML = `–ó–Ω–∞–π—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è \\(\\small ${unknownVar}\\), –ø—Ä–∏ —è–∫–æ–º—É \\(\\small \\vec{a} \\cdot \\vec{b} = ${dot}\\):`;
    // –§–æ—Ä–º–∞—Ç—É—î–º–æ –≤–µ–∫—Ç–æ—Ä–∏ –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –Ω–µ–≤—ñ–¥–æ–º–æ—ó –∑–º—ñ–Ω–Ω–æ—ó
    const aDisplay = zVector === 'a' ? 
        (unknownIndex === 0 ? `${unknownVar}, ${a[1]}, ${a[2]}` : 
         unknownIndex === 1 ? `${a[0]}, ${unknownVar}, ${a[2]}` : `${a[0]}, ${a[1]}, ${unknownVar}`) :
        `${a[0]}, ${a[1]}, ${a[2]}`;
    const bDisplay = zVector === 'b' ? 
        (unknownIndex === 0 ? `${unknownVar}, ${b[1]}, ${b[2]}` : 
         unknownIndex === 1 ? `${b[0]}, ${unknownVar}, ${b[2]}` : `${b[0]}, ${b[1]}, ${unknownVar}`) :
        `${b[0]}, ${b[1]}, ${b[2]}`;
    vectorDisplay.innerHTML = `\\(\\vec{a} = (${aDisplay}), \\vec{b} = (${bDisplay})\\)`;

    answerButtons.innerHTML = '';
    shuffled.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'answer-btn';
        btn.textContent = opt;
        btn.dataset.correct = (opt == unknownValue).toString();
        btn.addEventListener('click', () => selectAnswer(btn));
        answerButtons.appendChild(btn);
    });

    buttons.submitAnswer.disabled = true;
    selectedAnswer = null;
    feedback.textContent = '';
    feedback.className = 'feedback';
    completionScreen.classList.add('hidden');
    trainerContent.style.display = 'block';

    typesetMath('q3', [trainerQuestion, vectorDisplay]);
}

function generateQuestion4() {
    console.log('generateQuestion4 started');
    let aDisplay, bDisplay, exact_dot, answerDisplay;
    const angles = [
        { deg: 30, rad: "\\frac{\\pi}{6}", cos: { num: 1, den: 2, root: 3 }, displayCos: "\\frac{\\sqrt{3}}{2}" },
        { deg: 45, rad: "\\frac{\\pi}{4}", cos: { num: 1, den: 2, root: 2 }, displayCos: "\\frac{\\sqrt{2}}{2}" },
        { deg: 60, rad: "\\frac{\\pi}{3}", cos: { num: 1, den: 2, root: 0 }, displayCos: "\\frac{1}{2}" },
        { deg: 120, rad: "\\frac{2\\pi}{3}", cos: { num: -1, den: 2, root: 0 }, displayCos: "-\\frac{1}{2}" },
        { deg: 135, rad: "\\frac{3\\pi}{4}", cos: { num: -1, den: 2, root: 2 }, displayCos: "-\\frac{\\sqrt{2}}{2}" },
        { deg: 150, rad: "\\frac{5\\pi}{6}", cos: { num: -1, den: 2, root: 3 }, displayCos: "-\\frac{\\sqrt{3}}{2}" }
    ];
    const rootFactors = [1, 2, 3, 4, 5];
    // –í–∏–±—ñ—Ä –∫—É—Ç–∞
    const angleRad = angles[Math.floor(Math.random() * angles.length)];
    const useRadians = Math.random() < 0.5;
    const angleDisplay = useRadians ? angleRad.rad : `${angleRad.deg}^\\circ`;
    const cosValue = angleRad.cos;
    const sign = cosValue.num;
    const cos_root = cosValue.root;
    const cos_den = cosValue.den;
    // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–æ–≤–∂–∏–Ω –≤–µ–∫—Ç–æ—Ä—ñ–≤
    if (angleRad.deg === 60 || angleRad.deg === 120) {
        const even = getRandomInt(1, 5) * 2;
        const other = getRandomInt(1, 10);
        if (Math.random() < 0.5) {
            aDisplay = even;
            bDisplay = other;
        } else {
            aDisplay = other;
            bDisplay = even;
        }
        exact_dot = sign * (even * other) / cos_den;
    } else if (angleRad.deg === 45 || angleRad.deg === 135) {
        const factor = rootFactors[Math.floor(Math.random() * rootFactors.length)];
        const coeff = factor * 2;
        const sqrtDisplay = coeff === 1 ? '\\sqrt{2}' : `${coeff}\\sqrt{2}`;
        const other = getRandomInt(1, 5);
        if (Math.random() < 0.5) {
            aDisplay = sqrtDisplay;
            bDisplay = other;
        } else {
            aDisplay = other;
            bDisplay = sqrtDisplay;
        }
        exact_dot = sign * coeff * other * (cos_root / cos_den);
    } else {
        const factor = rootFactors[Math.floor(Math.random() * rootFactors.length)];
        const multiple = getRandomInt(1, 5) * 2;
        const sqrtDisplay = factor === 1 ? '\\sqrt{3}' : `${factor}\\sqrt{3}`;
        if (Math.random() < 0.5) {
            aDisplay = sqrtDisplay;
            bDisplay = multiple;
        } else {
            aDisplay = multiple;
            bDisplay = sqrtDisplay;
        }
        exact_dot = sign * multiple * factor * (cos_root / cos_den);
    }
    const abs_dot = Math.abs(exact_dot);
    const int_dot = Math.round(abs_dot);
    answerDisplay = exact_dot < 0 ? `-${int_dot}` : `${int_dot}`;
    correctAnswerValue = answerDisplay;
    // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
    const options = new Set([answerDisplay]);
    const currentVal = parseInt(answerDisplay.replace('-', ''));
    const isNegative = answerDisplay.startsWith('-');
    while (options.size < 4) {
        const offset = getRandomInt(-5, 5);
        if (offset === 0) continue;
        let newVal = currentVal + offset;
        if (newVal < 0) newVal = -newVal;
        const newAbs = Math.abs(newVal);
        const newOption = (isNegative ? (Math.random() < 0.5 ? `-${newAbs}` : `${newAbs}`) : `${newAbs}`);
        if (!options.has(newOption) && newOption !== '0') {
            options.add(newOption);
        }
    }
    const shuffled = shuffleArray([...options]);
    // –û–Ω–æ–≤–ª–µ–Ω–Ω—è UI
    questionNumber.textContent = '–ü–∏—Ç–∞–Ω–Ω—è 4';
    trainerQuestion.innerHTML = `–û–±—á–∏—Å–ª–∏—Ç–∏ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä—ñ–≤ \\(\\small \\vec{a}\\) —ñ \\(\\small \\vec{b}\\), —è–∫—â–æ \\(\\small |\\vec{a}| = ${aDisplay}\\), \\(\\small |\\vec{b}| = ${bDisplay}\\), \\(\\small \\varphi = ${angleDisplay}\\):`;
    vectorDisplay.innerHTML = '';
    answerButtons.innerHTML = '';
    shuffled.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'answer-btn';
        btn.innerHTML = `\\(\\small ${opt}\\)`;
        btn.dataset.correct = (opt === answerDisplay).toString();
        btn.addEventListener('click', () => selectAnswer(btn));
        btn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            selectAnswer(btn);
        });
        answerButtons.appendChild(btn);
    });
    buttons.submitAnswer.disabled = true;
    selectedAnswer = null;
    feedback.textContent = '';
    feedback.className = 'feedback';
    feedback.style.display = 'none';
    completionScreen.classList.add('hidden');
    trainerContent.style.display = 'block';
    console.log('Question 4 generated:', { aDisplay, bDisplay, angleDisplay, exact_dot, answerDisplay });
    waitForMathJax(() => {
        typesetMath('q4', [trainerQuestion, ...answerButtons.querySelectorAll('.answer-btn')]);
        console.log('MathJax typesetting completed for q4');
    }, 'q4');
}

function generateQuestion5() {
    console.log('Generating Q5');
    let a_orig, b_orig, nValue, i, j, constTerm, denom;
    do {
        // –í–∏–ø–∞–¥–∫–æ–≤–æ –æ–±–∏—Ä–∞—î–º–æ —Ä—ñ–∑–Ω—ñ –ø–æ–∑–∏—Ü—ñ—ó –¥–ª—è n –≤ a —Ç–∞ -n –≤ b
        i = Math.floor(Math.random() * 3); // –ü–æ–∑–∏—Ü—ñ—è n –≤ a
        j = Math.floor(Math.random() * 3); // –ü–æ–∑–∏—Ü—ñ—è -n –≤ b
        while (i === j) {
            j = Math.floor(Math.random() * 3); // –ó–∞–±–µ–∑–ø–µ—á—É—î–º–æ —Ä—ñ–∑–Ω—ñ –ø–æ–∑–∏—Ü—ñ—ó
        }
        // –ì–µ–Ω–µ—Ä—É—î–º–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ (—á–∏—Å–ª–∞)
        a_orig = [getRandomInt(-5, 5), getRandomInt(-5, 5), getRandomInt(-5, 5)];
        b_orig = [getRandomInt(-5, 5), getRandomInt(-5, 5), getRandomInt(-5, 5)];
        // –û–±—á–∏—Å–ª—é—î–º–æ constTerm: —Å—É–º–∞ a[k]*b[k] –¥–ª—è k != i —Ç–∞ k != j
        constTerm = 0;
        for (let k = 0; k < 3; k++) {
            if (k !== i && k !== j) {
                constTerm += a_orig[k] * b_orig[k];
            }
        }
        // denom = b_orig[i] - a_orig[j]
        denom = b_orig[i] - a_orig[j];
        if (denom === 0) continue;
        if (constTerm % denom !== 0) continue;
        nValue = - (constTerm / denom);
        if (!Number.isInteger(nValue) || Math.abs(nValue) > 20 || nValue === 0) continue;
        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ dot –∑ n —Ç–∞ -n
        const a_check = [...a_orig];
        const b_check = [...b_orig];
        a_check[i] = nValue;
        b_check[j] = -nValue;
        const dotCheck = a_check[0]*b_check[0] + a_check[1]*b_check[1] + a_check[2]*b_check[2];
        if (dotCheck !== 0) continue;
        break;
    } while (true);

    correctAnswerValue = nValue.toString();

    // Display: placeholders 'n' —Ç–∞ '-n', –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ —á–∏—Å–ª–∞ –∑—ñ –∑–Ω–∞–∫–∞–º–∏
    const aDisplay = a_orig.map((val, idx) => idx === i ? 'n' : val).join(', ');
    const bDisplay = b_orig.map((val, idx) => idx === j ? '-n' : val).join(', ');

    // 4 –æ–ø—Ü—ñ—ó: –ø—Ä–∞–≤–∏–ª—å–Ω–∞ + distractors (20, 4, -20), –¥–æ–¥–∞—Ç–∏ random —è–∫—â–æ –¥—É–±–ª—å
    const distractors = ['20', '4', '-20'];
    const options = new Set([nValue.toString(), ...distractors]);
    while (options.size < 4) {
        const offset = getRandomInt(-10, 10);
        const newOpt = (nValue + offset).toString();
        if (newOpt !== nValue.toString() && !options.has(newOpt)) {
            options.add(newOpt);
        }
    }
    const shuffled = shuffleArray([...options]);
    console.log('Q5 options:', options, 'shuffled:', shuffled, 'correct:', nValue);

    questionNumber.textContent = '–ü–∏—Ç–∞–Ω–Ω—è 5';
    trainerQuestion.innerHTML = `–ó–Ω–∞–π—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è \\(\\small n\\), –ø—Ä–∏ —è–∫–æ–º—É –≤–µ–∫—Ç–æ—Ä–∏ \\(\\small \\vec{a}\\) —ñ \\(\\small \\vec{b}\\) –±—É–¥—É—Ç—å –≤–∑–∞—î–º–Ω–æ –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–∏–º–∏:`;
    vectorDisplay.innerHTML = `\\(\\vec{a} = (${aDisplay}), \\vec{b} = (${bDisplay})\\)`;

    answerButtons.innerHTML = '';
    shuffled.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'answer-btn';
        const optStr = opt;
        btn.innerHTML = `\\(\\small ${optStr}\\)`;
        btn.dataset.correct = (opt == nValue.toString()).toString();
        btn.addEventListener('click', () => selectAnswer(btn));
        btn.addEventListener('touchstart', (e) => { e.preventDefault(); selectAnswer(btn); });
        answerButtons.appendChild(btn);
    });

    buttons.submitAnswer.disabled = true;
    selectedAnswer = null;
    feedback.textContent = '';
    feedback.className = 'feedback';
    feedback.style.display = 'none';
    completionScreen.classList.add('hidden');
    trainerContent.style.display = 'block';

    waitForMathJax(() => {
        typesetMath('q5', [trainerQuestion, vectorDisplay, ...answerButtons.querySelectorAll('.answer-btn')]);
        console.log('MathJax Q5 done');
    }, 'q5');
}

function generateQuestion6() {
    console.log('Generating Q6');
    let a, b, dot, aLength, bLength, cosPhi, angleDeg, answerDisplay;
    const tabularAngles = [
        { deg: 0, cos: 1 },
        { deg: 30, cos: Math.sqrt(3) / 2 },
        { deg: 45, cos: Math.sqrt(2) / 2 },
        { deg: 60, cos: 0.5 },
        { deg: 90, cos: 0 },
        { deg: 120, cos: -0.5 },
        { deg: 135, cos: -Math.sqrt(2) / 2 },
        { deg: 150, cos: -Math.sqrt(3) / 2 },
        { deg: 180, cos: -1 }
    ];

    do {
        // –ì–µ–Ω–µ—Ä—É—î–º–æ –≤–µ–∫—Ç–æ—Ä–∏
        a = generateVector(); // [ax, ay, az]
        b = generateVector(); // [bx, by, bz]

        // –û–±—á–∏—Å–ª—é—î–º–æ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫
        dot = a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
        // –û–±—á–∏—Å–ª—é—î–º–æ –¥–æ–≤–∂–∏–Ω–∏
        aLength = Math.sqrt(a[0] ** 2 + a[1] ** 2 + a[2] ** 2);
        bLength = Math.sqrt(b[0] ** 2 + b[1] ** 2 + b[2] ** 2);

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —â–æ –≤–µ–∫—Ç–æ—Ä–∏ –Ω–µ –Ω—É–ª—å–æ–≤—ñ
        if (aLength === 0 || bLength === 0) continue;

        // –û–±—á–∏—Å–ª—é—î–º–æ –∫–æ—Å–∏–Ω—É—Å –∫—É—Ç–∞
        cosPhi = dot / (aLength * bLength);
        cosPhi = Math.max(-1, Math.min(1, cosPhi)); // –û–±–º–µ–∂—É—î–º–æ —á–µ—Ä–µ–∑ –ø–æ—Ö–∏–±–∫–∏

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –∫–æ—Å–∏–Ω—É—Å —î —Ç–∞–±–ª–∏—á–Ω–∏–º
        let isTabular = false;
        for (const angle of tabularAngles) {
            if (Math.abs(cosPhi - angle.cos) < 1e-6) {
                isTabular = true;
                angleDeg = angle.deg;
                answerDisplay = `${angle.deg}^\\circ`;
                break;
            }
        }

        // –Ø–∫—â–æ –Ω–µ—Ç–∞–±–ª–∏—á–Ω–∏–π, —Ñ–æ—Ä–º–∞—Ç—É—î–º–æ —è–∫ arccos –∑ —á–∏—Å–ª–æ–≤–∏–º —á–∏—Å–µ–ª—å–Ω–∏–∫–æ–º —ñ –∑–Ω–∞–º–µ–Ω–Ω–∏–∫–æ–º —è–∫ –¥–æ–±—É—Ç–æ–∫ –∫–æ—Ä–µ–Ω—ñ–≤
        if (!isTabular) {
            const aSquaredSum = a[0] ** 2 + a[1] ** 2 + a[2] ** 2;
            const bSquaredSum = b[0] ** 2 + b[1] ** 2 + b[2] ** 2;
            answerDisplay = `\\arccos \\frac{${dot}}{\\sqrt{${aSquaredSum}} \\cdot \\sqrt{${bSquaredSum}}}`;
        }
    } while (!answerDisplay || isNaN(cosPhi));

    correctAnswerValue = answerDisplay;

    // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
    const options = new Set([answerDisplay]);
    const tabularAnswer = answerDisplay.includes('^\\circ');

    if (tabularAnswer) {
        const correctDeg = parseInt(answerDisplay);
        const otherAngles = tabularAngles
            .filter(angle => angle.deg !== correctDeg)
            .map(angle => `${angle.deg}^\\circ`);

        while (options.size < 4 && otherAngles.length > 0) {
            const randomAngle = otherAngles.splice(Math.floor(Math.random() * otherAngles.length), 1)[0];
            if (!options.has(randomAngle)) {
                options.add(randomAngle);
            }
        }

        if (options.size < 4) {
            const cosOption = `\\cos ${correctDeg}^\\circ`;
            if (!options.has(cosOption)) {
                options.add(cosOption);
            }
        }

        while (options.size < 4) {
            const offset = getRandomInt(-10, 10, [0]);
            const newAngle = `${correctDeg + offset}^\\circ`;
            if (!options.has(newAngle)) {
                options.add(newAngle);
            }
        }
    } else {
        // –î–ª—è –Ω–µ—Ç–∞–±–ª–∏—á–Ω–∏—Ö –∫—É—Ç—ñ–≤: —á–∏—Å–µ–ª—å–Ω–∏–∫ ‚Äî —á–∏—Å–ª–æ, –∑–Ω–∞–º–µ–Ω–Ω–∏–∫ ‚Äî –¥–æ–±—É—Ç–æ–∫ –∫–æ—Ä–µ–Ω—ñ–≤
        const aSquaredSum = a[0] ** 2 + a[1] ** 2 + a[2] ** 2;
        const bSquaredSum = b[0] ** 2 + b[1] ** 2 + b[2] ** 2;
        const baseFormula = (num) => `\\arccos \\frac{${num}}{\\sqrt{${aSquaredSum}} \\cdot \\sqrt{${bSquaredSum}}}`;
        const cosOption = `\\cos \\frac{${dot}}{\\sqrt{${aSquaredSum}} \\cdot \\sqrt{${bSquaredSum}}}`;

        // –ì–µ–Ω–µ—Ä—É—î–º–æ distractors –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é –Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å –≤—ñ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó
        let addedCount = 0;
        // –°–ø–æ—á–∞—Ç–∫—É –¥–æ–¥–∞—î–º–æ cosOption, —è–∫—â–æ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π
        if (!options.has(cosOption)) {
            options.add(cosOption);
            addedCount++;
        }

        // –ì–µ–Ω–µ—Ä—É—î–º–æ arccos –∑ offsets
        let attempts = 0;
        while (addedCount < 3 && attempts < 20) { // –æ–±–º–µ–∂—É—î–º–æ —Å–ø—Ä–æ–±–∏, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª—É
            const offset = getRandomInt(-5, 5, [0]);
            const wrongNum = dot + offset;
            const wrongOption = baseFormula(wrongNum);
            if (wrongOption !== answerDisplay && !options.has(wrongOption)) {
                options.add(wrongOption);
                addedCount++;
            }
            attempts++;
        }

        // –Ø–∫—â–æ –≤—Å–µ —â–µ –º–µ–Ω—à–µ 4, –¥–æ–¥–∞—î–º–æ –±—ñ–ª—å—à–µ –∑ –±—ñ–ª—å—à–∏–º offset
        while (options.size < 4) {
            let offset = getRandomInt(-10, 10, [0]);
            let wrongNum = dot + offset;
            let newOption = baseFormula(wrongNum);
            if (newOption !== answerDisplay && !options.has(newOption)) {
                options.add(newOption);
            } else {
                // –Ø–∫—â–æ —Å–ø—ñ–≤–ø–∞–¥–∞—î, –∑–º—ñ–Ω—é—î–º–æ —á–∏—Å–ª–æ –≤ —á–∏—Å–µ–ª—å–Ω–∏–∫—É –≤—Ä—É—á–Ω—É
                wrongNum = dot + offset + 1; // –¥–æ–¥–∞—î–º–æ +1, —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–º
                newOption = baseFormula(wrongNum);
                if (!options.has(newOption)) {
                    options.add(newOption);
                }
            }
        }
    }

    const shuffled = shuffleArray([...options]);
    console.log('Q6 options:', options, 'shuffled:', shuffled, 'correct:', answerDisplay);

    // –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –≤–µ–∫—Ç–æ—Ä—ñ–≤ (0, 1, -1 –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ —è–≤–Ω–æ)
    const formatComponent = (value) => value.toString();
    const aDisplay = a.map(formatComponent).join(', ');
    const bDisplay = b.map(formatComponent).join(', ');

    questionNumber.textContent = '–ü–∏—Ç–∞–Ω–Ω—è 6';
    trainerQuestion.innerHTML = `–í–∏–∑–Ω–∞—á–∏—Ç–∏ –∫—É—Ç –º—ñ–∂ –≤–µ–∫—Ç–æ—Ä–∞–º–∏ \\(\\small \\vec{a}\\) —ñ \\(\\small \\vec{b}\\):`;
    vectorDisplay.innerHTML = `\\(\\vec{a} = (${aDisplay}), \\; \\vec{b} = (${bDisplay})\\)`;

    answerButtons.innerHTML = '';
    shuffled.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'answer-btn';
        btn.innerHTML = `\\(\\small ${opt}\\)`;
        btn.dataset.correct = (opt === answerDisplay).toString();
        btn.addEventListener('click', () => selectAnswer(btn));
        btn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            selectAnswer(btn);
        });
        answerButtons.appendChild(btn);
    });

    buttons.submitAnswer.disabled = true;
    selectedAnswer = null;
    feedback.textContent = '';
    feedback.className = 'feedback';
    feedback.style.display = 'none';
    completionScreen.classList.add('hidden');
    trainerContent.style.display = 'block';

    console.log('Question 6 generated:', { a, b, dot, aLength, bLength, cosPhi, answerDisplay });
    waitForMathJax(() => {
        typesetMath('q6', [trainerQuestion, vectorDisplay, ...answerButtons.querySelectorAll('.answer-btn')]);
        console.log('MathJax Q6 done');
    }, 'q6');
}

function generateQuestion7() {
    console.log('Generating Q7');
    let A, B, C, AB, AC, dot, ACLength, projection, answerDisplay;

    do {
        // –ì–µ–Ω–µ—Ä—É—î–º–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ —Ç–æ—á–æ–∫ A, B, C
        A = generateVector(); // [x1, y1, z1]
        B = generateVector(); // [x2, y2, z2]
        C = generateVector(); // [x3, y3, z3]

        // –û–±—á–∏—Å–ª—é—î–º–æ –≤–µ–∫—Ç–æ—Ä–∏ AB —ñ AC
        AB = [B[0] - A[0], B[1] - A[1], B[2] - A[2]];
        AC = [C[0] - A[0], C[1] - A[1], C[2] - A[2]];

        // –û–±—á–∏—Å–ª—é—î–º–æ —Å–∫–∞–ª—è—Ä–Ω–∏–π –¥–æ–±—É—Ç–æ–∫
        dot = AB[0] * AC[0] + AB[1] * AC[1] + AB[2] * AC[2];

        // –û–±—á–∏—Å–ª—é—î–º–æ –¥–æ–≤–∂–∏–Ω—É AC
        ACLength = Math.sqrt(AC[0] ** 2 + AC[1] ** 2 + AC[2] ** 2);

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —â–æ AC –Ω–µ –Ω—É–ª—å–æ–≤–∏–π
        if (ACLength === 0) continue;

        // –û–±—á–∏—Å–ª—é—î–º–æ –ø—Ä–æ–µ–∫—Ü—ñ—é
        projection = dot / ACLength;

        // –§–æ—Ä–º–∞—Ç—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
        const denomSquared = AC[0] ** 2 + AC[1] ** 2 + AC[2] ** 2;
        const isPerfectSquare = Number.isInteger(Math.sqrt(denomSquared));
        const gcd = (a, b) => (b === 0 ? Math.abs(a) : gcd(b, a % b));
        const num = Math.round(dot * 1000); // –î–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –ø–æ—Ö–∏–±–æ–∫
        const denom = Math.round(ACLength * 1000);
        const divisor = gcd(num, denom);
        const simplifiedNum = num / divisor;
        const simplifiedDenom = denom / divisor;

        if (isPerfectSquare) {
            answerDisplay = `\\frac{${Math.round(simplifiedNum / 1000)}}{\\sqrt{${denomSquared}}}`;
            // –°–ø—Ä–æ—â—É—î–º–æ, —è–∫—â–æ –∑–Ω–∞–º–µ–Ω–Ω–∏–∫ ‚Äî —Ü—ñ–ª–µ —á–∏—Å–ª–æ
            if (simplifiedDenom === 1000) {
                answerDisplay = `\\frac{${Math.round(simplifiedNum / 1000)}}{${Math.sqrt(denomSquared)}}`;
            }
        } else {
            answerDisplay = `\\frac{${Math.round(simplifiedNum / 1000)}}{\\sqrt{${denomSquared}}}`;
        }
    } while (!answerDisplay);

    correctAnswerValue = answerDisplay;

    // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
    const options = new Set([answerDisplay]);
    const denomSquared = AC[0] ** 2 + AC[1] ** 2 + AC[2] ** 2;
    const isPerfectSquare = Number.isInteger(Math.sqrt(denomSquared));
    const distractors = [
        `\\frac{${Math.round(dot + getRandomInt(-3, 3, [0]))}}{\\sqrt{${denomSquared}}}`,
        `\\frac{${Math.round(dot + getRandomInt(-5, 5, [0, -3, 3]))}}{\\sqrt{${denomSquared}}}`,
        `\\frac{${dot}}{\\sqrt{${denomSquared + getRandomInt(-5, 5, [0])}}}`
    ];

    // –Ø–∫—â–æ –∑–Ω–∞–º–µ–Ω–Ω–∏–∫ ‚Äî —Ü—ñ–ª–µ —á–∏—Å–ª–æ, —Å–ø—Ä–æ—â—É—î–º–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
    if (isPerfectSquare) {
        distractors[0] = `\\frac{${Math.round(dot + getRandomInt(-3, 3, [0]))}}{${Math.sqrt(denomSquared)}}`;
        distractors[1] = `\\frac{${Math.round(dot + getRandomInt(-5, 5, [0, -3, 3]))}}{${Math.sqrt(denomSquared)}}`;
        distractors[2] = `\\frac{${dot}}{${Math.sqrt(denomSquared + getRandomInt(-5, 5, [0]))}}}`;
    }

    distractors.forEach(d => {
        if (options.size < 4 && !options.has(d)) {
            options.add(d);
        }
    });

    while (options.size < 4) {
        const offset = getRandomInt(-5, 5, [0, -3, 3]);
        const newOption = isPerfectSquare
            ? `\\frac{${dot + offset}}{${Math.sqrt(denomSquared)}}`
            : `\\frac{${dot + offset}}{\\sqrt{${denomSquared}}}`;
        if (!options.has(newOption)) {
            options.add(newOption);
        }
    }

    const shuffled = shuffleArray([...options]);
    console.log('Q7 options:', options, 'shuffled:', shuffled, 'correct:', answerDisplay);

    // –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
    const formatComponent = (value) => value.toString();
    const ADisplay = A.map(formatComponent).join(', ');
    const BDisplay = B.map(formatComponent).join(', ');
    const CDisplay = C.map(formatComponent).join(', ');

    questionNumber.textContent = '–ü–∏—Ç–∞–Ω–Ω—è 7';
    trainerQuestion.innerHTML = `–ó–∞–¥–∞–Ω–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ —Ç–æ—á–æ–∫ \\(\\small A(${ADisplay})\\), \\(\\small B(${BDisplay})\\) —ñ \\(\\small C(${CDisplay})\\). –ó–Ω–∞–π—Ç–∏ –ø—Ä–æ–µ–∫—Ü—ñ—é –≤–µ–∫—Ç–æ—Ä–∞ \\(\\small \\vec{AB}\\) –Ω–∞ –≤–µ–∫—Ç–æ—Ä \\(\\small \\vec{AC}\\).`;
    vectorDisplay.innerHTML = '';

    answerButtons.innerHTML = '';
    shuffled.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'answer-btn';
        btn.innerHTML = `\\(\\small ${opt}\\)`;
        btn.dataset.correct = (opt === answerDisplay).toString();
        btn.addEventListener('click', () => selectAnswer(btn));
        btn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            selectAnswer(btn);
        });
        answerButtons.appendChild(btn);
    });

    buttons.submitAnswer.disabled = true;
    selectedAnswer = null;
    feedback.textContent = '';
    feedback.className = 'feedback';
    feedback.style.display = 'none';
    completionScreen.classList.add('hidden');
    trainerContent.style.display = 'block';

    console.log('Question 7 generated:', { A, B, C, AB, AC, dot, ACLength, projection, answerDisplay });
    waitForMathJax(() => {
        typesetMath('q7', [trainerQuestion, vectorDisplay, ...answerButtons.querySelectorAll('.answer-btn')]);
        console.log('MathJax Q7 done');
    }, 'q7');
}

function generateQuestion() {
    console.log('generateQuestion called, currentQuestion:', currentQuestion, 'incorrectAttempts:', incorrectAttempts);
    if (currentQuestion === 1) {
        console.log('Calling generateQuestion1');
        generateQuestion1();
    } else if (currentQuestion === 2) {
        console.log('Calling generateQuestion2');
        generateQuestion2();
    } else if (currentQuestion === 3) {
        console.log('Calling generateQuestion3');
        generateQuestion3();
    } else if (currentQuestion === 4) {
        console.log('Calling generateQuestion4');
        generateQuestion4();
    } else if (currentQuestion === 5) {
        console.log('Calling generateQuestion5');
        generateQuestion5();
    } else if (currentQuestion === 6) {
        console.log('Calling generateQuestion6');
        generateQuestion6();
    } else if (currentQuestion === 7) {
        console.log('Calling generateQuestion7');
        generateQuestion7();
    } else {
        console.log('Showing completion screen');
        trainerContent.style.display = 'none';
        completionScreen.classList.remove('hidden');
        typesetMath('completion', [completionScreen]);
    }
}

if (buttons.submitAnswer) {
    buttons.submitAnswer.addEventListener('click', () => {
        console.log('Submit button clicked, selectedAnswer:', selectedAnswer);
        if (selectedAnswer) {
            const isCorrect = selectedAnswer.dataset.correct === 'true';
            feedback.textContent = isCorrect ? '‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –ú–æ–ª–æ–¥–µ—Ü—å!' : '‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –°–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑!';
            feedback.className = 'feedback show' + (isCorrect ? ' correct' : ' incorrect');
            feedback.style.display = 'flex';
            console.log('Feedback set:', feedback.textContent);
            buttons.submitAnswer.disabled = true;
            setTimeout(() => {
                feedback.className = 'feedback';
                feedback.style.display = 'none';
                if (isCorrect) {
                    console.log('Correct answer, currentQuestion before increment:', currentQuestion);
                    incorrectAttempts = 0;
                    currentQuestion++;
                    console.log('Correct answer, currentQuestion after increment:', currentQuestion);
                    generateQuestion();
                } else {
                    incorrectAttempts++;
                    console.log('Incorrect answer, attempts:', incorrectAttempts, 'currentQuestion:', currentQuestion);
                    console.log('Regenerating question');
                    if (currentQuestion === 1) {
                        generateQuestion1();
                    } else if (currentQuestion === 2) {
                        generateQuestion2();
                    } else if (currentQuestion === 3) {
                        generateQuestion3();
                    } else if (currentQuestion === 4) {
                        generateQuestion4();
                    } else if (currentQuestion === 5) {
                        generateQuestion5();
                    } else if (currentQuestion === 6) {
                        generateQuestion6();
                    } else if (currentQuestion === 7) {
                        generateQuestion7();
                    }
                }
            }, 2000);
        } else {
            console.error('Error: No answer selected');
        }
    });
}

buttons.openTrainer.addEventListener('click', () => {
    openModal(modals.trainer);
    currentQuestion = 1;
    generateQuestion1();
});
// Open/close functions
function openModal(modal) {
    overlay.style.display = 'block';
    modal.style.display = 'flex';
    modal.classList.add('show');
    scrollPosition = window.pageYOffset;
    document.body.classList.add('modal-open');
    document.body.style.top = `-${scrollPosition}px`;
}
function closeModal(modal) {
    modal.classList.remove('show');
    modal.classList.add('hide');
    if (modal.id.includes('videoPlayer')) {
        stopVideo(modal);
    }
    modal.addEventListener('transitionend', function handler() {
        modal.style.display = 'none';
        modal.classList.remove('hide');
        modal.style.visibility = 'visible'; // –°–∫–∏–¥–∞—î–º–æ –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è
        if (modal.id.includes('videoPlayer')) {
            openModal(modals.video);
        } else {
            overlay.style.display = 'none';
            document.body.classList.remove('modal-open');
            document.body.style.top = '';
            window.scrollTo(0, scrollPosition);
        }
        modal.removeEventListener('transitionend', handler);
    }, { once: true });
    // –î–æ–¥–∞–ª–∏: –ë–ª–æ–∫—É—î–º–æ body —Å–∫—Ä–æ–ª –æ–¥—Ä–∞–∑—É
    if (!modal.id.includes('videoPlayer')) {
        document.body.style.overflow = 'auto';
    }
}
// Event listeners similar to sample
buttons.openTheory.addEventListener('click', () => openModal(modals.theory));
buttons.openVideo.addEventListener('click', () => openModal(modals.video));
buttons.openQuestions.addEventListener('click', () => openModal(modals.questions));
buttons.openTrainer.addEventListener('click', () => {
    openModal(modals.trainer);
    currentQuestion = 1;
    generateQuestion1();
});
// Close buttons
Object.keys(buttons).forEach(key => {
    if (key.includes('close')) {
        buttons[key].addEventListener('click', () => {
            const modalId = key.replace('close', '').toLowerCase().replace('btn', '');
            const modalKey = modalId.includes('videoplayer') ? `videoPlayer${modalId.slice(-1)}` : modalId;
            closeModal(modals[modalKey]);
        });
    }
});
overlay.addEventListener('click', () => {
    Object.values(modals).forEach(modal => {
        if (modal.classList.contains('show')) closeModal(modal);
    });
});
document.querySelectorAll('.video-card').forEach(card => {
    card.addEventListener('click', () => {
        const videoId = card.dataset.video;
        closeModal(modals.video);
        openModal(modals[`videoPlayer${videoId}`]);
    });
});
document.querySelectorAll('.question-card .card-inner').forEach(card => {
    card.addEventListener('click', () => card.classList.toggle('flipped'));
});
resetTrainerBtn.addEventListener('click', () => {
    currentQuestion = 1;
    generateQuestion1();
    completionScreen.classList.add('hidden');
    trainerContent.style.display = 'block';
});
document.addEventListener('keydown', e => {
    if (e.key === 'Escape') {
        Object.values(modals).forEach(modal => {
            if (modal.classList.contains('show')) closeModal(modal);
        });
    }
});
    </script>
</body>
</html>

