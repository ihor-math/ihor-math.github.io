<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1. –ü–æ–Ω—è—Ç—Ç—è –ø—Ä–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ñ —á–∏—Å–ª–∞</title>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        *, *:before, *:after {
            box-sizing: border-box;
        }
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #F5F7FA, #E4E7EB);
            font-family: 'Roboto', sans-serif;
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: start;
            min-height: 100dvh;
        }
        .title-box {
            margin-top: 60px;
            padding: 25px 40px;
            background-color: #8B0000;
            border-radius: 25px;
            box-shadow: 0 8px 18px rgba(0, 0, 0, 0.1);
            max-width: 90%;
            text-align: center;
        }
        .title-box h1 {
            margin: 0;
            font-size: 28px;
            color: #FFFF00;
            text-shadow: 1px 1px 2px rgba(0, 96, 100, 0.2);
            font-family: 'Lora', serif;
        }
        .section-container {
            margin-top: 40px;
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
        }
        .section {
            width: 250px;
            height: 220px;
            background: linear-gradient(135deg, #E6F0FA, #B3D4FF, #80BFFF);
            border-radius: 20px;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            transition: transform 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            color: inherit;
        }
        .section:hover {
            transform: translateY(-5px);
        }
        .section img {
            width: 60px;
            height: 60px;
            margin-bottom: 15px;
            object-fit: cover; 
            border-radius: 8px; 
        }
        .section h2 {
            font-size: 20px;
            color: #570916;
            margin: 0;
            font-family: 'Lora', serif;
        }
        #theoryModal, #questionsModal, #trainerModal, #videoModal, #videoPlayerModal1, #videoPlayerModal2, #videoPlayerModal3 {
            display: none;
            position: fixed;
            top: 5%;
            left: 5%;
            width: 90%;
            height: 90%;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            overflow: hidden;
            flex-direction: column;
        }
        #theoryModal .modal-content, #questionsModal .modal-content, #trainerModal .modal-content, #videoModal .modal-content, #videoPlayerModal1 .modal-content, #videoPlayerModal2 .modal-content, #videoPlayerModal3 .modal-content {
            padding: 20px;
            overflow-y: auto;
            flex-grow: 1;
        }
        #trainerModal .modal-content {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        #theoryModal .modal-content p {
            text-align: justify;
        }
        #theoryModal .modal-header, #questionsModal .modal-header, #trainerModal .modal-header, #videoModal .modal-header, #videoPlayerModal1 .modal-header, #videoPlayerModal2 .modal-header, #videoPlayerModal3 .modal-header {
            display: flex;
            justify-content: flex-end;
            background: #006064;
            padding: 8px 10px;
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
        }
        #theoryModal .close-btn, #questionsModal .close-btn, #trainerModal .close-btn, #videoModal .close-btn, #videoPlayerModal1 .close-btn, #videoPlayerModal2 .close-btn, #videoPlayerModal3 .close-btn {
            background: #004d4d;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 5px 15px;
            font-size: 16px;
            cursor: pointer;
        }
        #theoryModal .close-btn:hover, #questionsModal .close-btn:hover, #trainerModal .close-btn:hover, #videoModal .close-btn:hover, #videoPlayerModal1 .close-btn:hover, #videoPlayerModal2 .close-btn:hover, #videoPlayerModal3 .close-btn:hover {
            background: #003333;
        }
        #modalOverlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.4);
            z-index: 999;
        }
        .video-card-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
        }
        .video-card {
            width: 260px; 
            height: 170px; 
            background: linear-gradient(135deg, #2c3e50, #3498db);
            border-radius: 20px;
            border: 1px solid #e0e0e0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 10px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            color: #FFFF00; 
        }
        .video-card:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.2);
        }
        .video-card img {
            width: 48px;
            height: 48px;
            margin-bottom: 10px;
            display: block;
            object-fit: cover; 
            border-radius: 8px; 
        }
        .video-card img:not([src]) {
            background-image: url('https://img.icons8.com/?size=100&id=o1CR3NjO7Pv8&format=png&color=000000');
            background-size: cover;
            background-position: center;
            content: '';
        }
        .video-card img[alt] {
            text-indent: -9999px;
        }
        .video-card h3 {
            font-size: 18px;
            margin: 0;
            font-family: 'Lora', serif;
            line-height: 1.2;
        }
        .video-player-container {
            max-width: 800px;
            margin: 20px auto;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            text-align: center;
        }
        .video-player-container iframe {
            width: 100%;
            max-height: 400px;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        details {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            background: #FFFFE0;
            cursor: pointer;
            transition: max-height 0.3s ease;
            overflow: hidden;
        }
        details[open] {
            max-height: 1000px;
        }
            details:nth-child(3) .modal-content p {
    overflow-x: auto;
    white-space: nowrap;
}
        summary {
            font-weight: bold;
            padding: 10px;
            background: #3f5f5f;
            border-radius: 5px;
            transition: background 0.2s ease;
            font-family: 'Lora', serif;
            color: #FFFF00;
        }
        summary:hover {
            background: #004d4d;
        }
        details p {
            padding: 0 20px 10px;
            color: #022240;
        }
        .highlight-term {
            padding: 2px 5px;
            border-radius: 3px;
            transition: background 0.2s ease;
            font-family: 'Lora', serif;
        }
        details .highlight-term {
            background: none;
            color: #05301d;
        }
        .card-front .highlight-term {
            color: #003333;
        }
        .math-notation {
            font-style: italic;
            color: #006064;
            font-family: 'Roboto', sans-serif;
            display: inline;
            white-space: normal;
            margin: 0 2px;
        }
        .card-front .math-notation {
            vertical-align: baseline;
            display: inline;
            font-size: inherit;
            line-height: normal;
        }
        details .math-notation {
            color: #a40000;
        }
        .question-card {
            perspective: 1000px;
            margin: 20px auto;
            max-width: 90%;
            width: 100%;
            height: 150px;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        #questionsModal[style*="display: flex"] .question-card {
            opacity: 1;
            transform: translateY(0);
        }
        .question-card:nth-child(1) { transition-delay: 0s; }
        .question-card:nth-child(2) { transition-delay: 0.1s; }
        .question-card:nth-child(3) { transition-delay: 0.2s; }
        .question-card:nth-child(4) { transition-delay: 0.3s; }
        .question-card:nth-child(5) { transition-delay: 0.4s; }
        .question-card:nth-child(6) { transition-delay: 0.5s; }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: pointer;
        }
        .card-inner:hover {
            transform: scale(1.02);
        }
        .card-inner.flipped {
            transform: rotateY(180deg);
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            padding: 10px;
            border-radius: 15px;
            font-size: clamp(14px, 2.5vw, 16px);
            font-family: 'Lora', serif;
            line-height: 1.4; /* –ó–º–µ–Ω—à–µ–Ω–æ –º—ñ–∂—Ä—è–¥–∫–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –≤—Å—ñ—Ö –∫–∞—Ä—Ç–æ–∫ */
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: justify;
            overflow: hidden;
        }
        .card-front {
            background: linear-gradient(135deg, #e0f7fa, #b2ebf2);
            color: #006064;
            font-weight: 700;
            border: 2px solid #80deea;
            word-wrap: break-word;
            overflow-wrap: break-word;
            padding: 10px;
        }
        .card-back {
            background: #006064;
            color: #FFFFFF;
            transform: rotateY(180deg);
            border: 2px solid #80deea;
            overflow-y: auto;
            hyphens: auto;
            word-break: break-word;
            word-wrap: break-word;
            overflow-wrap: break-word;
            padding: 10px;
        }
        .card-back span, .card-back .MathJax {
            margin: 0;
            font-size: 1em;
            line-height: 1.4; /* –ó–º–µ–Ω—à–µ–Ω–æ –º—ñ–∂—Ä—è–¥–∫–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –∑–∞–¥–Ω—å–æ—ó —Å—Ç–æ—Ä–æ–Ω–∏ */
            color: #FFFFFF;
            display: inline;
        }
        .card-back .MathJax {
            vertical-align: middle;
            font-size: 0.95em; 
        }
        .card-front:nth-child(2n), .card-back:nth-child(2n) {
            background: #ad1457;
            border: none;
        }
        .card-front:nth-child(2n) {
            background: linear-gradient(135deg, #f8bbd0, #f48fb1);
        }
        .card-front:nth-child(2n) span {
            color: #5e0032;
        }
        .card-front:nth-child(3n), .card-back:nth-child(3n) {
            background: #2e7d32;
            border: 2px solid #66bb6a;
        }
        .card-front:nth-child(3n) {
            background: linear-gradient(135deg, #c8e6c9, #81c784);
        }
        .card-front:nth-child(3n) span {
            color: #1b5e20;
        }
        .trainer-container {
            width: 90%;
            max-width: 800px;
            padding: 3vw 4vw;
            text-align: center;
            background-color: #ffffffc7;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
        }
        .question-circle {
            width: 15vw;
            height: 15vw;
            min-width: 80px;
            min-height: 80px;
            max-width: 120px;
            max-height: 120px;
            margin: 0 auto 3vw;
            background: linear-gradient(135deg, #800000, #a00000);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
        }
        .question-circle h3 {
            color: white;
            font-family: 'Lora', serif;
            font-size: clamp(16px, 2.5vw, 20px);
            margin: 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        .completion-emoji {
            width: 15vw;
            height: 15vw;
            min-width: 80px;
            min-height: 80px;
            max-width: 120px;
            max-height: 120px;
            margin: 0 auto 3vw;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
            border: 2px dashed #ff0000;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .completion-emoji::after {
            content: 'üéâ';
            font-size: clamp(40px, 8vw, 60px);
            color: #ff0000;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
        }
        .options-container {
            display: flex;
            flex-wrap: wrap;
            gap: 2vw;
            justify-content: center;
            margin-bottom: 3vw;
        }
        .option {
            padding: 1.8vw 2.8vw;
            border: 1.5px solid #800000;
            border-radius: 10px;
            background: #fbeaea;
            cursor: pointer;
            transition: background 0.3s, transform 0.2s;
            font-size: clamp(13px, 2.1vw, 15px);
            line-height: 1.4;
            flex: 1 1 auto;
            min-width: 90px;
            max-width: 45%;
        }
        .option:hover {
            background: #f3dada;
            transform: scale(1.03);
        }
        .option.selected {
            background: #e6bcbc;
            border-color: #800000;
        }
        button {
            padding: 2vw 4vw;
            margin-top: 3vw;
            background-color: #800000;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: clamp(14px, 2.5vw, 16px);
            cursor: pointer;
            transition: background 0.3s;
        }
        button:hover {
            background-color: #5f0000;
        }
        .result {
            margin-top: 3vw;
            font-size: clamp(16px, 2.5vw, 18px);
        }
        .result-text {
            margin-top: 2vw;
            font-size: clamp(14px, 2vw, 16px);
        }
        .feedback {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: clamp(26px, 6.5vw, 38px);
            font-family: 'Lora', serif;
            font-weight: 700;
            padding: clamp(12px, 3.5vw, 18px) clamp(18px, 5.5vw, 28px);
            border-radius: 15px;
            border: 2.5px solid;
            box-shadow: 0 6px 12px rgba(0,0,0,0.25);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.5s ease;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
            text-align: center;
            line-height: 1.2;
        }
        .correct-feedback {
            color: #2e7d32;
            background: linear-gradient(135deg, #c8e6c9, #a5d6a7);
            border-color: #1b5e20;
            animation: popInOut 1.5s ease-in-out;
        }
        .incorrect-feedback {
            color: #d32f2f;
            background: linear-gradient(135deg, #ffcdd2, #ef9a9a);
            border-color: #b71c1c;
            animation: popInOut 1.5s ease-in-out;
        }
         /* === –ú–ï–î–ê–õ–¨ –ó –¢–†–ò–ó–£–ë–û–ú === */
    .completion-emoji {
        position: relative;
        display: inline-block;
        width: clamp(56px, 12vw, 96px);
        height: clamp(56px, 12vw, 96px);
        vertical-align: middle;
        margin: 0 auto 3vw;
        border-radius: 50%;
        background: linear-gradient(135deg, #2a2a2a, #3a4a45);
        border: 3px dashed #ffd700;
        box-shadow: 0 4px 16px rgba(255, 215, 0, 0.3);
        overflow: hidden;
        animation: medalAppear 0.8s ease-out;
    }
    .completion-emoji::after {
        content: '';
        position: absolute;
        inset: 0;
        background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'><defs><filter id='s' x='-50%' y='-50%' width='200%' height='200%'><feDropShadow dx='0' dy='2' stdDeviation='2' flood-color='%23000000' flood-opacity='0.25'/></filter></defs><rect x='30' y='0' width='60' height='40' rx='4' fill='%23007ACC'/><rect x='30' y='20' width='60' height='20' rx='4' fill='%23FFD700'/><g transform='translate(60,70)'><polygon points='0,-26 6,-6 26,-6 9,6 15,26 0,14 -15,26 -9,6 -26,-6 -6,-6' fill='%23FFD700' filter='url(%23s)'/></g></svg>");
        background-size: 75%;
        background-repeat: no-repeat;
        background-position: center 60%;
        filter: drop-shadow(0 2px 4px rgba(0,0,0,0.25));
        animation: medalBounce 1.2s ease-out 0.3s both;
    }
    @keyframes medalAppear {
        0% { transform: scale(0.3) rotate(-180deg); opacity: 0; }
        60% { transform: scale(1.1); }
        100% { transform: scale(1); opacity: 1; }
    }
    @keyframes medalBounce {
        0% { transform: translateY(-120px) rotate(-30deg) scale(0.4); opacity: 0; }
        60% { transform: translateY(15px) rotate(10deg) scale(1.15); opacity: 1; }
        80% { transform: translateY(-8px) rotate(-5deg) scale(1.05); }
        100% { transform: translateY(0) rotate(0) scale(1); }
    }

    .completion-message {
        background: linear-gradient(145deg, #2a2a2a, #3a4a45);
        border: 2.5px solid #ffffff;
        border-radius: 15px;
        padding: clamp(12px, 3vw, 18px);
        box-shadow: 0 6px 12px rgba(240,216,92,0.4);
        margin: 2vw auto;
        max-width: 90%;
        text-align: center;
    }
    .completion-message h2 {
        color: #ffffff;
        text-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    .completion-message p { color: #ffffff; }

    #completionModal .modal-content {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 40px;
    }
    #completionModal .completion-message {
        text-align: center;
        max-width: 500px;
    }
.reset-btn {
        background: linear-gradient(135deg, #6b5f2f, #f0d85c);
        color: #fff;
        padding: 15px 35px;
        border: none;
        border-radius: 25px;
        font-family: 'Orbitron', sans-serif;
        cursor: pointer;
        font-size: 16px;
        font-weight: 700;
        margin-top: 20px;
        transition: all 0.3s ease;
    }
    .reset-btn:hover { background: linear-gradient(135deg, #8b7d3f, #6b5f2f); transform: scale(1.05); box-shadow: 0 4px 15px rgba(107,95,47,0.4); }



        
        .navigation-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin: 40px auto;
            max-width: 1000px;
            padding: 0 20px;
        }
        .nav-button {
            display: flex;
            align-items: center;
            background-color: #2F4F4F;
            color: #FFD700;
            text-decoration: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.2);
        }
        .nav-button:hover {
            background-color: #556B2F;
            color: #fff;
            transform: scale(1.05);
        }
        .nav-button svg {
            margin-right: 8px;
            fill: currentColor;
        }
        @keyframes popInOut {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            20% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); }
            80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
        }
        @media (max-width: 768px) {
            .title-box {
                margin-top: 40px;
                padding: 15px 20px;
            }
            .title-box h1 {
                font-size: 24px;
            }
            .section-container {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }
            .section {
                width: 80%;
                height: 180px;
            }
            #theoryModal, #questionsModal, #trainerModal, #videoModal, #videoPlayerModal1, #videoPlayerModal2, #videoPlayerModal3 {
                top: 2%;
                left: 2%;
                width: 96%;
                height: 96%;
            }
            #theoryModal .modal-content, #questionsModal .modal-content, #trainerModal .modal-content, #videoModal .modal-content, #videoPlayerModal1 .modal-content, #videoPlayerModal2 .modal-content, #videoPlayerModal3 .modal-content {
                padding: 15px;
            }
            .video-card {
                width: 180px;
                height: 150px;
            }
            .video-card img {
                width: 40px;
                height: 40px;
            }
            .video-card h3 {
                font-size: 16px;
            }
            .question-card {
                height: 150px;
            }
            .card-front, .card-back {
                font-size: 12px;
                padding: 8px;
                line-height: 1.2; /* –ó–º–µ–Ω—à–µ–Ω–æ –º—ñ–∂—Ä—è–¥–∫–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö */
            }
            .card-front span {
                font-size: 12px;
                line-height: 1.2; /* –ó–º–µ–Ω—à–µ–Ω–æ –¥–ª—è span */
            }
            .trainer-container {
                width: 95%;
                padding: 4vw;
            }
            .question-circle, .completion-emoji {
                width: 25vw;
                height: 25vw;
                min-width: 80px;
                min-height:80px;
            }
            .question-circle h3 {
                font-size: clamp(14px, 5vw, 15px);
            }
            .completion-emoji::after {
                font-size: clamp(30px, 7vw, 40px);
            }
            .option {
                padding: 2.2vw 3.2vw;
                font-size: clamp(11px, 2.6vw, 13px);
                min-width: 75px;
                max-width: 90%;
            }
            .options-container {
                gap: 1.5vw;
                flex-direction: column;
                align-items: center;
            }
            .button {
                padding: 3vw 5vw;
                font-size: clamp(14px, 5vw, 16px);
            }
            .feedback {
                font-size: clamp(22px, 5.5vw, 30px);
                padding: clamp(10px, 3vw, 15px) clamp(15px, 4.5vw, 22px);
                max-width: 90vw;
                word-wrap: break-word;
            }
            .completion-message {
                padding: clamp(10px, 3vw, 15px);
            }
            .completion-message h2 {
                font-size: clamp(20px, 4vw, 26px);
            }
            .completion-message p {
                font-size: clamp(16px, 3vw, 20px);
            }
            .navigation-buttons {
                margin: 20px auto;
                gap: 15px;
            }
            .nav-button {
                font-size: 16px;
                padding: 10px 20px;
            }
            .video-player-container {
                padding: 15px;
            }
            .video-player-container iframe {
                max-height: 300px;
            }
        }
        @media (max-width: 480px) {
            .title-box {
                margin-top: 20px;
                padding: 10px 15px;
            }
            .title-box h1 {
                font-size: 20px;
            }
            .section {
                width: 90%;
                height: 150px;
            }
            .section img {
                width: 50px;
                height: 50px;
            }
            .section h2 {
                font-size: 18px;
            }
            #theoryModal .modal-content, #questionsModal .modal-content, #trainerModal .modal-content, #videoModal .modal-content, #videoPlayerModal1 .modal-content, #videoPlayerModal2 .modal-content, #videoPlayerModal3 .modal-content {
                padding: 10px;
            }
            #theoryModal .modal-header, #questionsModal .modal-header, #trainerModal .modal-header, #videoModal .modal-header, #videoPlayerModal1 .modal-header, #videoPlayerModal2 .modal-header, #videoPlayerModal3 .modal-header {
                padding: 5px 8px;
            }
            #theoryModal .close-btn, #questionsModal .close-btn, #trainerModal .close-btn, #videoModal .close-btn, #videoPlayerModal1 .close-btn, #videoPlayerModal2 .close-btn, #videoPlayerModal3 .close-btn {
                font-size: 14px;
                padding: 4px 10px;
            }
            .video-card {
                width: 160px;
                height: 140px;
            }
            .video-card img {
                width: 36px;
                height: 36px;
            }
            .video-card h3 {
                font-size: 15px;
            }
            .question-card {
                height: 180px;
            }
            .card-front, .card-back {
                font-size: 11px;
                padding: 6px;
                line-height: 1.1; /* –©–µ –≤—É–∂—á–∏–π –º—ñ–∂—Ä—è–¥–∫–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –º–∞–ª–∏—Ö –µ–∫—Ä–∞–Ω—ñ–≤ */
            }
            .card-front span {
                font-size: 11px;
                line-height: 1.1; /* –ó–º–µ–Ω—à–µ–Ω–æ –¥–ª—è span */
            }
            .card-back .MathJax {
                font-size: 0.9em;
            }
            .question-circle, .completion-emoji {
                width: 25vw;
                height: 25vw;
                min-width: 80px;
                min-height: 80px;
            }
            .completion-emoji::after {
                font-size: clamp(25px, 6vw, 35px);
            }
            .option {
                font-size: clamp(10px, 2.3vw, 12px);
                padding: 2.8vw 3.8vw;
            }
            .feedback {
                font-size: clamp(20px, 5vw, 26px);
                padding: clamp(8px, 2.5vw, 12px) clamp(12px, 4vw, 18px);
            }
            .completion-message h2 {
                font-size: clamp(18px, 3.5vw, 22px);
            }
            .completion-message p {
                font-size: clamp(14px, 3vw, 18px);
            }
            .navigation-buttons {
                margin: 15px auto;
                gap: 10px;
            }
            .nav-button {
                font-size: 14px;
                padding: 8px 16px;
            }
            .video-player-container {
                padding: 10px;
            }
            .video-player-container iframe {
                max-height: 200px;
            }
        }
        @media (max-width: 768px) {
            .card-front {
                text-align: justify;
                word-wrap: break-word;
                overflow-wrap: break-word;
            }
            .card-back {
                text-align: justify;
                word-wrap: break-word;
                overflow-wrap: break-word;
            }
        }
        mjx-container {
            display: inline !important;
            vertical-align: baseline !important;
            white-space: normal !important;
            line-height: normal !important;
        }
        mjx-container > * {
            display: inline !important;
            vertical-align: baseline !important;
        }
        .math-i {
            color: #f0f0f0;
            font-style: italic;
            font-family: 'STIX', 'Latin Modern Math', 'Times New Roman', serif;
            font-size: 1em;
            vertical-align: baseline;
            display: inline;
        }
        .card-inner.flipped .card-back {
            opacity: 1;
        }
        .card-front {
            opacity: 1;
            transition: opacity 0s;
        }
        .card-inner.flipped .card-front {
            opacity: 0;
        }
        .card-front span {
            display: block;
            text-align: justify;
            color: #006064;
            font-weight: 700;
            font-family: 'Lora', serif;
            font-size: clamp(14px, 2.5vw, 16px);
            line-height: 1.4; /* –ó–º–µ–Ω—à–µ–Ω–æ –º—ñ–∂—Ä—è–¥–∫–æ–≤–∏–π —ñ–Ω—Ç–µ—Ä–≤–∞–ª */
            width: 100%;
        }
        .math-notation-centered {
    display: block;
    text-align: center;
    width: 100%;
    font-size: inherit;
    margin: 5px 0;
    line-height: 1.2;
    color: #560319 !important;
    font-style: italic;
    font-family: 'Roboto', sans-serif;
}

mjx-container.math-notation-centered {
    display: block !important;
    text-align: center !important;
    vertical-align: middle !important;
    white-space: normal !important;
    line-height: 1.2 !important;
    font-size: inherit !important;
    color: #560319 !important;
    margin: 5px auto !important;
    width: auto !important;
    padding: 0 !important;
}

mjx-container.math-notation-centered * {
    color: #560319 !important;
}

@media (max-width: 480px) {
    .card-front {
        text-align: justify;
        word-wrap: break-word;
        overflow-wrap: break-word;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100%;
        line-height: 1.1;
        font-size: 14px;
    }
    .card-front span {
        display: block;
        text-align: justify;
        width: 100%;
        line-height: 1.1;
        font-size: 14px;
    }
    .card-back {
        text-align: justify;
        word-wrap: break-word;
        overflow-wrap: break-word;
        font-size: 14px;
        padding: 7px;
        line-height: 1.2;
    }
    .card-back span, .card-back .MathJax {
        font-size: 14px;
        line-height: 1.2;
    }
    .math-notation-centered {
        display: block;
        text-align: center;
        width: 100%;
        font-size: 12px;
        margin: 2px 0;
        line-height: 1.1;
        color: #560319 !important;
    }
    mjx-container.math-notation-centered {
        display: block !important;
        text-align: center !important;
        vertical-align: middle !important;
        white-space: normal !important;
        line-height: 1.1 !important;
        font-size: 12px !important;
        color: #560319 !important;
        margin: 2px auto !important;
        width: auto !important;
        padding: 0 !important;
    }
    mjx-container.math-notation-centered * {
        color: #560319 !important;
    }
    mjx-container {
        font-size: 16px !important;
        line-height: 1.4 !important;
    }

    .math-notation,
    .math-notation-centered,
    mjx-container.math-notation-centered {
        font-size: 16px !important;
    }
}
        /* –î–æ–¥–∞–π—Ç–µ —Ü—ñ —Å—Ç–∏–ª—ñ –≤ —Ä–æ–∑–¥—ñ–ª CSS */

/* –°–¢–ò–õ–Ü –î–õ–Ø –ü–†–û–ö–†–£–¢–ö–ò –ú–û–î–ê–õ–¨–ù–ò–• –í–Ü–ö–û–ù */
#theoryModal .modal-content,
#questionsModal .modal-content,
#trainerModal .modal-content,
#videoModal .modal-content {
    scrollbar-width: thin;
    scrollbar-color: #800000 #f0f0f0;
}

/* –î–ª—è –≤–µ–±–∫—ñ—Ç –±—Ä–∞—É–∑–µ—Ä—ñ–≤ (Chrome, Safari, Edge) */
#theoryModal .modal-content::-webkit-scrollbar,
#questionsModal .modal-content::-webkit-scrollbar,
#trainerModal .modal-content::-webkit-scrollbar,
#videoModal .modal-content::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

#theoryModal .modal-content::-webkit-scrollbar-track,
#questionsModal .modal-content::-webkit-scrollbar-track,
#trainerModal .modal-content::-webkit-scrollbar-track,
#videoModal .modal-content::-webkit-scrollbar-track {
    background: #f0f0f0;
    border-radius: 4px;
}

#theoryModal .modal-content::-webkit-scrollbar-thumb,
#questionsModal .modal-content::-webkit-scrollbar-thumb,
#trainerModal .modal-content::-webkit-scrollbar-thumb,
#videoModal .modal-content::-webkit-scrollbar-thumb {
    background: #800000;
    border-radius: 4px;
    border: 2px solid #f0f0f0;
}

#theoryModal .modal-content::-webkit-scrollbar-thumb:hover,
#questionsModal .modal-content::-webkit-scrollbar-thumb:hover,
#trainerModal .modal-content::-webkit-scrollbar-thumb:hover,
#videoModal .modal-content::-webkit-scrollbar-thumb:hover {
    background: #5f0000;
}

/* –°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ –¥–ª—è –¥–æ–≤–≥–∏—Ö –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö —Ñ–æ—Ä–º—É–ª —É details */
#theoryModal details .modal-content p {
    overflow-x: auto;
    white-space: nowrap;
    padding-bottom: 10px; /* –î–æ–¥–∞—î–º–æ –º—ñ—Å—Ü–µ –¥–ª—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
    margin-bottom: 10px;
}

#theoryModal details .modal-content p::-webkit-scrollbar {
    height: 6px;
}

#theoryModal details .modal-content p::-webkit-scrollbar-track {
    background: #f8f9fa;
    border-radius: 3px;
}

#theoryModal details .modal-content p::-webkit-scrollbar-thumb {
    background: #006064;
    border-radius: 3px;
}

#theoryModal details .modal-content p::-webkit-scrollbar-thumb:hover {
    background: #004d4d;
}

/* –î–ª—è Firefox */
#theoryModal details .modal-content p {
    scrollbar-width: thin;
    scrollbar-color: #006064 #f8f9fa;
}

/* –°—Ç–∏–ª—ñ –¥–ª—è –∫–∞—Ä—Ç–æ–∫ –ø–∏—Ç–∞–Ω—å –∑ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ—é –ø—Ä–æ–∫—Ä—É—Ç–∫–æ—é */
#questionsModal .question-card:nth-child(12) .card-back {
    overflow-x: auto;
    scrollbar-width: thin;
    scrollbar-color: #800000 #f0f0f0;
    white-space: nowrap;
    width: 100%;
    box-sizing: border-box;
    text-align: left;
    padding: 10px 15px;
}

#questionsModal .question-card:nth-child(12) .card-back::-webkit-scrollbar {
    height: 6px;
}

#questionsModal .question-card:nth-child(12) .card-back::-webkit-scrollbar-track {
    background: #f0f0f0;
    border-radius: 3px;
}

#questionsModal .question-card:nth-child(12) .card-back::-webkit-scrollbar-thumb {
    background: #800000;
    border-radius: 3px;
    border: 1px solid #f0f0f0;
}

#questionsModal .question-card:nth-child(12) .card-back::-webkit-scrollbar-thumb:hover {
    background: #5f0000;
}

/* –ü–ª–∞–≤–Ω–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è –≤—Å—ñ—Ö –º–æ–¥–∞–ª—å–Ω–∏—Ö –≤—ñ–∫–æ–Ω */
#theoryModal .modal-content,
#questionsModal .modal-content,
#trainerModal .modal-content,
#videoModal .modal-content {
    scroll-behavior: smooth;
}

/* –î–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ - —Ç—Ä–æ—à–∫–∏ —à–∏—Ä—à–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ */
@media (max-width: 768px) {
    #theoryModal .modal-content::-webkit-scrollbar,
    #questionsModal .modal-content::-webkit-scrollbar,
    #trainerModal .modal-content::-webkit-scrollbar,
    #videoModal .modal-content::-webkit-scrollbar {
        width: 10px;
        height: 10px;
    }
    
    #theoryModal details .modal-content p::-webkit-scrollbar {
        height: 8px;
    }
    
    #questionsModal .question-card:nth-child(12) .card-back::-webkit-scrollbar {
        height: 8px;
    }
}

/* –ê–Ω—ñ–º–∞—Ü—ñ—è –ø—Ä–∏ –ø–æ—è–≤—ñ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
@keyframes scrollbarAppear {
    0% { opacity: 0; }
    100% { opacity: 1; }
}

#theoryModal .modal-content::-webkit-scrollbar-thumb,
#questionsModal .modal-content::-webkit-scrollbar-thumb,
#trainerModal .modal-content::-webkit-scrollbar-thumb,
#videoModal .modal-content::-webkit-scrollbar-thumb {
    animation: scrollbarAppear 0.3s ease-out;
}
    </style>
</head>
<body>
    <div class="title-box">
        <h1>1. –ü–æ–Ω—è—Ç—Ç—è –ø—Ä–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ñ —á–∏—Å–ª–∞</h1>
    </div>

    <div class="section-container">
        <div class="section" id="openTheoryBtn" tabindex="0" role="button" aria-pressed="false">
            <img src="https://img.icons8.com/fluency/96/book-shelf.png" alt="–ö–Ω–∏–≥–∞" />
            <h2>–¢–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ</h2>
        </div>
        <div class="section" id="openVideoBtn" tabindex="0" role="button" aria-pressed="false">
            <img src="https://img.icons8.com/fluency/96/video.png" alt="–í—ñ–¥–µ–æ" />
            <h2>–í—ñ–¥–µ–æ–º–∞—Ç–µ—Ä—ñ–∞–ª–∏</h2>
        </div>
        <div class="section" id="openQuestionsBtn" tabindex="0" role="button" aria-pressed="false">
            <img src="https://img.icons8.com/fluency/96/flipboard.png" alt="–ö–∞—Ä—Ç–∫–∏" />
            <h2>–ü–∏—Ç–∞–Ω–Ω—è —ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ</h2>
        </div>
        <div class="section" id="openTrainerBtn" tabindex="0" role="button" aria-pressed="false">
            <img src="https://img.icons8.com/fluency/96/flash-on.png" alt="–¢—Ä–µ–Ω–∞–∂–µ—Ä" />
            <h2>–¢—Ä–µ–Ω–∞–∂–µ—Ä</h2>
        </div>
    </div>

    <div class="navigation-buttons">
        <a class="nav-button" href='tema1.html'>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                <path d="M15 18l-6-6 6-6"/>
            </svg>
            –î–æ —Ç–µ–º–∏ 1
        </a>
        <a class="nav-button" href='zmist.html'>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
  <path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
</svg>

            –î–æ –∫—É—Ä—Å—É
        </a>
    </div>

    <div id="modalOverlay"></div>

    <div id="theoryModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal-header">
            <button class="close-btn" aria-label="–ó–∞–∫—Ä–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç" id="closeTheoryBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
        <div class="modal-content">
            <details>
                <summary>–Ü—Å—Ç–æ—Ä–∏—á–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</summary>
                <p>–Ü—Å—Ç–æ—Ä–∏—á–Ω–æ <strong class="highlight-term">–∫–æ–º–ø–ª–µ–∫—Å–Ω—ñ —á–∏—Å–ª–∞</strong> –≤–∏–Ω–∏–∫–ª–∏ —á–µ—Ä–µ–∑ –ø–æ—Ç—Ä–µ–±—É —Ä–æ–∑–≤'—è–∑—É–≤–∞—Ç–∏ —Ä—ñ–≤–Ω—è–Ω–Ω—è, —è–∫—ñ –Ω–µ –º–∞—é—Ç—å —Ä–æ–∑–≤'—è–∑–∫—ñ–≤ —É –º–Ω–æ–∂–∏–Ω—ñ <strong class="highlight-term">–¥—ñ–π—Å–Ω–∏—Ö —á–∏—Å–µ–ª</strong>. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —Ä—ñ–≤–Ω—è–Ω–Ω—è <em class="math-notation">\( x^2 + 1 = 0 \)</em> –Ω–µ –º–∞—î —Ä–æ–∑–≤'—è–∑–∫—ñ–≤ —Å–µ—Ä–µ–¥ –¥—ñ–π—Å–Ω–∏—Ö —á–∏—Å–µ–ª, –æ—Å–∫—ñ–ª—å–∫–∏ –∫–≤–∞–¥—Ä–∞—Ç –±—É–¥—å-—è–∫–æ–≥–æ –¥—ñ–π—Å–Ω–æ–≥–æ —á–∏—Å–ª–∞ –∑–∞–≤–∂–¥–∏ —î –Ω–µ–≤—ñ–¥'—î–º–Ω–∏–º. –î—ñ—è –¥–æ–±—É–≤–∞–Ω–Ω—è –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ –∫–æ—Ä–µ–Ω—è –∑ –≤—ñ–¥'—î–º–Ω–æ–≥–æ —á–∏—Å–ª–∞ –Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–∞ —É –º–Ω–æ–∂–∏–Ω—ñ –¥—ñ–π—Å–Ω–∏—Ö —á–∏—Å–µ–ª. –Ü–Ω—à–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –≤–∏—Ä–∞–∑ <em class="math-notation">\( \sqrt{-1} \)</em> –Ω–µ –º–∞—î —Å–µ–Ω—Å—É —É –º–Ω–æ–∂–∏–Ω—ñ –¥—ñ–π—Å–Ω–∏—Ö —á–∏—Å–µ–ª.</p>
            </details>
            <details>
                <summary>–£—è–≤–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è</summary>
                <p>–©–æ–± —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ —á–∏—Å–ª–æ–≤—É —Å–∏—Å—Ç–µ–º—É —ñ –Ω–∞–¥–∞—Ç–∏ –∑–º—ñ—Å—Ç —Ç–∞–∫–∏–º —Ä—ñ–≤–Ω—è–Ω–Ω—è–º, –±—É–ª–æ –≤–≤–µ–¥–µ–Ω–æ –æ—Å–æ–±–ª–∏–≤–µ —á–∏—Å–ª–æ, –∫–≤–∞–¥—Ä–∞—Ç —è–∫–æ–≥–æ –¥–æ—Ä—ñ–≤–Ω—é—î <em class="math-notation">\(-1\)</em>. –¶–µ —á–∏—Å–ª–æ –ø–æ–∑–Ω–∞—á–∞—é—Ç—å –ª—ñ—Ç–µ—Ä–æ—é <em class="math-notation">\( i \)</em>, —ñ –≤–æ–Ω–æ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è <strong class="highlight-term">—É—è–≤–Ω–æ—é –æ–¥–∏–Ω–∏—Ü–µ—é</strong>. –ó–∞ –æ–∑–Ω–∞—á–µ–Ω–Ω—è–º: <em class="math-notation">\( i^2 = -1 \).</em> </p>
                <p>–†—ñ–≤–Ω—è–Ω–Ω—è <em class="math-notation">\( x^2 + 1 = 0 \)</em> –º–∞—î –¥–≤–∞ —Ä–æ–∑–≤'—è–∑–∫–∏ <em class="math-notation">\( x = i \)</em> —Ç–∞ <em class="math-notation">\( x = -i \)</em>, –¥–µ <em class="math-notation">\( i \)</em> ‚Äì —É—è–≤–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è. –¶–µ –≤–∏–ø–ª–∏–≤–∞—î –∑ —Ç–æ–≥–æ, —â–æ <em class="math-notation">\( i^2 = -1 \)</em> —Ç–∞ <em class="math-notation">\( (-i)^2 = -1 \)</em>.</p>
                <p>–§–æ—Ä–º–∞–ª—å–Ω–æ –º–æ–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç–∏, —â–æ <em class="math-notation">\( \pm i = \sqrt{-1} \)</em>. –î–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—ñ –ø—Ä–∏–π–Ω—è—Ç–æ –≤–≤–∞–∂–∞—Ç–∏: <em class="math-notation">\( i = \sqrt{-1} \)</em>.</p>
                <p>–¶–µ –ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è —î —É–∑–≥–æ–¥–∂–µ–Ω–∏–º —ñ–∑ —Ä—ñ–≤–Ω—ñ—Å—Ç—é  <em class="math-notation">\( i^2 = -1 \)</em>.</p>
            </details>
            <details>
                <summary>–ß–∏—Å—Ç–æ —É—è–≤–Ω—ñ —á–∏—Å–ª–∞</summary>
                <p>–ß–∏—Å–ª–∞ –≤–∏–¥—É <em class="math-notation">\( bi \)</em>, –¥–µ <em class="math-notation">\( b \)</em> ‚Äì –Ω–µ–Ω—É–ª—å–æ–≤–µ –¥—ñ–π—Å–Ω–µ —á–∏—Å–ª–æ, –Ω–∞–∑–∏–≤–∞—é—Ç—å—Å—è <strong class="highlight-term">—É—è–≤–Ω–∏–º–∏</strong> –∞–±–æ <strong class="highlight-term">—á–∏—Å—Ç–æ —É—è–≤–Ω–∏–º–∏ —á–∏—Å–ª–∞–º–∏</strong>. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, <em class="math-notation">\( 2i \)</em> –∞–±–æ <em class="math-notation">\( -3i \)</em> ‚Äì —Ü–µ —á–∏—Å—Ç–æ —É—è–≤–Ω—ñ —á–∏—Å–ª–∞.</p>
            </details>
            <details>
                <summary>–ö–æ–º–ø–ª–µ–∫—Å–Ω—ñ —á–∏—Å–ª–∞</summary>
                <p><strong class="highlight-term">–ö–æ–º–ø–ª–µ–∫—Å–Ω—ñ —á–∏—Å–ª–∞</strong> –º–æ–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç–∏ —É —Ñ–æ—Ä–º—ñ <em class="math-notation">\( z = a + bi \)</em>, –¥–µ <em class="math-notation">\( i \)</em> ‚Äì —É—è–≤–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è, –∞ <em class="math-notation">\( a \)</em> —ñ <em class="math-notation">\( b \)</em> ‚Äì –¥–æ–≤—ñ–ª—å–Ω—ñ –¥—ñ–π—Å–Ω—ñ —á–∏—Å–ª–∞.</p>
                <p>–ö–æ–º–ø–ª–µ–∫—Å–Ω–µ —á–∏—Å–ª–æ <em class="math-notation">\( z = a + bi \)</em> –º–∞—î:
                <ul>
                    <li><strong class="highlight-term">–¥—ñ–π—Å–Ω—É —á–∞—Å—Ç–∏–Ω—É</strong>: <em class="math-notation">\( a \)</em></li>
                    <li><strong class="highlight-term">—É—è–≤–Ω—É —á–∞—Å—Ç–∏–Ω—É</strong>: <em class="math-notation">\( b \)</em></li>
                </ul>
                <p>–Ø–∫—â–æ <em class="math-notation">\( a = 0 \)</em>, —Ç–æ —á–∏—Å–ª–æ —î <strong class="highlight-term">—á–∏—Å—Ç–æ —É—è–≤–Ω–∏–º</strong> (<em class="math-notation">\( z = bi \)</em>).</p>
                <p>–Ø–∫—â–æ <em class="math-notation">\( b = 0 \)</em>, —Ç–æ —á–∏—Å–ª–æ —î <strong class="highlight-term">–¥—ñ–π—Å–Ω–∏–º</strong> (<em class="math-notation">\( z = a \)</em>).</p>
            </details>
            <details>
                <summary>–ú–Ω–æ–∂–∏–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏—Ö —á–∏—Å–µ–ª</summary>
                <p>–ú–Ω–æ–∂–∏–Ω–∞ –≤—Å—ñ—Ö <strong class="highlight-term">–∫–æ–º–ø–ª–µ–∫—Å–Ω–∏—Ö —á–∏—Å–µ–ª</strong> –ø–æ–∑–Ω–∞—á–∞—î—Ç—å—Å—è —Å–∏–º–≤–æ–ª–æ–º <em class="math-notation">\( \mathbb{C.} \)</em> –í–æ–Ω–∞ —î —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è–º –º–Ω–æ–∂–∏–Ω–∏ <strong class="highlight-term">–¥—ñ–π—Å–Ω–∏—Ö —á–∏—Å–µ–ª</strong> —ñ –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–∑–≤'—è–∑—É–≤–∞—Ç–∏ –∑–∞–¥–∞—á—ñ, —è–∫—ñ –Ω–µ–º–æ–∂–ª–∏–≤–æ –≤–∏—Ä—ñ—à–∏—Ç–∏ –ª–∏—à–µ –≤ –º–µ–∂–∞—Ö –¥—ñ–π—Å–Ω–∏—Ö —á–∏—Å–µ–ª.</p>
                <p><strong class="highlight-term">–£—è–≤–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è</strong> <em class="math-notation">\( i \)</em> –Ω–µ –Ω–∞–ª–µ–∂–∏—Ç—å –º–Ω–æ–∂–∏–Ω—ñ –¥—ñ–π—Å–Ω–∏—Ö —á–∏—Å–µ–ª, –æ–¥–Ω–∞–∫ –≤–æ–Ω–∞ –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ –º–Ω–æ–∂–∏–Ω—É –¥—ñ–π—Å–Ω–∏—Ö —á–∏—Å–µ–ª –¥–æ –º–Ω–æ–∂–∏–Ω–∏ <strong class="highlight-term">–∫–æ–º–ø–ª–µ–∫—Å–Ω–∏—Ö —á–∏—Å–µ–ª</strong>.</p>
            </details>
        </div>
    </div>

    <div id="videoModal" role="dialog" aria-modal="true" aria-labelledby="videoTitle">
        <div class="modal-header">
            <button class="close-btn" aria-label="–ó–∞–∫—Ä–∏—Ç–∏ –≤—ñ–¥–µ–æ" id="closeVideoBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
        <div class="modal-content">
            <h2 style="text-align: center; color: #003153;">–û–±–µ—Ä—ñ—Ç—å –≤—ñ–¥–µ–æ</h2>
            <div class="video-card-container">
                <div class="video-card" data-video="1">
                    <img src="https://img.icons8.com/?size=100&id=o1CR3NjO7Pv8&format=png&color=000000" alt="–í—ñ–¥–µ–æ–∫–∞–º–µ—Ä–∞" />
                    <h3>–£—è–≤–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è: –∑–Ω–∞–π–æ–º—Å—Ç–≤–æ –∑ <em class="math-i">i</em></h3>
                </div>
                <div class="video-card" data-video="2">
                    <img src="https://img.icons8.com/?size=100&id=o1CR3NjO7Pv8&format=png&color=000000" alt="–í—ñ–¥–µ–æ–∫–∞–º–µ—Ä–∞" />
                    <h3>–í—ñ–¥'—î–º–Ω–µ –ø—ñ–¥ –∫–æ—Ä–µ–Ω–µ–º ‚Äî –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞!</h3>
                </div>
                <div class="video-card" data-video="3">
                    <img src="https://img.icons8.com/?size=100&id=o1CR3NjO7Pv8&format=png&color=000000" alt="–í—ñ–¥–µ–æ–∫–∞–º–µ—Ä–∞" />
                    <h3>–£—è–≤–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è <em class="math-i">i</em> —è–∫ –∫–æ—Ä—ñ–Ω—å –∑ –º—ñ–Ω—É—Å –æ–¥–Ω–æ–≥–æ</h3>
                </div>
            </div>
        </div>
    </div>

    <div id="videoPlayerModal1" role="dialog" aria-modal="true" aria-labelledby="videoPlayerTitle1">
        <div class="modal-header">
            <button class="close-btn" aria-label="–ó–∞–∫—Ä–∏—Ç–∏ –≤—ñ–¥–µ–æ" id="closeVideoPlayerBtn1">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
        <div class="modal-content">
            <div class="video-player-container">
                <iframe id="youtubePlayer1" width="100%" height="400" src="https://www.youtube.com/embed/HK99lj3c9RI?rel=0&modestbranding=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <div id="videoPlayerModal2" role="dialog" aria-modal="true" aria-labelledby="videoPlayerTitle2">
        <div class="modal-header">
            <button class="close-btn" aria-label="–ó–∞–∫—Ä–∏—Ç–∏ –≤—ñ–¥–µ–æ" id="closeVideoPlayerBtn2">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
        <div class="modal-content">
            <div class="video-player-container">
                <iframe id="youtubePlayer2" width="100%" height="400" src="https://www.youtube.com/embed/ecCUSwJVv0A?rel=0&modestbranding=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <div id="videoPlayerModal3" role="dialog" aria-modal="true" aria-labelledby="videoPlayerTitle3">
        <div class="modal-header">
            <button class="close-btn" aria-label="–ó–∞–∫—Ä–∏—Ç–∏ –≤—ñ–¥–µ–æ" id="closeVideoPlayerBtn3">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
        <div class="modal-content">
            <div class="video-player-container">
                <iframe id="youtubePlayer3" width="100%" height="400" src="https://www.youtube.com/embed/gHLUewnFFqg?rel=0&modestbranding=1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <div id="questionsModal" role="dialog" aria-modal="true" aria-labelledby="questionsTitle">
        <div class="modal-header">
            <button class="close-btn" aria-label="–ó–∞–∫—Ä–∏—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è" id="closeQuestionsBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
        <div class="modal-content">
            <div class="question-card">
                <div class="card-inner">
                    <div class="card-front">1. –©–æ —Ç–∞–∫–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–µ —á–∏—Å–ª–æ?</div>
                    <div class="card-back"><span>–ö–æ–º–ø–ª–µ–∫—Å–Ω–µ —á–∏—Å–ª–æ ‚Äî —Ü–µ —á–∏—Å–ª–æ, —è–∫–µ –º–∞—î –≤–∏–≥–ª—è–¥ <em class="math-notation">\( z = a + bi \)</em>, –¥–µ <em class="math-notation">\( a \)</em> —ñ <em class="math-notation">\( b \)</em> ‚Äî –¥—ñ–π—Å–Ω—ñ —á–∏—Å–ª–∞, –∞ <em class="math-notation">\( i \)</em> ‚Äî —É—è–≤–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è, –¥–ª—è —è–∫–æ—ó —Å–ø—Ä–∞–≤–¥–∂—É—î—Ç—å—Å—è <em class="math-notation">\( i^2 = -1 \)</em>. –¢—É—Ç <em class="math-notation">\( a \)</em> –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è –¥—ñ–π—Å–Ω–æ—é —á–∞—Å—Ç–∏–Ω–æ—é, <em class="math-notation">\( b \)</em> ‚Äî —É—è–≤–Ω–æ—é —á–∞—Å—Ç–∏–Ω–æ—é.</span></div>
                </div>
            </div>
            <div class="question-card">
                <div class="card-inner">
                    <div class="card-front">2. –©–æ –æ–∑–Ω–∞—á–∞—î —Ç–µ—Ä–º—ñ–Ω —É—è–≤–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è —É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏—Ö —á–∏—Å–µ–ª?</div>
                    <div class="card-back"><span>–£—è–≤–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è ‚Äî —Ü–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–µ —á–∏—Å–ª–æ, –ø–æ–∑–Ω–∞—á–µ–Ω–µ –ª—ñ—Ç–µ—Ä–æ—é <em class="math-notation">\( i \)</em>, –¥–ª—è —è–∫–æ–≥–æ <em class="math-notation">\( i^2 = -1 .\)</em> –í–æ–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —á–∏—Å–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏ –∑–∞ –º–µ–∂—ñ –¥—ñ–π—Å–Ω–∏—Ö —á–∏—Å–µ–ª.</span></div>
                </div>
            </div>
            <div class="question-card">
                <div class="card-inner">
                    <div class="card-front">3. –©–æ —Ç–∞–∫–µ —á–∏—Å—Ç–æ —É—è–≤–Ω–µ —á–∏—Å–ª–æ?</div>
                    <div class="card-back"><span>–ß–∏—Å—Ç–æ —É—è–≤–Ω–µ —á–∏—Å–ª–æ ‚Äî —Ü–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–µ —á–∏—Å–ª–æ, —É —è–∫–æ–≥–æ –¥—ñ–π—Å–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ –¥–æ—Ä—ñ–≤–Ω—é—î –Ω—É–ª—é: <em class="math-notation">\( z = bi \)</em>, –¥–µ <em class="math-notation">\( b \neq 0 \)</em>. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, <em class="math-notation">\( 3i \)</em>, <em class="math-notation">\( -5i \)</em> ‚Äî —á–∏—Å—Ç–æ —É—è–≤–Ω—ñ —á–∏—Å–ª–∞.</span></div>
                </div>
            </div>
            <div class="question-card">
                <div class="card-inner">
                    <div class="card-front">4. –Ø–∫ –ø–æ–∑–Ω–∞—á–∞—é—Ç—å –º–Ω–æ–∂–∏–Ω—É –≤—Å—ñ—Ö –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏—Ö —á–∏—Å–µ–ª?</div>
                    <div class="card-back"><span>–ú–Ω–æ–∂–∏–Ω—É –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏—Ö —á–∏—Å–µ–ª –ø–æ–∑–Ω–∞—á–∞—é—Ç—å —Å–∏–º–≤–æ–ª–æ–º <em class="math-notation">\( \mathbb{C} \)</em>.</span></div>
                </div>
            </div>
            <div class="question-card">
                <div class="card-inner">
                    <div class="card-front">5. –Ø–∫–µ —á–∏—Å–ª–æ –≤–≤–∞–∂–∞—î—Ç—å—Å—è –¥—ñ–π—Å–Ω–∏–º —É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏—Ö —á–∏—Å–µ–ª?</div>
                    <div class="card-back"><span>–ö–æ–º–ø–ª–µ–∫—Å–Ω–µ —á–∏—Å–ª–æ –≤–≤–∞–∂–∞—î—Ç—å—Å—è –¥—ñ–π—Å–Ω–∏–º, —è–∫—â–æ –π–æ–≥–æ —É—è–≤–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ –¥–æ—Ä—ñ–≤–Ω—é—î –Ω—É–ª—é: <em class="math-notation">\( z = a + 0i = a \)</em>.</span></div>
                </div>
            </div>
            <div class="question-card">
                <div class="card-inner">
                    <div class="card-front">
                        6. –ß–æ–º—É –ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è
                       <div style="text-align: center">\( i = \sqrt{-1} \)</div>
                        —î —Ñ–æ—Ä–º–∞–ª—å–Ω–∏–º, –∞ –Ω–µ –∑–≤–∏—á–∞–π–Ω–∏–º –∫–æ—Ä–µ–Ω–µ–º?
                    </div>
                    <div class="card-back">
                        <span>–¢–æ–º—É —â–æ –¥–æ–±—É–≤–∞–Ω–Ω—è –∫–æ—Ä–µ–Ω—è –∑ –≤—ñ–¥'—î–º–Ω–æ–≥–æ —á–∏—Å–ª–∞ –Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–µ —É –º–Ω–æ–∂–∏–Ω—ñ –¥—ñ–π—Å–Ω–∏—Ö —á–∏—Å–µ–ª, —Ç–æ–º—É —Ü–µ —Ä–∞–¥—à–µ —É–º–æ–≤–Ω–µ –æ–∑–Ω–∞—á–µ–Ω–Ω—è, <em class="math-notation">\( i = \sqrt{-1} \)</em>, —É–∑–≥–æ–¥–∂–µ–Ω–µ –∑ —Ä—ñ–≤–Ω—ñ—Å—Ç—é <em class="math-notation">\( i^2 = -1 .\)</em> </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="trainerModal" role="dialog" aria-modal="true" aria-labelledby="trainerTitle">
        <div class="modal-header">
            <button class="close-btn" aria-label="–ó–∞–∫—Ä–∏—Ç–∏ —Ç—Ä–µ–Ω–∞–∂–µ—Ä" id="closeTrainerBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
        <div class="modal-content">
            <div class="trainer-container" id="trainerContent">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
        </div>
    </div>

    <script>
        // ---------- –ú–û–î–ê–õ–¨–ù–Ü –í–Ü–ö–ù–ê ----------
        const openTheoryBtn = document.getElementById('openTheoryBtn');
        const openVideoBtn = document.getElementById('openVideoBtn');
        const openQuestionsBtn = document.getElementById('openQuestionsBtn');
        const openTrainerBtn = document.getElementById('openTrainerBtn');
        const theoryModal = document.getElementById('theoryModal');
        const videoModal = document.getElementById('videoModal');
        const questionsModal = document.getElementById('questionsModal');
        const trainerModal = document.getElementById('trainerModal');
        const videoPlayerModal1 = document.getElementById('videoPlayerModal1');
        const videoPlayerModal2 = document.getElementById('videoPlayerModal2');
        const videoPlayerModal3 = document.getElementById('videoPlayerModal3');
        const youtubePlayer1 = document.getElementById('youtubePlayer1');
        const youtubePlayer2 = document.getElementById('youtubePlayer2');
        const youtubePlayer3 = document.getElementById('youtubePlayer3');
        const closeVideoPlayerBtn1 = document.getElementById('closeVideoPlayerBtn1');
        const closeVideoPlayerBtn2 = document.getElementById('closeVideoPlayerBtn2');
        const closeVideoPlayerBtn3 = document.getElementById('closeVideoPlayerBtn3');
        const overlay = document.getElementById('modalOverlay');
        const closeTheoryBtn = document.getElementById('closeTheoryBtn');
        const closeVideoBtn = document.getElementById('closeVideoBtn');
        const closeQuestionsBtn = document.getElementById('closeQuestionsBtn');
        const closeTrainerBtn = document.getElementById('closeTrainerBtn');

        // –î–æ–¥–∞–π—Ç–µ —Ü–µ–π –∫–æ–¥ –≤ —Å–µ–∫—Ü—ñ—é JavaScript –ø—ñ—Å–ª—è –≤—Å—ñ—Ö –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ–π

// –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–∏—Ö –≤—ñ–∫–æ–Ω
function enhanceModalScrolling() {
    const modals = [theoryModal, questionsModal, trainerModal, videoModal];
    
    modals.forEach(modal => {
        if (!modal) return;
        
        const content = modal.querySelector('.modal-content');
        if (!content) return;
        
        // –î–æ–¥–∞—î–º–æ –∫–ª–∞—Å –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—ñ –¥–ª—è –∫—Ä–∞—â–æ—ó –≤–∏–¥–∏–º–æ—Å—Ç—ñ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        content.addEventListener('mouseenter', () => {
            content.style.scrollbarWidth = 'thin';
        });
        
        // –ü–ª–∞–≤–Ω–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–æ –ø–æ—á–∞—Ç–∫—É –ø—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ
        modal.addEventListener('click', (e) => {
            if (e.target === modal || e.target.classList.contains('close-btn')) {
                setTimeout(() => {
                    content.scrollTo({ top: 0, left: 0, behavior: 'smooth' });
                }, 100);
            }
        });
    });
}

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ–∫—Ä–∞—â–µ–Ω–æ—ó –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
window.addEventListener('load', enhanceModalScrolling);

// –¢–∞–∫–æ–∂ –¥–æ–¥–∞—î–º–æ –¥–ª—è –∫–∞—Ä—Ç–æ–∫ –ø–∏—Ç–∞–Ω—å
document.querySelectorAll('.question-card').forEach(card => {
    const cardBack = card.querySelector('.card-back');
    if (cardBack && cardBack.scrollWidth > cardBack.clientWidth) {
        // –Ø–∫—â–æ –∫–æ–Ω—Ç–µ–Ω—Ç —à–∏—Ä—à–∏–π –∑–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –¥–æ–¥–∞—î–º–æ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        cardBack.style.position = 'relative';
        
        // –î–æ–¥–∞—î–º–æ –≥—Ä–∞–¥—ñ—î–Ω—Ç –Ω–∞ –∫—Ä–∞—è—Ö –¥–ª—è —ñ–Ω–¥–∏–∫–∞—Ü—ñ—ó –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
        cardBack.style.background = `
            linear-gradient(to right, #006064 0%, #006064 95%, transparent 100%),
            linear-gradient(to left, #006064 0%, #006064 95%, transparent 100%)
        `;
        cardBack.style.backgroundSize = '50px 100%, 50px 100%';
        cardBack.style.backgroundRepeat = 'no-repeat';
        cardBack.style.backgroundPosition = 'left center, right center';
    }
});

        // ---------- –î–û–ü–û–ú–Ü–ñ–ù–Ü –§–£–ù–ö–¶–Ü–á ----------
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function formatComplexNumber(a, b) {
            let str = '';
            if (a !== 0) {
                str += a;
                if (b > 0) str += '+';
            }
            if (b !== 0) {
                if (b === 1) str += 'i';
                else if (b === -1) str += '-i';
                else str += b + 'i';
            }
            // –Ø–∫—â–æ –æ–±–∏–¥–≤–∞ –Ω—É–ª—ñ
            if (str === '') str = '0';
            // –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–ª—è –≤–∏–ø–∞–¥–∫—ñ–≤, –∫–æ–ª–∏ a=0 –∞–ª–µ b –Ω–µ –Ω—É–ª—å
            if (a === 0 && b !== 0) {
                if (b === 1) str = 'i';
                else if (b === -1) str = '-i';
                else str = b + 'i';
            }
            return str;
        }

        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function getRandomIntExcluding(min, max, excludeList) {
            let num;
            do {
                num = getRandomInt(min, max);
            } while (excludeList.includes(num));
            return num;
        }

        // ---------- –ì–ï–ù–ï–†–ê–¶–Ü–Ø –ü–ò–¢–ê–ù–¨ ----------
        const questionGenerators = {
            // –ü–∏—Ç–∞–Ω–Ω—è 1: –Ø–∫–∏–º —î —á–∏—Å–ª–æ a+bi?
            q1: function() {
                let a, b;
                // –ì–µ–Ω–µ—Ä—É—î–º–æ —Ç–∞–∫, —â–æ–± –æ–±–∏–¥–≤–∞ –Ω–µ –±—É–ª–∏ –Ω—É–ª—è–º–∏
                do {
                    a = getRandomIntExcluding(-5, 5, [0]);
                    b = getRandomIntExcluding(-5, 5, [0]);
                } while (a === 0 && b === 0);
                
                const number = formatComplexNumber(a, b);
                const question = `–Ø–∫–∏–º —î —á–∏—Å–ª–æ \\(${number}\\)?`;
                
                // –í–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
                const options = ['–¥—Ä–æ–±–æ–≤–∏–º', '–¥—ñ–π—Å–Ω–∏–º', '—É—è–≤–Ω–∏–º', '–∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–º'];
                shuffleArray(options);
                
                return {
                    text: question,
                    options: options,
                    correct: '–∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–º',
                    type: 'single'
                };
            },
            
            // –ü–∏—Ç–∞–Ω–Ω—è 2: –í–∏–±–µ—Ä—ñ—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ñ —á–∏—Å–ª–∞
            q2: function() {
                // –°—Ç–≤–æ—Ä—é—î–º–æ 4 —á–∏—Å–ª–∞: 2 –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏—Ö (a+bi, –¥–µ a —ñ b –Ω–µ –Ω—É–ª—ñ), 1 —á–∏—Å—Ç–æ —É—è–≤–Ω–µ, 1 –¥—ñ–π—Å–Ω–µ
                const numbers = [];
                
                // 2 –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏—Ö
                for (let i = 0; i < 2; i++) {
                    let a, b;
                    do {
                        a = getRandomIntExcluding(-3, 3, [0]);
                        b = getRandomIntExcluding(-3, 3, [0]);
                    } while (a === 0 || b === 0);
                    numbers.push({
                        value: formatComplexNumber(a, b),
                        isCorrect: true
                    });
                }
                
                // 1 —á–∏—Å—Ç–æ —É—è–≤–Ω–µ
                const b = getRandomIntExcluding(-4, 4, [0, 1, -1]);
                numbers.push({
                    value: formatComplexNumber(0, b),
                    isCorrect: true
                });
                
                // 1 –¥—ñ–π—Å–Ω–µ
                const a = getRandomIntExcluding(-4, 4, [0]);
                numbers.push({
                    value: a.toString(),
                    isCorrect: false
                });
                
                shuffleArray(numbers);
                
                return {
                    text: '–ó –Ω–∞–≤–µ–¥–µ–Ω–∏—Ö —á–∏—Å–µ–ª –≤–∏–±–µ—Ä—ñ—Ç—å —Ç—ñ, —è–∫—ñ —î –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–º–∏:',
                    options: numbers,
                    type: 'multi'
                };
            },
            
          // –ü–∏—Ç–∞–Ω–Ω—è 3: –°—Ç–µ–ø—ñ–Ω—å i - –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞ –≤–µ—Ä—Å—ñ—è
q3: function() {
    const powers = [1, 2, 3, 4];
    const power = powers[Math.floor(Math.random() * powers.length)];
    
    const correctAnswers = {
        1: '\\sqrt{-1}',
        2: '-1',
        3: '-i',
        4: '1'
    };
    
    const questionTexts = {
        1: '–ß–æ–º—É –¥–æ—Ä—ñ–≤–Ω—é—î \\(i\\)?',
        2: '–ß–æ–º—É –¥–æ—Ä—ñ–≤–Ω—é—î \\(i^2\\)?',
        3: '–ß–æ–º—É –¥–æ—Ä—ñ–≤–Ω—é—î \\(i^3\\)?',
        4: '–ß–æ–º—É –¥–æ—Ä—ñ–≤–Ω—é—î \\(i^4\\)?'
    };
    
    // –°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –Ω–∞–±–æ—Ä–∏ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –¥–ª—è –∫–æ–∂–Ω–æ—ó —Å—Ç–µ–ø–µ–Ω—ñ
    const optionSets = {
        1: ['i', '1', '-1', '\\sqrt{-1}'],           // –¥–ª—è i^1
        2: ['i', '1', '-1', '\\sqrt{i}'],            // –¥–ª—è i^2
        3: ['i', '-i', '1', '-1'],                   // –¥–ª—è i^3
        4: ['i', '-i', '1', '-1']                    // –¥–ª—è i^4
    };
    
    const correctAnswer = correctAnswers[power];
    let options = [...optionSets[power]]; // –∫–æ–ø—ñ—é—î–º–æ –±–∞–∑–æ–≤–∏–π –Ω–∞–±—ñ—Ä
    
    // –ü–µ—Ä–µ–º—ñ—à—É—î–º–æ –≤–∞—Ä—ñ–∞–Ω—Ç–∏
    shuffleArray(options);
    
    return {
        text: questionTexts[power],
        options: options,
        correct: correctAnswer,
        type: 'single'
    };
},
            // –ü–∏—Ç–∞–Ω–Ω—è 4: (bi)¬≤
            q4: function() {
                let b;
                do {
                    b = getRandomIntExcluding(-6, 6, [-1, 0, 1]);
                } while (Math.abs(b) < 2);
                
                const question = `–ß–æ–º—É –¥–æ—Ä—ñ–≤–Ω—é—î \\((${b}i)^2\\)?`;
                const correct = (-b*b).toString();
                
                // –ì–µ–Ω–µ—Ä—É—î–º–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏
                const wrongOptions = [
                    (b*b).toString(),
                    (2*b).toString() + 'i',
                    (-2*b).toString() + 'i',
                    b.toString() + 'i'
                ];
                
                let options = [correct, ...wrongOptions.slice(0, 3)];
                shuffleArray(options);
                
                return {
                    text: question,
                    options: options,
                    correct: correct,
                    type: 'single'
                };
            },
            
            // –ü–∏—Ç–∞–Ω–Ω—è 5: ‚àö(-n)
            q5: function() {
                const squares = [1, 4, 9, 16, 25, 36, 49, 64, 81, 100];
                const n = squares[Math.floor(Math.random() * squares.length)];
                const sqrtN = Math.sqrt(n);
                
                const question = `\\(\\sqrt{-${n}}\\) —É —Ç–µ—Ä–º—ñ–Ω–∞—Ö —É—è–≤–Ω–æ—ó –æ–¥–∏–Ω–∏—Ü—ñ –º–∞—î –≤–∏–≥–ª—è–¥:`;
                const correct = `${sqrtN}i`;
                
                // –í–∞—Ä—ñ–∞–Ω—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
                const options = [
                    `${sqrtN}i`,
                    `-${sqrtN}i`,
                    `${sqrtN}`,
                    `${n}i`
                ];
                
                shuffleArray(options);
                
                return {
                    text: question,
                    options: options,
                    correct: correct,
                    type: 'single'
                };
            }
        };

        // ---------- –°–ò–°–¢–ï–ú–ê –ü–ò–¢–ê–ù–¨ ----------
        let currentQuestion = 'q1';
        let generatedQuestions = {};
        
        function generateNewQuestion(questionType) {
            generatedQuestions[questionType] = questionGenerators[questionType]();
            return generatedQuestions[questionType];
        }
        
        function getCurrentQuestion() {
            if (!generatedQuestions[currentQuestion]) {
                generateNewQuestion(currentQuestion);
            }
            return generatedQuestions[currentQuestion];
        }
        
        function moveToNextQuestion() {
            const questionOrder = ['q1', 'q2', 'q3', 'q4', 'q5'];
            const currentIndex = questionOrder.indexOf(currentQuestion);
            
            if (currentIndex < questionOrder.length - 1) {
                currentQuestion = questionOrder[currentIndex + 1];
                generateNewQuestion(currentQuestion);
                return true;
            } else {
                currentQuestion = 'end';
                return false;
            }
        }
        
        function moveToSameQuestion() {
            // –ì–µ–Ω–µ—Ä—É—î–º–æ –Ω–æ–≤–µ –ø–∏—Ç–∞–Ω–Ω—è —Ç–æ–≥–æ –∂ —Ç–∏–ø—É
            generateNewQuestion(currentQuestion);
        }

        // ---------- –†–ï–ù–î–ï–†–ò–ù–ì ----------
        function renderQuestion() {
            if (currentQuestion === 'end') {
                document.getElementById('trainerContent').innerHTML = `
                    <div class="completion-message">
                        <div class="completion-emoji"></div>
                        <h2>–ú–Ü–°–Ü–Ø –í–ò–ö–û–ù–ê–ù–ê!</h2>
                        <p>–¢–∏ –≤–ø–µ–≤–Ω–µ–Ω–æ –ø—Ä–∞—Ü—é—î—à —ñ–∑ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–º–∏ —á–∏—Å–ª–∞–º–∏!</p>
                        <p><strong>–°–õ–ê–í–ê –£–ö–†–ê–á–ù–Ü!</strong></p>
                        <button id="resetTrainerBtn" class="reset-btn">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞ –ø–æ–ª—ñ–≥–æ–Ω!</button>
                    </div>
                `;
                return;
            }
            
            const q = getCurrentQuestion();
            const questionNumber = currentQuestion.charAt(1);
            
            let optionsHTML = '';
            if (q.type === 'multi') {
                optionsHTML = q.options.map((opt, i) => `
                    <div class="option" data-index="${i}" data-correct="${opt.isCorrect}">\\(${opt.value}\\)</div>
                `).join('');
            } else {
                optionsHTML = q.options.map(opt => `
                    <div class="option" data-answer="${opt}">\\(${opt}\\)</div>
                `).join('');
            }
            
            document.getElementById('trainerContent').innerHTML = `
                <div class="question-circle"><h3>–ü–∏—Ç–∞–Ω–Ω—è ${questionNumber}</h3></div>
                <p>${q.text}</p>
                <div class="options-container">${optionsHTML}</div>
                <button onclick="checkAnswer()">–í—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏</button>
                <div class="result" id="result"></div>
            `;
            
            // –†–µ–Ω–¥–µ—Ä–∏–º–æ MathJax
            if (typeof MathJax !== 'undefined') {
                MathJax.typesetPromise().catch(err => console.error('MathJax Error:', err));
            }
            
            // –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –∫–ª—ñ–∫—ñ–≤ –Ω–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∏
            const options = document.querySelectorAll('.option');
            options.forEach(opt => {
                opt.addEventListener('click', () => {
                    if (q.type === 'multi') {
                        opt.classList.toggle('selected');
                    } else {
                        options.forEach(o => o.classList.remove('selected'));
                        opt.classList.add('selected');
                    }
                });
            });
        }

        // ---------- –ü–ï–†–ï–í–Ü–†–ö–ê –í–Ü–î–ü–û–í–Ü–î–ï–ô ----------
        function showFeedback(isCorrect) {
            const feedbackDiv = document.createElement('div');
            feedbackDiv.className = isCorrect ? 'feedback correct-feedback' : 'feedback incorrect-feedback';
            feedbackDiv.innerHTML = isCorrect ? '‚úÖ –í–Ü–†–ù–û! –¶—ñ–ª—å —É—Ä–∞–∂–µ–Ω–∞!' : '‚ùå –ü—Ä–æ–º–∞—Ö! –°–ø—Ä–æ–±—É–π —â–µ!';
            document.body.appendChild(feedbackDiv);
            
            setTimeout(() => {
                feedbackDiv.remove();
                
                if (isCorrect) {
                    const hasNext = moveToNextQuestion();
                    if (hasNext) {
                        renderQuestion();
                    } else {
                        renderQuestion(); // –ø–æ–∫–∞–∑—É—î–º–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
                    }
                } else {
                    moveToSameQuestion();
                    renderQuestion();
                }
            }, 1500);
        }
        
        function checkAnswer() {
            const q = getCurrentQuestion();
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '';
            
            let isCorrect = false;
            
            if (q.type === 'multi') {
                const selected = Array.from(document.querySelectorAll('.option.selected'));
                const correctOptions = q.options.filter(opt => opt.isCorrect);
                
                // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –≤–∏–±—Ä–∞–Ω—ñ –≤—Å—ñ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ —ñ —Ç—ñ–ª—å–∫–∏ –≤–æ–Ω–∏
                isCorrect = selected.length === correctOptions.length &&
                            selected.every(opt => 
                                q.options[parseInt(opt.dataset.index)].isCorrect
                            );
            } else {
                const selected = document.querySelector('.option.selected');
                if (!selected) {
                    resultDiv.innerHTML = '<div class="result-text">–û–±–µ—Ä—ñ—Ç—å –≤–∞—Ä—ñ–∞–Ω—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ.</div>';
                    return;
                }
                isCorrect = selected.dataset.answer === q.correct;
            }
            
            showFeedback(isCorrect);
        }

        // ---------- –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø –¢–†–ï–ù–ê–ñ–ï–†–ê ----------
        openTrainerBtn.addEventListener('click', () => {
            // –°–∫–∏–¥–∞—î–º–æ —Å—Ç–∞–Ω
            currentQuestion = 'q1';
            generatedQuestions = {};
            generateNewQuestion('q1');
            
            openModal(trainerModal, openTrainerBtn);
            renderQuestion();
        });
        
        // –ö–Ω–æ–ø–∫–∞ —Å–∫–∏–¥–∞–Ω–Ω—è
        document.addEventListener('click', function(e) {
            if (e.target && e.target.id === 'resetTrainerBtn') {
                currentQuestion = 'q1';
                generatedQuestions = {};
                generateNewQuestion('q1');
                renderQuestion();
            }
        });

        // ---------- –£–ü–†–ê–í–õ–Ü–ù–ù–Ø –ú–û–î–ê–õ–¨–ù–ò–ú–ò –í–Ü–ö–ù–ê–ú–ò ----------
        document.querySelectorAll('.video-card img').forEach(img => {
            img.onerror = () => {
                img.src = 'https://img.icons8.com/color/48/video-camera.png';
            };
        });

        function isModalVisible(modal) {
            return modal.style.display === 'flex';
        }

        function openModal(modal, btn) {
            modal.style.display = 'flex';
            overlay.style.display = 'block';
            btn.setAttribute('aria-pressed', 'true');
            setTimeout(() => {
                if (typeof MathJax !== 'undefined') {
                    MathJax.typesetPromise().catch(err => console.error('MathJax error:', err));
                }
            }, 100);
        }

        function closeModal(modal, btn) {
            modal.style.display = 'none';
            overlay.style.display = 'none';
            btn.setAttribute('aria-pressed', 'false');
            btn.focus();
        }

        function closeVideoPlayerModal(videoModal, player, mainModal, btn) {
            if (player) {
                player.src = player.src;
            }
            videoModal.style.display = 'none';
            overlay.style.display = 'none';
            openModal(mainModal, btn);
        }

        openTheoryBtn.addEventListener('click', () => openModal(theoryModal, openTheoryBtn));
        openVideoBtn.addEventListener('click', () => openModal(videoModal, openVideoBtn));
        openQuestionsBtn.addEventListener('click', () => openModal(questionsModal, openQuestionsBtn));
        openTrainerBtn.addEventListener('click', () => openModal(trainerModal, openTrainerBtn));
        
        closeTheoryBtn.addEventListener('click', () => closeModal(theoryModal, openTheoryBtn));
        closeVideoBtn.addEventListener('click', () => closeModal(videoModal, openVideoBtn));
        closeQuestionsBtn.addEventListener('click', () => closeModal(questionsModal, openQuestionsBtn));
        closeTrainerBtn.addEventListener('click', () => closeModal(trainerModal, openTrainerBtn));
        
        closeVideoPlayerBtn1.addEventListener('click', () => closeVideoPlayerModal(videoPlayerModal1, youtubePlayer1, videoModal, openVideoBtn));
        closeVideoPlayerBtn2.addEventListener('click', () => closeVideoPlayerModal(videoPlayerModal2, youtubePlayer2, videoModal, openVideoBtn));
        closeVideoPlayerBtn3.addEventListener('click', () => closeVideoPlayerModal(videoPlayerModal3, youtubePlayer3, videoModal, openVideoBtn));
        
        overlay.addEventListener('click', () => {
            closeModal(theoryModal, openTheoryBtn);
            closeModal(videoModal, openVideoBtn);
            closeModal(questionsModal, openQuestionsBtn);
            closeModal(trainerModal, openTrainerBtn);
            closeVideoPlayerModal(videoPlayerModal1, youtubePlayer1, videoModal, openVideoBtn);
            closeVideoPlayerModal(videoPlayerModal2, youtubePlayer2, videoModal, openVideoBtn);
            closeVideoPlayerModal(videoPlayerModal3, youtubePlayer3, videoModal, openVideoBtn);
        });

        document.querySelectorAll('.video-card').forEach(card => {
            card.addEventListener('click', () => {
                const videoId = card.dataset.video;
                if (videoId === '1') {
                    openModal(videoPlayerModal1, openVideoBtn);
                } else if (videoId === '2') {
                    openModal(videoPlayerModal2, openVideoBtn);
                } else if (videoId === '3') {
                    openModal(videoPlayerModal3, openVideoBtn);
                }
            });
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === "Escape") {
                if (isModalVisible(videoPlayerModal1)) {
                    closeVideoPlayerModal(videoPlayerModal1, youtubePlayer1, videoModal, openVideoBtn);
                } else if (isModalVisible(videoPlayerModal2)) {
                    closeVideoPlayerModal(videoPlayerModal2, youtubePlayer2, videoModal, openVideoBtn);
                } else if (isModalVisible(videoPlayerModal3)) {
                    closeVideoPlayerModal(videoPlayerModal3, youtubePlayer3, videoModal, openVideoBtn);
                } else if (isModalVisible(theoryModal)) {
                    closeModal(theoryModal, openTheoryBtn);
                } else if (isModalVisible(videoModal)) {
                    closeModal(videoModal, openVideoBtn);
                } else if (isModalVisible(questionsModal)) {
                    closeModal(questionsModal, openQuestionsBtn);
                } else if (isModalVisible(trainerModal)) {
                    closeModal(trainerModal, openTrainerBtn);
                }
            }
        });

        document.querySelectorAll('.card-inner').forEach(card => {
            card.addEventListener('click', () => {
                card.classList.toggle('flipped');
                setTimeout(() => {
                    if (typeof MathJax !== 'undefined') {
                        MathJax.typesetPromise().catch(err => console.error('MathJax error:', err));
                    }
                }, 600);
            });
        });

        window.addEventListener('load', () => {
            if (typeof MathJax !== 'undefined') {
                MathJax.typesetPromise().catch(err => console.error('MathJax error:', err));
            }
        });
    </script>
</body>
</html>




