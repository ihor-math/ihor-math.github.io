<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>76. –ü–æ—Ö—ñ–¥–Ω–∞ —Å–∫–ª–∞–¥–µ–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó</title>
     <script>
window.MathJax = {
    tex: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [['\\[', '\\]']],
        processEscapes: true,
        packages: {'[+]': ['noerrors']},
        macros: {
            // –¢–Ü–õ–¨–ö–ò –¢–ï, –©–û –¢–û–ë–Ü –¢–†–ï–ë–ê ‚Äî —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –Ω–æ—Ç–∞—Ü—ñ—è
            tg: ['\\operatorname{tg}', 0],
            ctg: ['\\operatorname{ctg}', 0],
            arctg: ['\\operatorname{arctg}', 0],
            arcctg: ['\\operatorname{arcctg}', 0]
        }
    },
    options: {
        ignoreHtmlClass: "tex2jax_ignore|no-mathjax",
        processHtmlClass: "tex2jax_process",
        renderActions: {
            /* –ø—Ä–∏–±–∏—Ä–∞—î–º–æ —á–µ—Ä–≤–æ–Ω—ñ –ø–æ–º–∏–ª–∫–∏ */
            find_script_mathtex: [10, function () {}, false]
        }
    },
    loader: {load: ['[tex]/noerrors']}
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" id="MathJax-script" async></script>

    <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">
    <style>
        *, *:before, *:after { box-sizing: border-box; }
        body {
            margin: 0;
            background: radial-gradient(circle at center, #0a0a0a 0%, #1a1a1a 40%, #2b2b2b 100%);
            color: #e0e0e0;
            font-family: 'Roboto Condensed', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        body.loaded { visibility: visible; opacity: 1; }

        .title-box {
            margin-top: 60px;
            padding: 20px 40px;
            background: linear-gradient(135deg, #1c2526, #2e3a3b);
            box-shadow: 0 6px 20px rgba(0,0,0,0.6);
            border-radius: 16px;
            text-align: center;
            border: 1px solid #3e4a4b;
        }
        .title-box h1 {
            margin: 0;
            font-size: 28px;
            color: #ff4d4d;
            font-family: 'Orbitron', sans-serif;
            text-shadow: 0 0 8px rgba(255,77,77,0.5);
        }

        .section-container {
            margin-top: 40px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 25px;
        }
        .section {
            width: 260px;
            height: 200px;
            background: linear-gradient(145deg, #1e2a2b, #2c3e40);
            border-radius: 14px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.45);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 15px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            border: 1px solid rgba(255,77,77,0.15);
        }
        .section:hover {
            transform: scale(1.06);
            box-shadow: 0 10px 25px rgba(255,77,77,0.25);
        }
        .section h2 { font-size: 20px; color: #ffffff; font-family: 'Orbitron', sans-serif; }
        .section img { width: 60px; height: 60px; margin-bottom: 15px; filter: brightness(1.3) drop-shadow(0 0 6px #ff4d4d); }

        .modal {
            display: none;
            position: fixed;
            top: 5%; left: 5%; width: 90%; height: 90%;
            background: linear-gradient(135deg, #2b3a3b, #3e5c5e);
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.4);
            z-index: 1001;
            overflow: hidden;
            flex-direction: column;
            border: 1px solid rgba(255,77,77,0.2);
        }
        #modalOverlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: 999;
            backdrop-filter: blur(6px);
        }
        .modal-content {
            padding: 20px;
            flex-grow: 1;
            overflow-y: auto;
            color: #e0e0e0;
            width: 100%;
        }
        .modal-header {
            background: linear-gradient(0deg, #2b3a3b, #3e5c5e);
            padding: 8px 12px;
            display: flex;
            justify-content: flex-end;
            width: 100%;
            position: sticky;
            top: 0;
            z-index: 1002;
            border-bottom: 1px solid rgba(255,77,77,0.2);
        }
        .close-btn {
            background: linear-gradient(135deg, #c1121f, #e63946);
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 6px 16px;
            font-size: 16px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            box-shadow: 0 2px 8px rgba(193,18,31,0.4);
        }
        .close-btn:hover { background: linear-gradient(135deg, #780000, #c1121f); transform: scale(1.05); }

        .theory-content h2, .trainer-container h2
         { color: #ff4d4d; text-shadow: 0 0 10px rgba(255,77,77,0.5); text-align: center; font-family: 'Orbitron', sans-serif; }
        .theory-content p, .theory-content li
           { font-size: clamp(18px, 3vw, 20px); line-height: 1.7; text-align: justify; }
       .example {
    background: rgba(255,77,77,0.1);
    border-left: 4px solid #ff4d4d;
    padding: 12px;
    margin: 15px 0;
    border-radius: 6px;
    color: #ff9999;
    font-weight: bold;
    font-size: 18px; /* üî• –¥–æ–¥–∞–Ω–æ —Ä–æ–∑–º—ñ—Ä —à—Ä–∏—Ñ—Ç—É */
}

        .solution
             { background: rgba(255,77,77,0.15); border: 2px solid #ff4d4d; padding: 12px; margin: 15px 0; border-radius: 6px; text-align: center; color: #ff4d4d; font-weight: bold; }
        .math-notation-centered
               { display: block; text-align: center; font-size: clamp(20px, 3.5vw, 24px); margin: 20px 0; color: #ffff99; }
        mjx-container
                 { color: #ffff99 !important; font-style: italic !important; }

        .navigation-buttons { display: flex; justify-content: center; gap: 20px; margin: 40px 0; }
        .nav-button {
            display: flex; align-items: center; background: linear-gradient(135deg, #2b3a3b, #3e5c5e);
            color: #e0e0e0; padding: 12px 24px; border-radius: 10px; text-decoration: none;
            font-weight: bold; border: 1px solid rgba(255,77,77,0.3);
            transition: all 0.3s ease;
        }
        .nav-button:hover { background: linear-gradient(135deg, #c1121f, #e63946); color: #fff; transform: scale(1.05); }
        .nav-button svg { margin-right: 8px; fill: currentColor; width: 20px; height: 20px; }

        @media (max-width: 768px) {
            .title-box { margin-top: 40px; }
            .title-box h1 { font-size: 24px; }
            .section-container { flex-direction: column; align-items: center; }
            .section { width: 80%; height: 180px; }
            .modal { top: 2%; left: 2%; width: 96%; height: 96%; }
        }
                                                        /* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ –°–£–ß–ê–°–ù–ê –°–ú–£–ñ–ö–ê –ü–†–û–ö–†–£–¢–ö–ò (–≤—Å—ñ –º–æ–¥–∞–ª–∫–∏ + body) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
::-webkit-scrollbar {
    width: 10px;                  /* —Ç–æ–≤—â–∏–Ω–∞ —Å–º—É–∂–∫–∏ */
}

::-webkit-scrollbar-track {
    background: transparent;      /* —Ñ–æ–Ω –¥–æ—Ä—ñ–∂–∫–∏ ‚Äî –ø—Ä–æ–∑–æ—Ä–∏–π */
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    background: rgba(255, 77, 77, 0.3);   /* –Ω–∞–ø—ñ–≤–ø—Ä–æ–∑–æ—Ä–∏–π —á–µ—Ä–≤–æ–Ω–∏–π */
    border-radius: 10px;
    border: 2px solid transparent;
    background-clip: content-box;
    transition: all 0.3s ease;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 77, 77, 0.7);   /* —è—Å–∫—Ä–∞–≤—ñ—à–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—ñ */
    background-clip: content-box;
}

/* –ö–æ–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–∫—Ä–æ–ª–∏—à ‚Äî —â–µ —è—Å–∫—Ä–∞–≤—ñ—à–µ —ñ —Ç—Ä–æ—Ö–∏ —Ç–æ–≤—â–µ */
::-webkit-scrollbar-thumb:active {
    background: #ff4d4d;
    width: 12px;
}

/* –î–ª—è Firefox (–ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –∑ 64-—ó –≤–µ—Ä—Å—ñ—ó) */
* {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 77, 77, 0.5) transparent;
}

/* –î–æ–¥–∞—Ç–∫–æ–≤–æ ‚Äî –ø—Ä–∏—Ö–æ–≤—É—î–º–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É —Å–º—É–∂–∫—É –≤ –º–æ–±—ñ–ª—å–Ω—ñ–π –≤–µ—Ä—Å—ñ—ó (–Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞) */
@media (max-width: 768px) {
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-thumb { background: rgba(255, 77, 77, 0.4); }
}
      .formula-box {
    background: rgba(255,77,77,0.1);
    padding: 20px;
    border-left: 4px solid #ff4d4d;
    border-radius: 8px;
    margin: 20px auto;
    max-width: 700px;         /* üî• —Ü–µ–Ω—Ç—Ä + –æ–±–º–µ–∂–µ–Ω–Ω—è —à–∏—Ä–∏–Ω–∏ */
    text-align: center;       /* üî• –≤–∏—Ä—ñ–≤–Ω—é—î –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
}

.formula-table {
    margin: 20px auto;
    width: 100%;
    border-collapse: collapse;
    text-align: left;         /* üî• —Ñ–æ—Ä–º—É–ª–∏ —Ä—ñ–≤–Ω–æ –∑–ª—ñ–≤–∞ */
}

.formula-table td {
    padding: 6px 12px;
    vertical-align: top;
    font-size: 18px;
}
#videoList {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
    padding: 20px;
    
    
}

/* –ö–≤–∞–¥—Ä–∞—Ç–Ω–∞ –∫–∞—Ä—Ç–∫–∞ */
.video-card {
    width: 300px;
    height: 250px;            
    background: #2c2c2c;
    border-radius: 16px;
    display: flex;
    flex-direction: column;
    justify-content: center;  /* –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä */
    align-items: center;      /* –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä */
    text-align: center;
    padding: 15px;
    gap: 15px;
    cursor: pointer;
    transition: 0.3s ease;
}

.video-card:hover {
    background: #333;
    transform: translateY(-4px);
    box-shadow: 0 4px 14px rgba(0,0,0,0.4);
}

/* –Ü–∫–æ–Ω–∫–∞ —Å—Ç—Ä–æ–≥–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
.video-card .play-icon {
    width: 64px;
    height: 64px;
}

/* –¢–µ–∫—Å—Ç */
.video-card h3 {
    color: #f0f0f0;
    font-size: 1rem;
    line-height: 1.3;
}
                            /* === –§–õ–ï–®-–ö–ê–†–¢–ö–ò –î–õ–Ø –ü–ò–¢–ê–ù–¨ === */
.question-card {
    perspective: 1000px;
    margin: 25px auto;
    max-width: 964px;
    width: 100%;
    min-height: 180px;
    cursor: pointer;
    transition: transform 0.3s ease;
}

.question-card:hover {
    transform: translateY(-5px);
}

.card-inner {
    position: relative;
    width: 100%;
    min-height: 180px;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    transform-style: preserve-3d;
}

.question-card.flipped .card-inner { 
    transform: rotateY(180deg); 
}

.card-front, .card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 25px;
    border-radius: 16px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
    text-align: center;
    border: 2px solid rgba(255, 77, 77, 0.3);
    transition: all 0.3s ease;
}

.card-front {
    background: linear-gradient(135deg, #1c2526, #2e3a3b);
    color: #ffffff;
}

.card-front:hover {
    border-color: rgba(255, 77, 77, 0.6);
    box-shadow: 0 10px 30px rgba(255, 77, 77, 0.2);
}

.card-back {
    background: linear-gradient(135deg, #2b3a3b, #3e5c5e);
    color: #e0e0e0;
    transform: rotateY(180deg);
    text-align: center;
    padding: 25px;
    border-color: rgba(255, 77, 77, 0.5);
}

.card-back:hover {
    border-color: rgba(255, 77, 77, 0.8);
    box-shadow: 0 10px 30px rgba(255, 77, 77, 0.3);
}

.card-front span, .card-back span {
    font-size: clamp(18px, 3vw, 20px);
    line-height: 1.6;
    font-weight: 500;
    font-family: 'Roboto Condensed', sans-serif;
}

.card-front span {
    color: #ffffff;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.card-back span {
    color: #e0e0e0;
    width: 100%;
}

/* –Ü–∫–æ–Ω–∫–∞ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –Ω–∞ –ª–∏—Ü—å–æ–≤—ñ–π —Å—Ç–æ—Ä–æ–Ω—ñ */
.card-front::after {
    content: "‚ùì";
    position: absolute;
    bottom: 15px;
    right: 20px;
    font-size: 20px;
    opacity: 0.7;
    color: #ff4d4d;
    transition: opacity 0.3s ease;
}

.card-front:hover::after {
    opacity: 1;
}

/* –Ü–∫–æ–Ω–∫–∞ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –Ω–∞ –∑–≤–æ—Ä–æ—Ç–Ω—ñ–π —Å—Ç–æ—Ä–æ–Ω—ñ */
.card-back::after {
    content: "üí°";
    position: absolute;
    bottom: 15px;
    right: 20px;
    font-size: 20px;
    opacity: 0.7;
    color: #ff4d4d;
    transition: opacity 0.3s ease;
}

.card-back:hover::after {
    opacity: 1;
}

/* –ê–Ω—ñ–º–∞—Ü—ñ—è –¥–ª—è –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö —Ñ–æ—Ä–º—É–ª —É –≤—ñ–¥–ø–æ–≤—ñ–¥—è—Ö */
.card-back mjx-container {
    color: #ffff99 !important;
    font-style: italic !important;
    transition: color 0.3s ease;
}

/* –ê–¥–∞–ø—Ç–∞—Ü—ñ—è –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ */
@media (max-width: 768px) {
    .question-card {
        min-height: 160px;
        margin: 15px auto;
    }
    
    .card-front, .card-back {
        padding: 20px;
        border-radius: 12px;
    }
    
    .card-front span, .card-back span {
        font-size: 16px;
        line-height: 1.5;
    }
    
    .card-front::after,
    .card-back::after {
        bottom: 10px;
        right: 15px;
        font-size: 16px;
    }
}

/* –ï—Ñ–µ–∫—Ç "–≥–ª–∏–±–∏–Ω–∏" –¥–ª—è –∫–∞—Ä—Ç–æ–∫ */
.card-front::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #ff4d4d, #ff9999);
    border-radius: 16px 16px 0 0;
    opacity: 0.8;
}

.card-back::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #ff9999, #ff4d4d);
    border-radius: 16px 16px 0 0;
    opacity: 0.8;
}
/* === –°–¢–ò–õ–Ü –î–õ–Ø –¢–†–ï–ù–ê–ñ–ï–†–ê === */
.trainer-container {
    width: 90%;
    max-width: 800px;
    margin: auto;
    padding: 30px;
    background: linear-gradient(135deg, #1c1c1c, #2a2a2a);
    border-radius: 16px;
    border: 1px solid rgba(255, 77, 77, 0.2);
    text-align: center;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
}

.question-circle {
    width: 120px;
    height: 120px;
    margin: 0 auto 25px;
    background: linear-gradient(135deg, #c1121f, #e63946);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 3px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 4px 15px rgba(193, 18, 31, 0.4);
}

.question-circle h3 {
    color: #fff;
    margin: 0;
    font-family: 'Orbitron', sans-serif;
    font-size: 20px;
    font-weight: 700;
}

.options-container {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
    margin: 25px 0;
}

.option {
    padding: 15px 25px;
    border: 2px solid #c1121f;
    border-radius: 8px;
    background: #2b3a3b;
    cursor: pointer;
    min-width: 200px;
    margin: 5px;
    transition: all 0.3s ease;
    font-family: 'Roboto Condensed', sans-serif;
    font-size: clamp(16px, 2.5vw, 18px);
    line-height: 1.3;
    color: #e0e0e0;
    font-weight: 500;
}

.option:hover {
    background: #c1121f;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(193, 18, 31, 0.3);
    color: #fff;
}

.option.selected {
    background: linear-gradient(135deg, #c1121f, #e63946);
    border-color: #ff4d4d;
    box-shadow: 0 0 15px rgba(255, 77, 77, 0.5);
    color: #fff;
    font-weight: 600;
}


.submit-btn {
    background: linear-gradient(135deg, #c1121f, #e63946);
    color: #fff;
    padding: 12px 30px;
    border: none;
    border-radius: 25px;
    font-family: 'Orbitron', sans-serif;
    cursor: pointer;
    font-size: 16px;
    font-weight: 700;
    transition: all 0.3s ease;
    margin-top: 10px;
}

.submit-btn:hover:not(:disabled) {
    background: linear-gradient(135deg, #780000, #c1121f);
    transform: scale(1.05);
    box-shadow: 0 4px 15px rgba(193, 18, 31, 0.4);
}

.submit-btn:disabled {
    background: #666;
    cursor: not-allowed;
    opacity: 0.6;
}

.feedback {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 30px;
    padding: 20px 40px;
    border-radius: 10px;
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 1002;
    font-family: 'Orbitron', sans-serif;
    font-weight: 700;
    text-align: center;
}

 /* === –ú–ï–î–ê–õ–¨ –ó –¢–†–ò–ó–£–ë–û–ú === */
        .completion-emoji {
            position: relative;
            display: inline-block;
            width: clamp(56px, 12vw, 96px);
            height: clamp(56px, 12vw, 96px);
            vertical-align: middle;
            margin: 0 auto 3vw;
            border-radius: 50%;
            background: linear-gradient(135deg, #1c2526, #2e3a3b);
            border: 3px dashed #ffd700;
            box-shadow: 0 4px 16px rgba(255, 215, 0, 0.3);
            overflow: hidden;
            animation: medalAppear 0.8s ease-out;
        }
        .completion-emoji::after {
            content: '';
            position: absolute;
            inset: 0;
            background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'><defs><filter id='s' x='-50%' y='-50%' width='200%' height='200%'><feDropShadow dx='0' dy='2' stdDeviation='2' flood-color='%23000000' flood-opacity='0.25'/></filter></defs><rect x='30' y='0' width='60' height='40' rx='4' fill='%23007ACC'/><rect x='30' y='20' width='60' height='20' rx='4' fill='%23FFD700'/><g transform='translate(60,70)'><polygon points='0,-26 6,-6 26,-6 9,6 15,26 0,14 -15,26 -9,6 -26,-6 -6,-6' fill='%23FFD700' filter='url(%23s)'/></g></svg>");
            background-size: 75%;
            background-repeat: no-repeat;
            background-position: center 60%;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.25));
            animation: medalBounce 1.2s ease-out 0.3s both;
        }
        @keyframes medalAppear {
            0% { transform: scale(0.3) rotate(-180deg); opacity: 0; }
            60% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
        @keyframes medalBounce {
            0% { transform: translateY(-120px) rotate(-30deg) scale(0.4); opacity: 0; }
            60% { transform: translateY(15px) rotate(10deg) scale(1.15); opacity: 1; }
            80% { transform: translateY(-8px) rotate(-5deg) scale(1.05); }
            100% { transform: translateY(0) rotate(0) scale(1); }
        }

        .completion-message {
            background: linear-gradient(145deg, #1c2533, #2d3848);
            border: 2.5px solid #ffffff;
            border-radius: 15px;
            padding: clamp(12px, 3vw, 18px);
            box-shadow: 0 6px 12px rgba(255,77,77,0.4);
            margin: 2vw auto;
            max-width: 90%;
            text-align: center;
        }
        .completion-message h2 {
            color: #ffffff;
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
        }
        .completion-message p { color: #ffffff; }

        #completionModal .modal-content {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px;
        }
        #completionModal .completion-message {
            text-align: center;
            max-width: 500px;
        }

.reset-btn {
    background: linear-gradient(135deg, #c1121f, #e63946);
    color: #fff;
    padding: 15px 35px;
    border: none;
    border-radius: 25px;
    font-family: 'Orbitron', sans-serif;
    cursor: pointer;
    font-size: 16px;
    font-weight: 700;
    margin-top: 20px;
    transition: all 0.3s ease;
}

.reset-btn:hover {
    background: linear-gradient(135deg, #780000, #c1121f);
    transform: scale(1.05);
    box-shadow: 0 4px 15px rgba(193, 18, 31, 0.4);
}

/* –ü–æ–∫—Ä–∞—â–µ–Ω—ñ —Å—Ç–∏–ª—ñ –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ */
@media (max-width: 768px) {
    .trainer-container {
        padding: 20px 15px;
        width: 95%;
        margin: 10px auto;
    }
    
    .question-circle {
        width: 80px;
        height: 80px;
        margin: 0 auto 15px;
    }
    
    .question-circle h3 {
        font-size: 16px;
    }
    
    .options-container {
        gap: 10px;
        margin: 20px 0;
    }
    
    .option {
        min-width: 100%;
        padding: 12px 15px;
        font-size: 16px;
        font-weight: 600;
        border-width: 3px;
        background: rgba(43, 58, 59, 0.9);
        backdrop-filter: blur(10px);
    }
    
    #questionText {
        font-size: 18px;
        margin: 10px 0;
        line-height: 1.3;
    }
    
    /* –ü–æ–∫—Ä–∞—â–µ–Ω–∏–π feedback –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö */
    .feedback {
        font-size: 20px;
        padding: 15px 25px;
        border-radius: 8px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
    }
}
    /* –ü–æ–∫—Ä–∞—â–µ–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç –¥–ª—è —Ç–µ–∫—Å—Ç—É –ø–∏—Ç–∞–Ω—å */
#questionText {
    font-size: clamp(18px, 3vw, 22px);
    line-height: 1.4;
    margin: 15px 0;
    color: #ffff99;
    font-weight: 600;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
}


.option {
    font-size: clamp(16px, 2.5vw, 18px);
    line-height: 1.3;
}

/* –î–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ */
@media (max-width: 768px) {
    #questionText {
        font-size: clamp(16px, 4vw, 20px);
    }
    
    .option {
        font-size: clamp(14px, 3vw, 16px);
        min-width: 140px;
        padding: 10px 15px;
    }
    
    }

/* –î–ª—è –¥—É–∂–µ –º–∞–ª–µ–Ω—å–∫–∏—Ö –µ–∫—Ä–∞–Ω—ñ–≤ */
@media (max-width: 480px) {
    .trainer-container {
        padding: 15px 10px;
    }
    
    .question-circle {
        width: 100px;
        height: 100px;
    }
    
    .question-circle h3 {
        font-size: 16px;
    }
    
    .option {
        padding: 10px 12px;
        font-size: 14px;
        min-width: 100%;
        margin: 3px 0;
    }
    
    #questionText {
        font-size: 16px;
    }
    
    .submit-btn {
        padding: 10px 25px;
        font-size: 14px;
        margin-top: 15px;
    }
}


    /* –†–æ–∑–º—ñ—Ä —Ñ–æ—Ä–º—É–ª —É —Ç—Ä–µ–Ω–∞–∂–µ—Ä—ñ */
mjx-container {
    font-size: 1.1em !important;
}
    /* –ü–æ–∫—Ä–∞—â–µ–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç –¥–ª—è —Ñ–æ—Ä–º—É–ª */
mjx-container {
    color: #ffff99 !important;
    font-style: italic !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

/* –î–æ–¥–∞—Ç–∫–æ–≤—ñ –µ—Ñ–µ–∫—Ç–∏ –¥–ª—è –∫—Ä–∞—â–æ—ó –≤–∏–¥–∏–º–æ—Å—Ç—ñ */
.option {
    position: relative;
    overflow: hidden;
}

.option:before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    transition: left 0.5s;
}

.option:hover:before {
    left: 100%;
}
    /* –ü–æ–∫—Ä–∞—â–µ–Ω–∏–π –≤–∏–±—ñ—Ä –Ω–∞ —Ç–∞—á-–ø—Ä–∏—Å—Ç—Ä–æ—è—Ö */
@media (hover: none) {
    .option:active {
        background: #c1121f;
        transform: scale(0.98);
        color: #fff;
    }
}


@media (max-width: 768px) {
    mjx-container {
        font-size: 1.2em !important;
    }
}
    </style>
</head>
<body>

    <div class="title-box">
        <h1>76. –ü–æ—Ö—ñ–¥–Ω–∞ —Å–∫–ª–∞–¥–µ–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó</h1>
    </div>

    <div class="section-container">
        <div class="section" id="openTheoryBtn">
            <img src="https://img.icons8.com/fluency/96/book-shelf.png" alt="–¢–µ–æ—Ä—ñ—è">
            <h2>–¢–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ</h2>
        </div>
        <div class="section" id="openVideoBtn">
            <img src="https://img.icons8.com/fluency/96/video.png" alt="–í—ñ–¥–µ–æ">
            <h2>–í—ñ–¥–µ–æ–º–∞—Ç–µ—Ä—ñ–∞–ª–∏</h2>
        </div>
        <div class="section" id="openQuestionsBtn">
            <img src="https://img.icons8.com/fluency/96/flipboard.png" alt="–ü–∏—Ç–∞–Ω–Ω—è">
            <h2>–ü–∏—Ç–∞–Ω–Ω—è —ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ</h2>
        </div>
        <div class="section" id="openTrainerBtn">
            <img src="https://img.icons8.com/fluency/96/flash-on.png" alt="–¢—Ä–µ–Ω–∞–∂–µ—Ä">
            <h2>–¢—Ä–µ–Ω–∞–∂–µ—Ä</h2>
        </div>
    </div>

    <div class="navigation-buttons">
        <a class="nav-button prev" href="{{ url_for('tema13') }}">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
            –î–æ —Ç–µ–º–∏ 13
        </a>
        <a class="nav-button home" href="{{ url_for('home') }}">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
            –ù–∞ –≥–æ–ª–æ–≤–Ω—É
        </a>
    </div>

    <!-- –¢–ï–û–†–Ü–Ø -->
<div id="theoryModal" class="modal">
    <div class="modal-header">
        <button class="close-btn" id="closeTheoryBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
    <div class="modal-content">
        <div class="theory-content">

            <h2>–ü–æ—Ö—ñ–¥–Ω–∞ —Å–∫–ª–∞–¥–µ–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó</h2>

            <p> –ù–µ—Ö–∞–π \( y = f(u) \) —ñ \( u = u(x) \). –¢–æ–¥—ñ</p>
            <p class="math-notation-centered">\[ y = f(u(x)) \]</p>
            <p>—î —Å–∫–ª–∞–¥–µ–Ω–æ—é —Ñ—É–Ω–∫—Ü—ñ—î—é, –¥–µ \( f(u) \) ‚Äî –∑–æ–≤–Ω—ñ—à–Ω—è —Ñ—É–Ω–∫—Ü—ñ—è –∑–∞ –ø—Ä–æ–º—ñ–∂–Ω–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º \( u \), –∞ \( u(x) \) ‚Äî –≤–Ω—É—Ç—Ä—ñ—à–Ω—è —Ñ—É–Ω–∫—Ü—ñ—è –∑–∞ –æ—Å–Ω–æ–≤–Ω–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º \( x \).</p>

            <p>–ù–∞–ø—Ä–∏–∫–ª–∞–¥, —Ñ—É–Ω–∫—Ü—ñ—è \( y(x) = \sin(2x^3 + x - 1) \) —î —Å–∫–ª–∞–¥–µ–Ω–æ—é, –æ—Å–∫—ñ–ª—å–∫–∏ —ó—ó –º–æ–∂–Ω–∞ –ø–æ–¥–∞—Ç–∏ —É –≤–∏–≥–ª—è–¥—ñ \( y = \sin u \), –¥–µ \( u(x) = 2x^3 + x - 1 \). –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É \( \sin u \) ‚Äî —Ü–µ –∑–æ–≤–Ω—ñ—à–Ω—è —Ñ—É–Ω–∫—Ü—ñ—è, –∞ \( u(x) = 2x^3 + x - 1 \) ‚Äî –≤–Ω—É—Ç—Ä—ñ—à–Ω—è —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫–∞ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∞—Ä–≥—É–º–µ–Ω—Ç—É \( x \).</p>

            <p><strong>–ü–æ—Ö—ñ–¥–Ω–∞ —Å–∫–ª–∞–¥–µ–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó (–ª–∞–Ω—Ü—é–≥–æ–≤–µ –ø—Ä–∞–≤–∏–ª–æ).</strong> –ü–æ—Ö—ñ–¥–Ω–∞ —Å–∫–ª–∞–¥–µ–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó –¥–æ—Ä—ñ–≤–Ω—é—î –¥–æ–±—É—Ç–∫—É –ø–æ—Ö—ñ–¥–Ω–æ—ó –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó –∑–∞ –ø—Ä–æ–º—ñ–∂–Ω–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º \( u \) –Ω–∞ –ø–æ—Ö—ñ–¥–Ω—É –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó –∑–∞ –æ—Å–Ω–æ–≤–Ω–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º \( x \).</p>

            <p class="math-notation-centered">\[ y'_x = y'_u \cdot u'_x \quad (13.8) \]</p>

            <p>–¶–µ –ø—Ä–∞–≤–∏–ª–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è –¥–æ –±—É–¥—å-—è–∫–æ–≥–æ –ª–∞–Ω—Ü—é–∂–∫–∞ —Ñ—É–Ω–∫—Ü—ñ–π —ñ–∑ –¥–æ–≤—ñ–ª—å–Ω–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –¥–∏—Ñ–µ—Ä–µ–Ω—Ü—ñ–π–æ–≤–∞–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π.</p>

            <div class="example">
                <strong>–ü—Ä–∏–∫–ª–∞–¥ 13.6.</strong> –ó–Ω–∞–π—Ç–∏ –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \( y = \sin(2x^3 + x - 1) \).<br><br>
                –ó–æ–≤–Ω—ñ—à–Ω—è —Ñ—É–Ω–∫—Ü—ñ—è \( y(u) = \sin u \), —Ç–æ–º—É \( y'_u = \cos u \).<br>
                –í–Ω—É—Ç—Ä—ñ—à–Ω—è —Ñ—É–Ω–∫—Ü—ñ—è \( u(x) = 2x^3 + x - 1 \), —Ç–æ–º—É \( u'_x = 6x^2 + 1 \).<br><br>
                –ó–∞ —Ñ–æ—Ä–º—É–ª–æ—é (13.8):<br>
                \[ y'_x = \cos(2x^3 + x - 1) \cdot (6x^2 + 1) = (6x^2 + 1) \cos(2x^3 + x - 1) \]<br><br>
                <strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \( y' = (6x^2 + 1) \cos(2x^3 + x - 1) \).
            </div>

            <div class="example">
                <strong>–ü—Ä–∏–∫–ª–∞–¥ 13.7.</strong> –ó–Ω–∞–π—Ç–∏ –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \( y = \ln^2 \left(1 - \frac{x}{2}\right) \).<br><br>
                –ó–∞–ø–∏—à–µ–º–æ —Ñ—É–Ω–∫—Ü—ñ—é —É –≤–∏–≥–ª—è–¥—ñ \( y = \left[ \ln\left(1 - \frac{x}{2}\right) \right]^2 \).<br>
                –¶–µ –¥–≤—ñ—á—ñ —Å–∫–ª–∞–¥–µ–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è:<br>
                –∑–æ–≤–Ω—ñ—à–Ω—è —Ñ—É–Ω–∫—Ü—ñ—è \( y = u^2 \), –¥–µ \( u = \ln v \), –∞ \( v = 1 - \frac{x}{2} \) ‚Äî –≤–Ω—É—Ç—Ä—ñ—à–Ω—è —Ñ—É–Ω–∫—Ü—ñ—è.<br><br>
                –ü–æ—Ö—ñ–¥–Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó:<br>
                \[ y' = 2u \cdot u'_v \]<br>
                –ó–Ω–∞–π–¥–µ–º–æ \( u'_v \):<br>
                \[ u'_v = (\ln v)' = \frac{1}{v} \cdot v'_x = \frac{1}{1 - \frac{x}{2}} \cdot \left(-\frac{1}{2}\right) = -\frac{1}{2\left(1 - \frac{x}{2}\right)} \]<br><br>
                –ü—ñ–¥—Å—Ç–∞–≤–∏–º–æ:<br>
                \[ y' = 2\ln\left(1 - \frac{x}{2}\right) \cdot \left(-\frac{1}{2\left(1 - \frac{x}{2}\right)}\right) = -\frac{\ln\left(1 - \frac{x}{2}\right)}{1 - \frac{x}{2}} = -\frac{2\ln\left(1 - \frac{x}{2}\right)}{2 - x} \]<br><br>
                <strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \( y' = -\dfrac{2\ln\left(1 - \dfrac{x}{2}\right)}{2 - x} \).
            </div>

            <p>–¢–∞–∫–∏–º —á–∏–Ω–æ–º, –∑–≥—ñ–¥–Ω–æ –∑ –ø—Ä–∞–≤–∏–ª–æ–º –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –ø–æ—Ö—ñ–¥–Ω–æ—ó —Å–∫–ª–∞–¥–µ–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó, —Ç–∞–±–ª–∏—Ü—é –ø–æ—Ö—ñ–¥–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π –º–æ–∂–Ω–∞ –∑–∞–ø–∏—Å–∞—Ç–∏ —É —Ä–æ–∑—à–∏—Ä–µ–Ω–æ–º—É –≤–∏–≥–ª—è–¥—ñ:</p>

           <div class="formula-box">
    <strong>–¢–∞–±–ª–∏—Ü—è 5. –ü–æ—Ö—ñ–¥–Ω—ñ –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –ª–∞–Ω—Ü—é–≥–æ–≤–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞</strong>

    <table class="formula-table">
        <tr><td>1) \( (u^\alpha)' = \alpha u^{\alpha-1} u' \)</td><td>9) \( (\cos u)' = -\sin u \cdot u' \)</td></tr>
        <tr><td>2) \( \left(\dfrac{1}{u}\right)' = -\dfrac{u'}{u^2} \)</td><td>10) \( (\tg u)' = \dfrac{u'}{\cos^2 u} \)</td></tr>
        <tr><td>3) \( (\sqrt{u})' = \dfrac{u'}{2\sqrt{u}} \)</td><td>11) \( (\ctg u)' = -\dfrac{u'}{\sin^2 u} \)</td></tr>
        <tr><td>4) \( (a^u)' = a^u \ln a \cdot u' \)</td><td>12) \( (\arcsin u)' = \dfrac{u'}{\sqrt{1 - u^2}} \)</td></tr>
        <tr><td>5) \( (e^u)' = e^u u' \)</td><td>13) \( (\arccos u)' = -\dfrac{u'}{\sqrt{1 - u^2}} \)</td></tr>
        <tr><td>6) \( (\log_a u)' = \dfrac{u'}{u \ln a} \)</td><td>14) \( (\arctg u)' = \dfrac{u'}{1 + u^2} \)</td></tr>
        <tr><td>7) \( (\ln u)' = \dfrac{u'}{u} \)</td><td>15) \( (\arcctg u)' = -\dfrac{u'}{1 + u^2} \)</td></tr>
        <tr><td>8) \( (\sin u)' = \cos u \cdot u' \)</td><td></td></tr>
    </table>
</div>

            <div class="example">
                <strong>–ü—Ä–∏–∫–ª–∞–¥ 13.8.</strong> –ó–Ω–∞–π—Ç–∏ –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \( y = \arccos \dfrac{1 - x}{\sqrt{2}} \).<br><br>
                –°–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ—Å—è —Ñ–æ—Ä–º—É–ª–æ—é ‚Ññ13 –∑ —Ç–∞–±–ª–∏—Ü—ñ:<br>
                \[ (\arccos u)' = -\dfrac{u'}{\sqrt{1 - u^2}} \]<br><br>
                –¢—É—Ç \( u = \dfrac{1 - x}{\sqrt{2}} \), —Ç–æ–º—É \( u' = -\dfrac{1}{\sqrt{2}} \).<br><br>
                –¢–æ–¥—ñ<br>
                \[ y' = -\dfrac{-\dfrac{1}{\sqrt{2}}}{\sqrt{1 - \left(\dfrac{1 - x}{\sqrt{2}}\right)^2}} = \dfrac{1}{\sqrt{2}} \cdot \dfrac{1}{\sqrt{1 - \dfrac{(1 - x)^2}{2}}} = \dfrac{1}{\sqrt{1 + 2x - x^2}} \]<br><br>
                <strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \( y' = \dfrac{1}{\sqrt{1 + 2x - x^2}} \).
            </div>

        </div>
    </div>
</div>

 <!-- –í–Ü–î–ï–û -->
<div id="videoModal" class="modal">
    <div class="modal-header">
        <button class="close-btn" id="closeVideoBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
    <div class="modal-content">

        <!-- –°–ø–∏—Å–æ–∫ –≤—ñ–¥–µ–æ (—Å–ø–æ—á–∞—Ç–∫—É –≤–∏–¥–Ω–æ) -->
        <div id="videoList">
    <div class="video-card" data-url="https://www.youtube.com/embed/Wkp3uoEUUM4">
        <img class="play-icon" src="https://img.icons8.com/fluency/96/play.png" alt="">
        <h3>–ü—Ä–∏–∫–ª–∞–¥–∏. –û–±—á–∏—Å–ª–µ–Ω–Ω—è –ø–æ—Ö—ñ–¥–Ω–æ—ó —Å–∫–ª–∞–¥–µ–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó</h3>
    </div>
</div>

        <!-- –ü–ª–µ—î—Ä (—Å–ø–æ—á–∞—Ç–∫—É –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π) -->
        <div id="videoPlayer" style="display: none; width: 90vw; max-width: 960px; aspect-ratio: 16/9; margin: 20px auto;">
            <iframe id="youtubePlayer" width="100%" height="100%" src="" frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe>
        </div>

    </div>
</div>



   <!-- –ü–ò–¢–ê–ù–ù–Ø –Ü –í–Ü–î–ü–û–í–Ü–î–Ü -->
<div id="questionsModal" class="modal">
    <div class="modal-header"><button class="close-btn" id="closeQuestionsBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button></div>
    <div class="modal-content">
        <div style="max-width:964px;margin:0 auto;">
            <div class="question-card" onclick="this.classList.toggle('flipped')">
                <div class="card-inner">
                    <div class="card-front"><span>–©–æ —Ç–∞–∫–µ —Å–∫–ª–∞–¥–µ–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è?</span></div>
                    <div class="card-back"><span>–§—É–Ω–∫—Ü—ñ—è –≤–∏–¥—É \( y = f(u(x)) \), –¥–µ \( f(u) \) ‚Äî –∑–æ–≤–Ω—ñ—à–Ω—è —Ñ—É–Ω–∫—Ü—ñ—è, –∞ \( u(x) \) ‚Äî –≤–Ω—É—Ç—Ä—ñ—à–Ω—è.</span></div>
                </div>
            </div>
            <div class="question-card" onclick="this.classList.toggle('flipped')">
                <div class="card-inner">
                    <div class="card-front"><span>–©–æ —î –∑–æ–≤–Ω—ñ—à–Ω—å–æ—é —Ñ—É–Ω–∫—Ü—ñ—î—é –≤ –∑–∞–ø–∏—Å—ñ \( y = f(u(x)) \)?</span></div>
                    <div class="card-back"><span>–§—É–Ω–∫—Ü—ñ—è \( f(u) \).</span></div>
                </div>
            </div>
            <div class="question-card" onclick="this.classList.toggle('flipped')">
                <div class="card-inner">
                    <div class="card-front"><span>–©–æ —î –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—é —Ñ—É–Ω–∫—Ü—ñ—î—é –≤ –∑–∞–ø–∏—Å—ñ \( y = f(u(x)) \)?</span></div>
                    <div class="card-back"><span>–§—É–Ω–∫—Ü—ñ—è \( u(x) \).</span></div>
                </div>
            </div>
            <div class="question-card" onclick="this.classList.toggle('flipped')">
                <div class="card-inner">
                    <div class="card-front"><span>–ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ —Å–∫–ª–∞–¥–µ–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó.</span></div>
                    <div class="card-back"><span>–ù–∞–ø—Ä–∏–∫–ª–∞–¥, \( y(x) = \sin(2x^3 + x - 1) \).</span></div>
                </div>
            </div>
            <div class="question-card" onclick="this.classList.toggle('flipped')">
                <div class="card-inner">
                    <div class="card-front"><span>–©–æ —É –ø—Ä–∏–∫–ª–∞–¥—ñ \( y(x) = \sin(2x^3 + x - 1) \) —î –∑–æ–≤–Ω—ñ—à–Ω—å–æ—é —Ñ—É–Ω–∫—Ü—ñ—î—é?</span></div>
                    <div class="card-back"><span>\( y(u) = \sin u \).</span></div>
                </div>
            </div>
            <div class="question-card" onclick="this.classList.toggle('flipped')">
                <div class="card-inner">
                    <div class="card-front"><span>–©–æ —É –ø—Ä–∏–∫–ª–∞–¥—ñ \( y(x) = \sin(2x^3 + x - 1) \) —î –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—é —Ñ—É–Ω–∫—Ü—ñ—î—é?</span></div>
                    <div class="card-back"><span>\( 2x^3 + x - 1 \).</span></div>
                </div>
            </div>
            <div class="question-card" onclick="this.classList.toggle('flipped')">
                <div class="card-inner">
                    <div class="card-front"><span>–©–æ —Å—Ç–≤–µ—Ä–¥–∂—É—î –ª–∞–Ω—Ü—é–≥–æ–≤–µ –ø—Ä–∞–≤–∏–ª–æ (—Ñ–æ—Ä–º—É–ª–∞ –ø–æ—Ö—ñ–¥–Ω–æ—ó —Å–∫–ª–∞–¥–µ–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó)?</span></div>
                    <div class="card-back"><span>\( y'_x = y'_u \cdot u'_x \).</span></div>
                </div>
            </div>
            <div class="question-card" onclick="this.classList.toggle('flipped')">
                <div class="card-inner">
                    <div class="card-front"><span>–©–æ –æ–∑–Ω–∞—á–∞—î \( y'_u \) —É –ª–∞–Ω—Ü—é–≥–æ–≤–æ–º—É –ø—Ä–∞–≤–∏–ª—ñ?</span></div>
                    <div class="card-back"><span>–ü–æ—Ö—ñ–¥–Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó –∑–∞ –ø—Ä–æ–º—ñ–∂–Ω–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º \( u \).</span></div>
                </div>
            </div>
            <div class="question-card" onclick="this.classList.toggle('flipped')">
                <div class="card-inner">
                    <div class="card-front"><span>–©–æ –æ–∑–Ω–∞—á–∞—î \( u'_x \) —É –ª–∞–Ω—Ü—é–≥–æ–≤–æ–º—É –ø—Ä–∞–≤–∏–ª—ñ?</span></div>
                    <div class="card-back"><span>–ü–æ—Ö—ñ–¥–Ω–∞ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó –∑–∞ –æ—Å–Ω–æ–≤–Ω–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º \( x \).</span></div>
                </div>
            </div>
            <div class="question-card" onclick="this.classList.toggle('flipped')">
                <div class="card-inner">
                    <div class="card-front"><span>–ß–æ–º—É –¥–æ—Ä—ñ–≤–Ω—é—î –ø–æ—Ö—ñ–¥–Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó –≤ –ø—Ä–∏–∫–ª–∞–¥—ñ \( y(x) = \sin(2x^3 + x - 1) \)?</span></div>
                    <div class="card-back"><span>\( y'_u = \cos(2x^3 + x - 1) \).</span></div>
                </div>
            </div>
            <div class="question-card" onclick="this.classList.toggle('flipped')">
                <div class="card-inner">
                    <div class="card-front"><span>–ß–æ–º—É –¥–æ—Ä—ñ–≤–Ω—é—î –ø–æ—Ö—ñ–¥–Ω–∞ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó \( u(x) = 2x^3 + x - 1 \)?</span></div>
                    <div class="card-back"><span>\( u'_x = 6x^2 + 1 \).</span></div>
                </div>
            </div>
            <div class="question-card" onclick="this.classList.toggle('flipped')">
                <div class="card-inner">
                    <div class="card-front"><span>–ó–∞–ø–∏—à—ñ—Ç—å –æ—Å—Ç–∞—Ç–æ—á–Ω—É –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \( y = \sin(2x^3 + x - 1) \).</span></div>
                    <div class="card-back"><span>\( y' = (6x^2 + 1) \cdot \cos(2x^3 + x - 1) \).</span></div>
                </div>
            </div>
        </div>
    </div>
</div>

  <!-- –¢–†–ï–ù–ê–ñ–ï–† -->
<div id="trainerModal" class="modal">
    <div class="modal-header">
        <button class="close-btn" id="closeTrainerBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
    <div class="modal-content">
        <div class="trainer-container">
            <div class="question-circle">
                <h3 id="questionNumber">–ü–∏—Ç–∞–Ω–Ω—è 1</h3>
            </div>
            <p id="questionText" class="math-notation-centered"></p>
            <div class="options-container" id="optionsContainer"></div>
            <button id="submitAnswer" class="submit-btn" disabled>–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏</button>
            <div id="feedback" class="feedback"></div>
        </div>
    </div>
</div>

 <!-- –ó–ê–í–ï–†–®–ï–ù–ù–Ø -->
    <div id="completionModal" class="modal">
        <div class="modal-header">
            <button class="close-btn" id="closeCompletionBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
        <div class="modal-content">
            <div class="completion-message">
                <div class="completion-emoji"></div>
                <h2>–ú–Ü–°–Ü–Ø –í–ò–ö–û–ù–ê–ù–ê!</h2>
                <p>–¢–∏ ‚Äî —Å—Ç–∞–ª–µ–≤–∏–π –≤–æ—ó–Ω –¥–∏—Ñ–µ—Ä–µ–Ω—Ü—ñ–∞–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–µ–Ω–Ω—è!</p>
                <p><strong>–°–õ–ê–í–ê –£–ö–†–ê–á–ù–Ü!</strong></p>
                <button id="resetTrainerBtn" class="reset-btn">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞ –ø–æ–ª—ñ–≥–æ–Ω!</button>
            </div>
        </div>
    </div>

    <div id="modalOverlay"></div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    document.body.classList.add('loaded');

    const modals = {
        theory: document.getElementById('theoryModal'),
        video: document.getElementById('videoModal'),
        questions: document.getElementById('questionsModal'),
        trainer: document.getElementById('trainerModal'),
        completion: document.getElementById('completionModal')
    };
    const overlay = document.getElementById('modalOverlay');

    function openModal(m) { 
        m.style.display = 'flex'; 
        overlay.style.display = 'block'; 
        document.body.style.overflow = 'hidden'; 
    }
    
    function closeModal(m) { 
        m.style.display = 'none'; 
        overlay.style.display = 'none'; 
        document.body.style.overflow = 'auto'; 
    }

    // –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª–æ–∫
    document.getElementById('openTheoryBtn').onclick = () => openModal(modals.theory);
    document.getElementById('openVideoBtn').onclick = () => openModal(modals.video);
    document.getElementById('openQuestionsBtn').onclick = () => openModal(modals.questions);
    document.getElementById('openTrainerBtn').onclick = () => { 
        openModal(modals.trainer); 
        startTrainer(); 
    };

    // –£–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–µ –∑–∞–∫—Ä–∏—Ç—Ç—è –ø–æ —Ö—Ä–µ—Å—Ç–∏–∫—É (–æ–∫—Ä—ñ–º –≤—ñ–¥–µ–æ ‚Äî –π–æ–≥–æ –æ–±—Ä–æ–±–ª—è—î–º–æ –æ–∫—Ä–µ–º–æ)
    document.querySelectorAll('.close-btn').forEach(btn => {
        btn.onclick = (e) => {
            e.stopPropagation();
            const modal = btn.closest('.modal');
            if (modal.id !== 'videoModal') {
                closeModal(modal);
            }
            // –¥–ª—è –≤—ñ–¥–µ–æ-–º–æ–¥–∞–ª–∫–∏ –∑–∞–∫—Ä–∏—Ç—Ç—è —Ä–æ–±–∏–º–æ –Ω–∏–∂—á–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ
        };
    });

    // –ó–∞–∫—Ä–∏—Ç—Ç—è –ø–æ –æ–≤–µ—Ä–ª–µ—é —ñ Esc
    overlay.onclick = () => document.querySelectorAll('.modal').forEach(closeModal);
    document.addEventListener('keydown', e => {
        if (e.key === 'Escape') {
            document.querySelectorAll('.modal').forEach(m => m.style.display === 'flex' && closeModal(m));
        }
    });

    // ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî –í–Ü–î–ï–û ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
    const videoList     = document.getElementById('videoList');
    const videoPlayer   = document.getElementById('videoPlayer');
    const youtubeIframe = document.getElementById('youtubePlayer');

    // –ö–ª—ñ–∫ –ø–æ –∫–∞—Ä—Ç—Ü—ñ ‚Äî –∑–∞–ø—É—Å–∫–∞—î–º–æ –≤—ñ–¥–µ–æ
    document.querySelectorAll('.video-card').forEach(card => {
        card.addEventListener('click', () => {
            const url = card.dataset.url;
            videoList.style.display = 'none';
            videoPlayer.style.display = 'block';
            youtubeIframe.src = url + '?autoplay=0';
        });
    });

    // –ó–∞–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª–∫–∏ –≤—ñ–¥–µ–æ ‚Äî –∑—É–ø–∏–Ω—è—î–º–æ —ñ –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ —Å–ø–∏—Å–æ–∫
    document.getElementById('closeVideoBtn').addEventListener('click', () => {
        youtubeIframe.src = '';
        videoPlayer.style.display = 'none';
        videoList.style.display = 'flex';
        closeModal(modals.video);   // —Å–∞–º–µ –∑–∞–∫—Ä–∏–≤–∞—î–º–æ –º–æ–¥–∞–ª–∫—É
    });
   
   
  // ‚Äî‚Äî‚Äî –¢–†–ï–ù–ê–ñ–ï–† –ó –û–î–ù–ò–ú –ü–ò–¢–ê–ù–ù–Ø–ú ‚Äî‚Äî‚Äî
const tasksLevel1 = [
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\sin 4x^3\\)", a: "12x^2 \\cos 4x^3", opts: ["12x^2 \\cos 4x^3", "4x^2 \\cos 4x^3", "12x^2 \\cos x^3", "12x^2 \\sin 4x^3"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\cos 2x^4\\)", a: "-8x^3 \\sin 2x^4", opts: ["-8x^3 \\sin 2x^4", "-4x^3 \\sin 2x^4", "8x^3 \\sin 2x^4", "-8x^3 \\sin x^4"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\ln \\sqrt{x}\\)", a: "\\frac{1}{2x}", opts: ["\\frac{1}{2x}", "\\frac{1}{2\\sqrt{x}}", "\\frac{1}{x}", "\\frac{1}{\\sqrt{x}}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\arcsin 5x\\)", a: "\\frac{5}{\\sqrt{1-25x^2}}", opts: ["\\frac{5}{\\sqrt{1-25x^2}}", "\\frac{5}{\\sqrt{1-x^2}}", "\\frac{5}{\\sqrt{1-5x^2}}", "\\frac{1}{\\sqrt{1-25x^2}}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\arctg \\frac{x}{2}\\)", a: "\\frac{2}{4+x^2}", opts: ["\\frac{2}{4+x^2}", "\\frac{2}{2+x^2}", "\\frac{4}{1+x^2}", "\\frac{1}{4+x^2}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\sqrt{3x+1}\\)", a: "\\frac{3}{2\\sqrt{3x+1}}", opts: ["\\frac{3}{2\\sqrt{3x+1}}", "\\frac{3}{2\\sqrt{x}}", "\\frac{1}{2\\sqrt{3x+1}}", "\\frac{3}{\\sqrt{3x+1}}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = e^{2-x}\\)", a: "-e^{2-x}", opts: ["-e^{2-x}", "e^{2-x}", "-e^{-x}", "e^{-x}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = (4-3x)^7\\)", a: "-21(4-3x)^6", opts: ["-21(4-3x)^6", "-3(4-3x)^6", "-21(4-3x)^7", "21(4-3x)^6"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\tg 6x\\)", a: "\\frac{6}{\\cos^2 6x}", opts: ["\\frac{6}{\\cos^2 6x}", "-\\frac{6}{\\sin^2 6x}", "\\frac{1}{\\cos^2 6x}", "-\\frac{1}{\\sin^2 6x}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\ctg 6x\\)", a: "-\\frac{6}{\\sin^2 6x}", opts: ["-\\frac{6}{\\sin^2 6x}", "\\frac{6}{\\cos^2 6x}", "\\frac{1}{\\cos^2 6x}", "-\\frac{1}{\\sin^2 6x}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = 5^{5-x}\\)", a: "-5^{5-x} \\ln 5", opts: ["-5^{5-x} \\ln 5", "5^{5-x} \\ln 5", "-5^{-x} \\ln 5", "5^{5-x}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\sqrt{2x}\\)", a: "\\frac{1}{\\sqrt{2x}}", opts: ["\\frac{1}{\\sqrt{2x}}", "\\frac{1}{\\sqrt{x}}", "\\frac{2}{\\sqrt{2x}}", "\\frac{2}{\\sqrt{x}}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\arcctg 4x\\)", a: "-\\frac{4}{1+16x^2}", opts: ["-\\frac{4}{1+16x^2}", "\\frac{4}{1+16x^2}", "-\\frac{1}{1+16x^2}", "\\frac{1}{1+16x^2}"]}
];

// –ü–∏—Ç–∞–Ω–Ω—è 2 ‚Äî –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ö—ñ–¥–Ω–æ—ó –≤ —Ç–æ—á—Ü—ñ
const tasksLevel2 = [
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ö—ñ–¥–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó —É —Ç–æ—á—Ü—ñ \\(x_0 = -1\\)<br>\\(y = (2x^2 - 1)^5\\)", a: "-540", opts: ["-540", "-20", "20", "540"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ö—ñ–¥–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó —É —Ç–æ—á—Ü—ñ \\(x_0 = 2\\)<br>\\(y = \\sqrt{8x}\\)", a: "1", opts: ["1", "2", "4", "8"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ö—ñ–¥–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó —É —Ç–æ—á—Ü—ñ \\(x_0 = 0\\)<br>\\(y = e^{2x+1}\\)", a: "2e", opts: ["2e", "e", "2", "1"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ö—ñ–¥–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó —É —Ç–æ—á—Ü—ñ \\(x_0 = 1\\)<br>\\(y = \\ln(3x-2)\\)", a: "3", opts: ["3", "1", "0", "-1"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ö—ñ–¥–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó —É —Ç–æ—á—Ü—ñ \\(x_0 = 0\\)<br>\\(y = \\arcctg \\frac{x}{2}\\)", a: "\\frac{1}{2}", opts: ["\\frac{1}{2}", "-\\frac{1}{2}", "1", "0"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ö—ñ–¥–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó —É —Ç–æ—á—Ü—ñ \\(x_0 = 0\\)<br>\\(y = \\arcsin 6x\\)", a: "6", opts: ["6", "-6", "0", "1"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ö—ñ–¥–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó —É —Ç–æ—á—Ü—ñ \\(x_0 = 0\\)<br>\\(y = \\frac{1}{5x-1}\\)", a: "5", opts: ["5", "-5", "1", "-1"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ö—ñ–¥–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó —É —Ç–æ—á—Ü—ñ \\(x_0 = 0\\)<br>\\(y = \\arctg 10x\\)", a: "10", opts: ["10", "-10", "0", "1"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ö—ñ–¥–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó —É —Ç–æ—á—Ü—ñ \\(x_0 = 0\\)<br>\\(y = 2^{-x}\\)", a: "-\\ln 2", opts: ["-\\ln 2", "\\ln 2", "1", "-\\frac{\\ln 2}{2}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ö—ñ–¥–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó —É —Ç–æ—á—Ü—ñ \\(x_0 = \\frac{\\pi}{2}\\)<br>\\(y = \\tg 2x\\)", a: "\\emptyset", opts: ["\\emptyset", "2", "0", "-2"]}
];

// –ü–∏—Ç–∞–Ω–Ω—è 3 ‚Äî —Å–∫–ª–∞–¥–Ω—ñ—à—ñ –ø–æ—Ö—ñ–¥–Ω—ñ
const tasksLevel3 = [
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\ln \\sqrt{\\sin x}\\)", a: "\\frac{\\ctg x}{2}", opts: ["\\ctg x", "\\frac{\\ctg x}{2}", "\\frac{\\cos x}{\\sqrt{\\sin x}}", "\\frac{\\cos x}{2\\sqrt{\\sin x}}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = e^{\\sqrt{3-2x}}\\)", a: "-\\frac{e^{\\sqrt{3-2x}}}{\\sqrt{3-2x}}", opts: ["-\\frac{xe^{\\sqrt{3-2x}}}{\\sqrt{3-2x}}", "\\frac{xe^{\\sqrt{3-2x}}}{\\sqrt{3-2x}}", "-\\frac{1}{\\sqrt{3-2x}}", "-\\frac{e^{\\sqrt{3-2x}}}{\\sqrt{3-2x}}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\cos(\\sin 5x)\\)", a: "-5\\sin(\\sin 5x)\\cos 5x", opts: ["-5\\sin(\\sin 5x)\\cos 5x", "-\\sin(\\sin 5x)\\cos 5x", "5\\sin(\\sin 5x)\\cos 5x", "-5\\sin(\\sin 5x)"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\arctg e^{3x}\\)", a: "\\frac{3e^{3x}}{1+e^{6x}}", opts: ["\\frac{3e^{3x}}{1+e^{6x}}", "\\frac{e^{3x}}{1+e^{6x}}", "\\frac{3e^{3x}}{1+e^{6x}}", "\\frac{3}{1+e^{6x}}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = 2^{\\sin 3x}\\)", a: "3\\ln 2 \\cdot 2^{\\sin 3x} \\cos 3x", opts: ["3\\ln 2 \\cdot 2^{\\sin 3x} \\cos 3x", "3 \\cdot 2^{\\sin 3x} \\cos 3x", "3\\ln 2 \\cdot 2^{\\sin 3x}", "-3\\ln 2 \\cdot 2^{\\sin 3x} \\cos 3x"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\ln^5 \\sqrt{3x}\\)", a: "\\frac{5\\ln^4 \\sqrt{3x}}{2x}", opts: ["\\frac{5\\ln^4 \\sqrt{3x}}{2x}", "\\frac{5\\ln^4 \\sqrt{3x}}{3x}", "\\frac{\\ln^4 \\sqrt{3x}}{2x}", "\\frac{\\ln^4 \\sqrt{3x}}{x}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\sqrt{\\sin 6x}\\)", a: "\\frac{3\\cos 6x}{\\sqrt{\\sin 6x}}", opts: ["\\frac{3\\cos 6x}{\\sqrt{\\sin 6x}}", "\\frac{\\cos 6x}{2\\sqrt{\\sin 6x}}", "\\frac{6\\cos 6x}{\\sqrt{\\sin 6x}}", "-\\frac{3\\cos 6x}{\\sqrt{\\sin 6x}}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\ln(\\sin 3x)\\)", a: "3\\ctg 3x", opts: ["3\\ctg 3x", "\\ctg 3x", "3\\ctg x", "\\frac{3}{\\sin 3x}"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = \\cos(\\ln 2x)\\)", a: "-\\frac{\\sin(\\ln 2x)}{x}", opts: ["-\\frac{\\sin(\\ln 2x)}{x}", "-\\frac{2\\sin(\\ln 2x)}{x}", "\\frac{\\sin(\\ln 2x)}{x}", "-\\sin(\\ln 2x)"]},
    {q: "–ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó \\(y = e^{\\cos 2x}\\)", a: "-2e^{\\cos 2x} \\sin 2x", opts: ["-2e^{\\cos 2x} \\sin 2x", "2e^{\\cos 2x} \\sin 2x", "-2e^{\\cos 2x}", "-e^{\\cos 2x} \\sin 2x"]}
];

let currentLevel = 1;
let usedInLevel1 = [];
let usedInLevel2 = [];
let usedInLevel3 = [];
let currentTask = null;

function startTrainer() {
    currentLevel = 1;
    usedInLevel1 = [];
    usedInLevel2 = [];
    usedInLevel3 = [];
    showRandomQuestion();
}

function showRandomQuestion() {
    let pool, used;
    if (currentLevel === 1) {
        pool = tasksLevel1;
        used = usedInLevel1;
    } else if (currentLevel === 2) {
        pool = tasksLevel2;
        used = usedInLevel2;
    } else {
        pool = tasksLevel3;
        used = usedInLevel3;
    }

    const available = pool.filter(t => !used.includes(t.q));
    currentTask = available.length === 0 
        ? pool[Math.floor(Math.random() * pool.length)]
        : available[Math.floor(Math.random() * available.length)];

    if (currentLevel === 1) usedInLevel1.push(currentTask.q);
    else if (currentLevel === 2) usedInLevel2.push(currentTask.q);
    else usedInLevel3.push(currentTask.q);

    document.getElementById('questionNumber').textContent = `–ü–∏—Ç–∞–Ω–Ω—è ${currentLevel}`;
    document.getElementById('questionText').innerHTML = currentTask.q;

    const container = document.getElementById('optionsContainer');
    container.innerHTML = '';

    const shuffled = [...currentTask.opts].sort(() => Math.random() - 0.5);
    shuffled.forEach(opt => {
        const div = document.createElement('div');
        div.className = 'option';
        div.innerHTML = `\\(${opt}\\)`;
        div.dataset.value = opt;
        div.onclick = () => {
            container.querySelectorAll('.option').forEach(d => d.classList.remove('selected'));
            div.classList.add('selected');
            document.getElementById('submitAnswer').disabled = false;
        };
        container.appendChild(div);
    });

    document.getElementById('submitAnswer').disabled = true;
    document.getElementById('feedback').style.opacity = 0;
    
    // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ MathJax –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É —Ñ–æ—Ä–º—É–ª
    if (window.MathJax) {
        MathJax.typesetPromise([document.getElementById('questionText'), container]);
    }
}

document.getElementById('submitAnswer').onclick = () => {
    const selected = document.querySelector('.option.selected');
    if (!selected || !currentTask) return;

    const userAnswer = selected.dataset.value;
    const isCorrect = userAnswer === currentTask.a;

    const fb = document.getElementById('feedback');
    fb.textContent = isCorrect ? '‚úì –¶—ñ–ª—å —É—Ä–∞–∂–µ–Ω–∞!' : '‚úó –ü—Ä–æ–º–∞—Ö! –°–ø—Ä–æ–±—É–π —â–µ!';
    fb.style.background = isCorrect ? '#2a9d8f' : '#e63946';
    fb.style.opacity = 1;

    setTimeout(() => {
        fb.style.opacity = 0;
        if (isCorrect) {
            if (currentLevel < 3) {
                // –ü–µ—Ä–µ—Ö–æ–¥–∏–º–æ –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä—ñ–≤–µ–Ω—å
                currentLevel++;
                setTimeout(showRandomQuestion, 600);
            } else {
                // –í—Å—ñ —Ç—Ä–∏ —Ä—ñ–≤–Ω—ñ –ø—Ä–æ–π–¥–µ–Ω–æ ‚Äî –ø–µ—Ä–µ–º–æ–≥–∞!
                setTimeout(() => {
                    closeModal(modals.trainer);
                    openModal(modals.completion);
                }, 600);
            }
        } else {
            // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî –Ω–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥ —Ç–æ–≥–æ –∂ —Ä—ñ–≤–Ω—è
            setTimeout(() => {
                document.querySelectorAll('.option').forEach(d => d.classList.remove('selected'));
                document.getElementById('submitAnswer').disabled = true;
                showRandomQuestion();
            }, 800);
        }
    }, 1200);
};

// –ö–Ω–æ–ø–∫–∞ "–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞ –ø–æ–ª—ñ–≥–æ–Ω!"
document.getElementById('resetTrainerBtn').onclick = () => {
    // –ü—Ä–æ—Å—Ç–æ —Ö–æ–≤–∞—î–º–æ completion —ñ –ø–æ–∫–∞–∑—É—î–º–æ trainer
    modals.completion.style.display = 'none';
    modals.trainer.style.display = 'flex';
    
    // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î–º–æ —Ç—Ä–µ–Ω–∞–∂–µ—Ä
    startTrainer();
};

// –û–±—Ä–æ–±–Ω–∏–∫ –∑–∞–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è
document.getElementById('closeCompletionBtn').onclick = () => {
    closeModal(modals.completion);
};

});
</script>
</body>
</html>
