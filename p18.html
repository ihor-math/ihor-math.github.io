<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>18. –î—ñ—ó –Ω–∞–¥ –º–∞—Ç—Ä–∏—Ü—è–º–∏</title>
    <script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    window.MathJax = {
        tex: {
            inlineMath: [['\\(', '\\)']],
            displayMath: [['\\[', '\\]']],
            processEscapes: true,
            processEnvironments: true
        },
        options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            ignoreHtmlClass: 'tex2jax_ignore',
            processHtmlClass: 'tex2jax_process'
        }
    };
    window.mathJaxReady = true;
</script>
<script defer src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        *, *:before, ::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            background: linear-gradient(135deg, #1c2b1a, #3a4c36);
            font-family: 'Poppins', sans-serif;
            color: #e8e8e8;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100dvh;
        }
        body.modal-open {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }
        .title-box {
            margin-top: 60px;
            padding: 25px 40px;
            background: linear-gradient(135deg, #2b2b2b, #4c6b3a);
            border-radius: 25px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4), inset 0 0 10px rgba(255, 255, 255, 0.1);
            max-width: 90%;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .title-box h1 {
            font-size: 28px;
            color: #d4d4d4;
            text-shadow: 0 0 10px rgba(212, 212, 212, 0.5);
            font-weight: 800;
        }
            .figure.figure-5-1 {
    width: 700px;
    height: 70px;
}
        .section-container {
            margin-top: 40px;
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
        }
        .section {
            width: 250px;
            height: 220px;
            background: linear-gradient(135deg, #2e4c2b, #4c6b3a);
            border-radius: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3), inset 0 0 8px rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            color: inherit;
            border: 1px solid rgba(163, 166, 139, 0.3);
        }
        .section:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.5), inset 0 0 12px rgba(163, 166, 139, 0.2);
        }
        .section img {
            width: 60px;
            height: 60px;
            margin-bottom: 15px;
            object-fit: cover;
            border-radius: 8px;
            filter: drop-shadow(0 0 5px rgba(163, 166, 139, 0.3));
        }
        .section h2 {
            font-size: 20px;
            color: #e8e8e8;
            font-weight: 600;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
        }
        .modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.95);
            width: 95%;
            max-width: 95vw;
            height: 95vh;
            max-height: 95vh;
            background: linear-gradient(135deg, #1c2b1a, #3a4c36);
            z-index: 1001;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            transition: opacity 0.25s ease, transform 0.25s ease;
            opacity: 0;
            border-radius: 15px;
            overflow: hidden;
            transform: translateZ(0);
        }
        .modal.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }
        .modal-header {
            background: linear-gradient(90deg, #2b2b2b, #4c6b3a);
            padding: 8px 12px;
            display: flex;
            justify-content: flex-end;
            width: 100%;
            flex-shrink: 0;
        }
        .close-btn {
            background: #a3a68b;
            color: #1c2b1a;
            border: none;
            border-radius: 6px;
            padding: 6px 16px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        .close-btn:hover {
            background: #7a7d66;
        }
        .modal-content {
            padding: 20px;
            flex-grow: 1;
            background: linear-gradient(135deg, #4c6b3a, #2b2b2b);
            border-radius: 10px;
            margin: 10px;
            color: #e8e8e8;
            width: 100%;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(163, 166, 139, 0.5) transparent;
        }
        .modal-content::-webkit-scrollbar {
            width: 6px;
        }
        .modal-content::-webkit-scrollbar-track {
            background: transparent;
        }
        .modal-content::-webkit-scrollbar-thumb {
            background: rgba(163, 166, 139, 0.5);
            border-radius: 3px;
        }
        .modal-content::-webkit-scrollbar-thumb:hover {
            background: rgba(163, 166, 139, 0.8);
        }
        .video-card-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
        }
        .video-card {
            width: 350px;
            height: 250px;
            background: linear-gradient(135deg, #2e4c2b, #4c6b3a);
            border-radius: 15px;
            border: 1px solid rgba(163, 166, 139, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 10px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            color: #e8e8e8;
        }
        .video-card:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
        }
        .video-card img {
            width: 40px;
            height: 40px;
            margin-bottom: 8px;
            object-fit: cover;
            border-radius: 6px;
        }
        .video-card h3 {
            font-size: clamp(16px, 2.5vw, 18px);
            font-weight: 600;
        }
        .video-player-container {
            max-width: 95%;
            margin: 0 auto;
        }
        .video-player-container iframe {
            width: 100%;
            aspect-ratio: 16 / 9;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .glow-title {
            text-align: center;
            font-size: 2em;
            color: #e8e8e8;
            font-family: 'Verdana', sans-serif;
            text-shadow: 0 0 10px #e8e8e8, 0 0 20px #a3a68b, 0 0 30px #a3a68b;
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from {
                text-shadow: 0 0 5px #e8e8e8, 0 0 10px #a3a68b;
            }
            to {
                text-shadow: 0 0 20px #e8e8e8, 0 0 30px #a3a68b;
            }
        }
        #theoryModal .modal-content p {
            font-size: 18px !important;
            line-height: 1.6;
            word-wrap: break-word;
            overflow-wrap: break-word;
            text-align: justify;
            max-width: 100%;
        }
        #theoryModal .modal-content ul {
            list-style: none;
            padding-left: 20px;
        }
        #theoryModal .modal-content li {
            color: #e8e8e8;
            padding-left: 20px;
            margin-left: 10px;
            max-width: calc(100% - 30px);
            white-space: normal;
            text-align: justify;
            position: relative;
        }
        #theoryModal .modal-content li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #a3a68b;
            font-size: 16px;
        }
        #theoryModal .modal-content img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 10px auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        #theoryModal .math-notation-centered {
            display: block !important;
            color: #FFFF00 !important;
            text-align: center !important;
            max-width: 100%;
            width: fit-content;
            margin: 10px auto;
            padding: 5px;
            box-sizing: border-box;
        }
        #theoryModal mjx-container {
            color: #FFFF00 !important;
            font-size: clamp(16px, 2.8vw, 18px);
        }
        #theoryModal mjx-container[jax="CHTML"][display="true"] {
            display: block !important;
            text-align: center !important;
            margin: 10px auto !important;
            max-width: 100% !important;
            width: fit-content !important;
            padding: 5px !important;
            box-sizing: border-box !important;
            overflow: visible !important;
        }
        #trainerModal mjx-container {
            font-size: clamp(16px, 2.8vw, 18px);
            color: #FFFF00;
            max-width: 90%;
            width: fit-content;
            margin: 10px auto;
            padding: 5px;
            box-sizing: border-box;
            text-align: center;
        }
        #trainerModal mjx-container[jax="CHTML"][display="true"] {
            font-size: clamp(18px, 3vw, 20px) !important;
            display: block !important;
            text-align: center !important;
            margin: 10px auto !important;
            max-width: 90% !important;
            width: fit-content !important;
            padding: 5px !important;
            box-sizing: border-box !important;
            overflow: visible !important;
        }
        .mathjax-loading::before {
            content: '–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–æ—Ä–º—É–ª...';
            display: block;
            text-align: center;
            color: #e8e8e8;
            margin: 10px 0;
        }
        #questionsModal mjx-container {
            font-size: clamp(16px, 2.8vw, 18px);
            color: #FFFF00;
            max-width: 90%;
            width: fit-content;
            margin: 5px auto;
            padding: 3px;
            box-sizing: border-box;
            text-align: center;
            overflow: visible !important;
        }
        #questionsModal mjx-container[jax="CHTML"][display="true"] {
            display: block !important;
            text-align: center !important;
            margin: 5px auto !important;
            max-width: 90% !important;
            width: fit-content !important;
            padding: 3px !important;
            box-sizing: border-box !important;
            overflow: visible !important;
        }
        #modalOverlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            transition: opacity 0.25s ease;
            transform: translateZ(0);
        }
        .question-card {
            perspective: 1000px;
            margin: 20px auto;
            max-width: 95%;
            height: 200px;
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: 15px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
            cursor: pointer;
        }
        .card-inner.flipped {
            transform: rotateY(180deg);
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            padding: 12px;
            border-radius: 15px;
            font-size: clamp(16px, 3vw, 18px);
            line-height: 1.5;
            border: 1px solid rgba(163, 166, 139, 0.3);
            font-family: 'Poppins', sans-serif;
            box-sizing: border-box;
        }
        .card-front {
            background: linear-gradient(135deg, #2e4c2b, #4c6b3a);
            color: #e8e8e8;
            font-weight: 600;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            flex-wrap: wrap;
            overflow-wrap: break-word;
            word-break: break-word;
            padding: 12px 15px;
            max-width: 100%;
        }
        .card-back {
            background: linear-gradient(135deg, #3a3a3a, #575a4b);
            color: #e8e8e8;
            transform: rotateY(180deg);
            overflow-y: auto;
            text-align: justify;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100%;
            word-break: break-word;
            overflow-wrap: break-word;
            padding: 12px 15px;
            max-width: 100%;
            box-sizing: border-box;
            scrollbar-width: thin;
            scrollbar-color: rgba(163, 166, 139, 0.5) transparent;
        }
        .card-back::-webkit-scrollbar {
            width: 6px;
        }
        .card-back::-webkit-scrollbar-track {
            background: transparent;
        }
        .card-back::-webkit-scrollbar-thumb {
            background: rgba(163, 166, 139, 0.5);
            border-radius: 3px;
        }
        .card-back::-webkit-scrollbar-thumb:hover {
            background: rgba(163, 166, 139, 0.8);
        }
        .question-card .card-front {
            white-space: normal;
            overflow-wrap: break-word;
            word-break: break-word;
            flex-wrap: wrap;
        }
        .card-back p {
            margin: 5px 0;
            font-size: clamp(16px, 3vw, 18px);
            color: #e8e8e8;
            box-sizing: border-box;
            width: 100%;
            text-align: center;
        }
        .card-front span.yellow {
            color: #FFFF00;
            font-weight: 600;
            display: inline;
            margin-right: 0.1em;
        }
        .trainer-container {
            width: 95%;
            max-width: 900px;
            padding: 4vw 5vw;
            text-align: center;
            background: linear-gradient(135deg, #2e4c2b, #4c6b3a);
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(163, 166, 139, 0.3);
            box-sizing: border-box;
            margin: auto;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(163, 166, 139, 0.5) transparent;
        }
        .trainer-container::-webkit-scrollbar {
            width: 6px;
        }
        .trainer-container::-webkit-scrollbar-track {
            background: transparent;
        }
        .trainer-container::-webkit-scrollbar-thumb {
            background: rgba(163, 166, 139, 0.5);
            border-radius: 3px;
        }
        .trainer-container::-webkit-scrollbar-thumb:hover {
            background: rgba(163, 166, 139, 0.8);
        }
        .trainer-container p {
            font-size: clamp(18px, 3vw, 20px);
            color: #e8e8e8;
            margin: 10px 0;
        }
        .trainer-container .math-notation-centered {
            text-align: center !important;
            margin: 10px 0;
            max-width: 90%;
        }
        .trainer-question {
            font-size: clamp(18px, 3vw, 20px);
            color: #e8e8e8;
            margin-bottom: 15px;
            text-align: center;
        }
        .question-number {
            width: 100px;
            height: 100px;
            line-height: 100px;
            background: linear-gradient(135deg, #a3a68b, #7a7d66);
            color: #1c2b1a;
            border-radius: 50%;
            font-size: clamp(16px, 2.8vw, 18px);
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            text-align: center;
            white-space: nowrap;
        }
        .answer-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 15px 0;
        }
        .answer-btn {
             background: #3b4a5a;
    border: 1.5px solid #a855f7;
            color: #e8e8e8;
           
            border-radius: 8px;
            padding: 10px 20px;
            font-size: clamp(17px, 2.6vw, 18px);
            cursor: pointer;
            transition: background 0.3s ease, transform 0.2s ease;
            min-width: 120px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
            touch-action: manipulation;
        }
        .answer-btn:hover {
            background: linear-gradient(135deg, #4c6b3a, #575a4b);
            transform: scale(1.05);
        }
        .answer-btn:disabled {
            background: #575a4b;
            cursor: not-allowed;
            opacity: 0.6;
        }
        .answer-btn.selected {
            background: #6f2c42 !important;
    border: 2px solid #FFD700 !important;
}
        .submit-btn {
            background: #556832;
            color: #fbec5d;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            font-size: clamp(14px, 2.5vw, 16px);
            cursor: pointer;
            transition: background 0.3s ease, transform 0.2s ease;
            margin: 15px auto;
            display: block;
        }
        .submit-btn:hover {
            background: linear-gradient(135deg, #7a7d66, #a3a68b);
            transform: scale(1.05);
        }
        .submit-btn:disabled {
            background: #c3ceb9;
            cursor: not-allowed;
            opacity: 0.6;
            color: #2e4c2b;
        }
        #feedback {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            margin: 0;
            padding: 15px 25px;
            max-width: 400px;
            min-height: 80px;
            width: 90%;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
            font-size: clamp(16px, 2.8vw, 18px);
            font-weight: bold;
            text-align: center;
            opacity: 0;
            transition: opacity 0.4s ease, transform 0.4s ease;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #feedback.show {
            opacity: 1;
            transform: translate(-50%, -50%);
        }
        #feedback.correct {
            color: #155724;
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
        }
        #feedback.incorrect {
            color: #721c24;
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
        }
        #resetTrainerBtn {
            background: #a3a68b;
            color: #2e4c2b;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            font-size: clamp(14px, 2.5vw, 16px);
            cursor: pointer;
            transition: background 0.3s ease;
        }
        #resetTrainerBtn:hover {
            background: #7a7d66;
        }
        .navigation-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin: 40px auto;
            max-width: 1000px;
            padding: 0 20px;
        }
        .nav-button {
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, #2b2b2b, #4c6b3a);
            color: #d4d4d4;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(163, 166, 139, 0.3);
            text-decoration: none;
        }
        .nav-button:hover {
            background: linear-gradient(135deg, #4c6b3a, #575a4b);
            color: #e8e8e8;
            text-decoration: none;
        }
        .nav-button svg {
            margin-right: 8px;
            fill: currentColor;
        }
        details {
            margin: 10px 0;
            padding: 10px;
            border-radius: 10px;
            background: linear-gradient(135deg, #2e4c2b, #4c6b3a);
            cursor: pointer;
            border: 1px solid rgba(163, 166, 139, 0.3);
        }
        summary {
            font-weight: 600;
            padding: 10px;
            background: linear-gradient(90deg, #3a3a3a, #575a4b);
            border-radius: 10px;
            color: #d4d4d4;
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
        }
        summary:hover {
            background: linear-gradient(90deg, #575a4b, #7a7d66);
        }
        details p {
            padding: 0 20px 10px;
            color: #e8e8e8;
        }
        .solution {
            color: #F4A261 !important;
            font-weight: bold;
        }
        .example-title {
            color: #F4A261 !important;
            font-weight: bold;
        }
        .example-condition {
            color: #e8e8e8 !important;
        }
        /* –û–±'—î–¥–Ω–∞–Ω–Ω—è —Å—Ç–∏–ª—ñ–≤ –¥–ª—è .completion-emoji */
.completion-emoji {
    width: clamp(80px, 15vw, 120px);
    height: clamp(80px, 15vw, 120px);
    margin: 0 auto 3vw;
    border-radius: 50%;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
    border: 2px dashed #fb7185;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
}

.completion-emoji::after {
    content: 'üéâ';
    font-size: clamp(40px, 8vw, 60px);
    color: #ffff00;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
}

#completionScreen {
    z-index: 10; /* –í–∏—â–∏–π z-index, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–µ—Ä–µ–∫—Ä–∏—Ç—Ç—è */
    width: 100%;
    max-width: 90%;
    margin: 20px auto;
    text-align: center;
    position: relative; /* –ó–∞–±–µ–∑–ø–µ—á—É—î –ø—Ä–∞–≤–∏–ª—å–Ω–µ –ø–æ–∑–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è –≤ modal-content */
}

.completion-message {
    text-align: center;
    padding: 20px;
    background: #144748;
    border-radius: 15px;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
    border: 1px solid rgba(110, 231, 183, 0.3);
    max-width: 90%;
    margin: 20px auto;
}

.completion-message h2 {
    font-size: clamp(20px, 3.5vw, 24px);
    color: #e6e6e6;
    margin-bottom: 10px;
}

.completion-message p {
    font-size: clamp(18px, 3vw, 20px);
    color: #FFFF00;
}

.completion-message button {
    margin-top: 20px;
    background: #a3a68b;
    color: #2e4c2b;
    border: none;
    border-radius: 8px;
    padding: 10px 20px;
    font-size: clamp(14px, 2.5vw, 16px);
    cursor: pointer;
    transition: background 0.3s ease;
}

.completion-message button:hover {
    background: #7a7d66;
}
            .hidden {
    display: none !important;
}
            
        @media (max-width: 768px) {
            .title-box {
                margin-top: 40px;
                padding: 15px 20px;
            }
            .title-box h1 {
                font-size: 24px;
            }
            .section-container {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }
            .section {
                width: 80%;
                height: 180px;
            }
            .modal-content {
                padding: 15px;
                max-height: calc(100dvh - 60px);
                overflow-x: auto;
            }
            .video-card {
                width: 260px;
                height: 160px;
            }
            #theoryModal .modal-content p, #theoryModal .modal-content li {
                font-size: 18px !important;
                line-height: 1.7;
            }
            #theoryModal mjx-container, #theoryModal .math-notation-centered {
                font-size: clamp(18px, 3vw, 20px) !important;
            }
            #trainerModal mjx-container, #questionsModal mjx-container {
                font-size: clamp(18px, 3vw, 20px) !important;
            }
            .question-card {
                height: 220px;
                max-width: 90%;
            }
            .card-front {
                font-size: clamp(16px, 2.9vw, 18px);
                padding: 10px 12px;
                overflow-wrap: break-word;
                word-break: break-word;
            }
            .card-back {
                padding: 10px 12px;
                font-size: clamp(16px, 2.9vw, 18px);
                justify-content: center;
                align-items: center;
                overflow-y: auto;
            }
            #questionsModal mjx-container {
                font-size: clamp(16px, 3.2vw, 18px) !important;
                max-width: 100%;
                margin: 5px auto;
                padding: 5px;
                overflow: visible !important;
            }
            #questionsModal mjx-container[jax="CHTML"][display="true"] {
                font-size: clamp(16px, 3.2vw, 18px) !important;
                max-width: 100%;
                margin: 5px auto;
                padding: 5px;
                overflow: visible !important;
                text-align: center;
            }
            .card-back p {
                font-size: clamp(16px, 2.9vw, 18px);
                margin: 5px 0;
                text-align: center;
            }
            .trainer-container {
                padding: 4vw 5vw;
                width: 95%;
                max-width: 800px;
            }
            .trainer-container p, .trainer-question {
                font-size: clamp(16px, 2.8vw, 18px);
            }
            .question-number {
                width: 80px;
                height: 80px;
                line-height: 80px;
                font-size: clamp(14px, 2.5vw, 16px);
            }
            .answer-btn, .submit-btn, #resetTrainerBtn {
                font-size: clamp(16px, 3vw, 18px);
                padding: 8px 15px;
                min-width: 100px;
            }
            .feedback {
                font-size: clamp(14px, 2.6vw, 16px);
            }
           .completion-emoji {
        width: clamp(60px, 12vw, 100px);
        height: clamp(60px, 12vw, 100px);
    }
    .completion-emoji::after {
        font-size: clamp(30px, 6vw, 50px);
    }
    .completion-message h2 {
        font-size: clamp(18px, 3vw, 20px);
    }
    .completion-message p {
        font-size: clamp(16px, 2.8vw, 18px);
    }
    .completion-message button {
        font-size: clamp(12px, 2.3vw, 14px);
        padding: 8px 16px;
    }
            .navigation-buttons {
                margin: 22px auto;
                gap: 16px;
            }
            .nav-button {
                font-size: 18px;
                padding: 8px 18px;
            }
            .trainer-question {
                font-size: clamp(16px, 2.8vw, 18px);
            }
            .submit-btn {
                font-size: clamp(16px, 3vw, 18px);
                padding: 12px 24px;
                min-width: 120px;
                border-radius: 10px;
            }
        }
        @media (max-width: 480px) {
            .title-box {
                margin-top: 20px;
                padding: 10px 15px;
            }
            .title-box h1 {
                font-size: 22px;
            }
            .section {
                width: 90%;
                height: 150px;
            }
            .section img {
                width: 50px;
                height: 50px;
            }
            .section h2 {
                font-size: 20px;
            }
            .modal-content {
                padding: 10px;
            }
            .video-card {
                width: 260px;
                height: 160px;
            }
            #theoryModal .modal-content p, #theoryModal .modal-content li {
                font-size: 16px !important;
            }
            #theoryModal mjx-container, #theoryModal .math-notation-centered {
                font-size: clamp(16px, 2.8vw, 18px) !important;
            }
            #trainerModal mjx-container, #questionsModal mjx-container {
                font-size: clamp(15px, 2.7vw, 17px) !important;
            }
            .question-card {
                height: 240px;
                max-width: 90%;
            }
            .card-front {
                font-size: clamp(15px, 2.8vw, 17px);
                padding: 8px 10px;
            }
            .card-back {
                padding: 8px 10px;
                font-size: clamp(15px, 2.8vw, 17px);
                justify-content: center;
                align-items: center;
                overflow-y: auto;
            }
            #questionsModal mjx-container {
                font-size: clamp(15px, 2.8vw, 17px) !important;
                max-width: 100%;
                margin: 5px auto;
                padding: 5px;
                overflow: visible !important;
            }
            #questionsModal mjx-container[jax="CHTML"][display="true"] {
                font-size: clamp(15px, 2.8vw, 17px) !important;
                max-width: 100%;
                margin: 5px auto;
                padding: 5px;
                overflow: visible !important;
                text-align: center;
            }
            .card-back p {
                font-size: clamp(15px, 2.8vw, 17px);
                margin: 5px 0;
                text-align: center;
            }
            .trainer-container {
                padding: 5vw 6vw;
                width: 95%;
                max-width: 700px;
            }
            .trainer-container p, .trainer-question {
                font-size: clamp(15px, 2.7vw, 17px);
            }
            .question-number {
                width: 70px;
                height: 70px;
                line-height: 70px;
                font-size: clamp(12px, 2.3vw, 14px);
            }
            .answer-btn, .submit-btn, #resetTrainerBtn {
                font-size: clamp(14px, 2.6vw, 16px);
                padding: 6px 12px;
                min-width: 80px;
            }
            #feedback {
                padding: 10px 15px;
                font-size: clamp(14px, 2.6vw, 16px);
                width: 80%;
                max-width: 300px;
                min-height: 60px;
            }
            .completion-emoji {
        width: clamp(50px, 10vw, 80px);
        height: clamp(50px, 10vw, 80px);
    }
    .completion-emoji::after {
        font-size: clamp(25px, 5vw, 40px);
    }
    .completion-message h2 {
        font-size: clamp(16px, 2.8vw, 18px);
    }
    .completion-message p {
        font-size: clamp(14px, 2.6vw, 16px);
    }
    .completion-message button {
        font-size: clamp(12px, 2.3vw, 14px);
        padding: 6px 12px;
    }
            .nav-button {
                font-size: 16px;
                padding: 8px 16px;
            }
            .submit-btn {
                font-size: clamp(15px, 2.8vw, 17px);
                padding: 10px 20px;
                min-width: 100px;
                border-radius: 8px;
            }
            .figure.figure-5-1 {
    width: 350px;
    height: 350px;
}
        }
    </style>
</head>
<body>
    <div class="title-box">
        <h1>18. –î—ñ—ó –Ω–∞–¥ –º–∞—Ç—Ä–∏—Ü—è–º–∏</h1>
    </div>

    <div class="section-container">
        <div class="section" id="openTheoryBtn">
            <img src="https://img.icons8.com/fluency/96/book-shelf.png" alt="–ö–Ω–∏–≥–∞">
            <h2>–¢–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ</h2>
        </div>
        <div class="section" id="openVideoBtn">
            <img src="https://img.icons8.com/fluency/96/video.png" alt="–í—ñ–¥–µ–æ">
            <h2>–í—ñ–¥–µ–æ–º–∞—Ç–µ—Ä—ñ–∞–ª–∏</h2>
        </div>
        <div class="section" id="openQuestionsBtn">
            <img src="https://img.icons8.com/fluency/96/flipboard.png" alt="–ö–∞—Ä—Ç–∫–∏">
            <h2>–ü–∏—Ç–∞–Ω–Ω—è —ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ</h2>
        </div>
        <div class="section" id="openTrainerBtn">
            <img src="https://img.icons8.com/fluency/96/flash-on.png" alt="–¢—Ä–µ–Ω–∞–∂–µ—Ä">
            <h2>–¢—Ä–µ–Ω–∞–∂–µ—Ä</h2>
        </div>
    </div>

    <div class="navigation-buttons">
       <a class="nav-button" href='tema5.html'>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                <path d="M15 18l-6-6l6-6"/>
            </svg>
            –î–æ —Ç–µ–º–∏ 5
        </a>
       <a class="nav-button" href='zmist.html'>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
            </svg>
            –î–æ –∫—É—Ä—Å—É
        </a>
    </div>

    <div id="modalOverlay"></div>

    <div id="theoryModal" class="modal">
        <div class="modal-header">
            <button class="close-btn" id="closeTheoryBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
        <div class="modal-content">
          <details>
    <summary>–¢—Ä–∞–Ω—Å–ø–æ–Ω—É–≤–∞–Ω–Ω—è</summary>
    <p>–¢—Ä–∞–Ω—Å–ø–æ–Ω–æ–≤–∞–Ω–∞ –º–∞—Ç—Ä–∏—Ü—è ‚Äì —Ü–µ –º–∞—Ç—Ä–∏—Ü—è, —è–∫—É –æ—Ç—Ä–∏–º—É—é—Ç—å —ñ–∑ –¥–∞–Ω–æ—ó –º–∞—Ç—Ä–∏—Ü—ñ \( A \), –∑–∞–º—ñ–Ω—é—é—á–∏ —ó—ó —Ä—è–¥–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º–∏ —Å—Ç–æ–≤–ø—Ü—è–º–∏. –¢–∞–∫–∞ –º–∞—Ç—Ä–∏—Ü—è –ø–æ–∑–Ω–∞—á–∞—î—Ç—å—Å—è \( A^T \).</p>
    <p>–Ø–∫—â–æ –º–∞—Ç—Ä–∏—Ü—è \( A \) –º–∞—î —Ä–æ–∑–º—ñ—Ä \( m \times n \) (—Ç–æ–±—Ç–æ \( m \) —Ä—è–¥–∫—ñ–≤ —ñ \( n \) —Å—Ç–æ–≤–ø—Ü—ñ–≤), —Ç–æ –ø—ñ—Å–ª—è —Ç—Ä–∞–Ω—Å–ø–æ–Ω—É–≤–∞–Ω–Ω—è —Å—Ç–∞—î –º–∞—Ç—Ä–∏—Ü–µ—é \( A^T \) —Ä–æ–∑–º—ñ—Ä–æ–º \( n \times m \). –ü—Ä–∏ —Ü—å–æ–º—É –µ–ª–µ–º–µ–Ω—Ç \( a_{ij} \) —É –≤–∏—Ö—ñ–¥–Ω—ñ–π –º–∞—Ç—Ä–∏—Ü—ñ \( A \) –ø–µ—Ä–µ–º—ñ—â—É—î—Ç—å—Å—è –Ω–∞ –ø–æ–∑–∏—Ü—ñ—é \( a_{ji} \) —É —Ç—Ä–∞–Ω—Å–ø–æ–Ω–æ–≤–∞–Ω—ñ–π –º–∞—Ç—Ä–∏—Ü—ñ \( A^T \).</p>
    <p class="math-notation-centered">\[
        A = \begin{pmatrix}
            a_{11} & a_{12} & \cdots & a_{1n} \\
            a_{21} & a_{22} & \cdots & a_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            a_{m1} & a_{m2} & \cdots & a_{mn}
        \end{pmatrix}, \quad
        A^T = \begin{pmatrix}
            a_{11} & a_{21} & \cdots & a_{m1} \\
            a_{12} & a_{22} & \cdots & a_{m2} \\
            \vdots & \vdots & \ddots & \vdots \\
            a_{1n} & a_{2n} & \cdots & a_{mn}
        \end{pmatrix}
    \]</p>
    <p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 5.2.</span> <span class="example-condition">–¢—Ä–∞–Ω—Å–ø–æ–Ω—É–≤–∞—Ç–∏ –º–∞—Ç—Ä–∏—Ü—é \( A = \begin{pmatrix} 1 & -2 & 5 & 3 \end{pmatrix} \).</span></p>
    <p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
    <p>–û—Å–∫—ñ–ª—å–∫–∏ –º–∞—Ç—Ä–∏—Ü—è –º–∞—î –æ–¥–∏–Ω —Ä—è–¥–æ–∫, –π–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∏ –∑–∞–ø–∏—Å—É—î–º–æ —É —Å—Ç–æ–≤–ø–µ—Ü—å:</p>
    <p class="math-notation-centered">\[
        A^T = \begin{pmatrix} 1 \\ -2 \\ 5 \\ 3 \end{pmatrix}
    \]</p>
    <p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 5.3.</span> <span class="example-condition">–¢—Ä–∞–Ω—Å–ø–æ–Ω—É–≤–∞—Ç–∏ –º–∞—Ç—Ä–∏—Ü—é \( B = \begin{pmatrix} 2 & 0 & -1 \\ -5 & 4 & 6 \\ 1 & -3 & -2 \end{pmatrix} \).</span></p>
    <p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
    <p>–ü–µ—Ä—à–∏–π —Ä—è–¥–æ–∫ –º–∞—Ç—Ä–∏—Ü—ñ \( B \) —Å—Ç–∞—î –ø–µ—Ä—à–∏–º —Å—Ç–æ–≤–ø—Ü–µ–º –º–∞—Ç—Ä–∏—Ü—ñ \( B^T \), –¥—Ä—É–≥–∏–π —Ä—è–¥–æ–∫ ‚Äì –¥—Ä—É–≥–∏–º —Å—Ç–æ–≤–ø—Ü–µ–º, —Ç—Ä–µ—Ç—ñ–π —Ä—è–¥–æ–∫ ‚Äì —Ç—Ä–µ—Ç—ñ–º —Å—Ç–æ–≤–ø—Ü–µ–º.</p>
    <p class="math-notation-centered">\[
        B^T = \begin{pmatrix}
            2 & -5 & 1 \\
            0 & 4 & -3 \\
            -1 & 6 & -2
        \end{pmatrix}
    \]</p>
</details>
          <details>
    <summary>–ú–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—ñ –Ω–∞ —á–∏—Å–ª–æ</summary>
    <p>–©–æ–± –ø–æ–º–Ω–æ–∂–∏—Ç–∏ –º–∞—Ç—Ä–∏—Ü—é –Ω–∞ —á–∏—Å–ª–æ, –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–æ–∂–µ–Ω —ó—ó –µ–ª–µ–º–µ–Ω—Ç –ø–æ–º–Ω–æ–∂–∏—Ç–∏ –Ω–∞ —Ü–µ —á–∏—Å–ª–æ. –î–æ–±—É—Ç–∫–æ–º –º–∞—Ç—Ä–∏—Ü—ñ \( A \) –Ω–∞ —á–∏—Å–ª–æ \( \lambda \) —î –º–∞—Ç—Ä–∏—Ü—è \( B = \lambda A \), –¥–µ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç \( b_{ij} = \lambda a_{ij} \) –¥–ª—è \( i = 1, 2, \ldots, m \); \( j = 1, 2, \ldots, n \).</p>
    <p>–¢–æ–±—Ç–æ, –¥–ª—è –º–∞—Ç—Ä–∏—Ü—ñ</p>
    <p class="math-notation-centered">\[
        A = \begin{pmatrix}
            a_{11} & a_{12} & \cdots & a_{1n} \\
            a_{21} & a_{22} & \cdots & a_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            a_{m1} & a_{m2} & \cdots & a_{mn}
        \end{pmatrix},
    \]</p>
    <p>–¥–æ–±—É—Ç–æ–∫ –Ω–∞ —á–∏—Å–ª–æ \( \lambda \) –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è —è–∫:</p>
    <p class="math-notation-centered">\[
        B = \lambda A = \begin{pmatrix}
            \lambda a_{11} & \lambda a_{12} & \cdots & \lambda a_{1n} \\
            \lambda a_{21} & \lambda a_{22} & \cdots & \lambda a_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            \lambda a_{m1} & \lambda a_{m2} & \cdots & \lambda a_{mn}
        \end{pmatrix}, \quad \lambda \in \mathbb{R}.
    \]</p>
    <p><strong>–ü—Ä–æ—Ç–∏–ª–µ–∂–Ω–∞ –º–∞—Ç—Ä–∏—Ü—è.</strong> –ü—Ä–æ—Ç–∏–ª–µ–∂–Ω–∞ –º–∞—Ç—Ä–∏—Ü—è \( -A \) ‚Äì —Ü–µ –º–∞—Ç—Ä–∏—Ü—è, –æ—Ç—Ä–∏–º–∞–Ω–∞ –º–Ω–æ–∂–µ–Ω–Ω—è–º —É—Å—ñ—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –º–∞—Ç—Ä–∏—Ü—ñ \( A \) –Ω–∞ \(-1\). –ï–ª–µ–º–µ–Ω—Ç–∏ \( -A \) –º–∞—é—Ç—å –ø—Ä–æ—Ç–∏–ª–µ–∂–Ω—ñ –∑–Ω–∞–∫–∏ –¥–æ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ \( A \).</p>
    <p>–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –º–∞—Ç—Ä–∏—Ü—ñ</p>
    <p class="math-notation-centered">\[
        A = \begin{pmatrix}
            1 & -2 \\
            -3 & -4 \\
            6 & -7
        \end{pmatrix},
    \]</p>
    <p>–ø—Ä–æ—Ç–∏–ª–µ–∂–Ω–∞ –º–∞—Ç—Ä–∏—Ü—è:</p>
    <p class="math-notation-centered">\[
        -A = \begin{pmatrix}
            -1 & 2 \\
            3 & 4 \\
            -6 & 7
        \end{pmatrix}.
    \]</p>
    <p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 5.4.</span> <span class="example-condition">–ü–æ–º–Ω–æ–∂–∏—Ç–∏ –º–∞—Ç—Ä–∏—Ü—é \( A = \begin{pmatrix} 12 & -1 \\ 0 & 5 \end{pmatrix} \) –Ω–∞ —á–∏—Å–ª–æ \( 3 \).</span></p>
    <p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
    <p>–ö–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç –º–∞—Ç—Ä–∏—Ü—ñ \( A \) –º–Ω–æ–∂–∏–º–æ –Ω–∞ \( 3 \):</p>
    <p class="math-notation-centered">\[
        3A = 3 \cdot \begin{pmatrix} 12 & -1 \\ 0 & 5 \end{pmatrix} = \begin{pmatrix} 3 \cdot 12 & 3 \cdot (-1) \\ 3 \cdot 0 & 3 \cdot 5 \end{pmatrix} = \begin{pmatrix} 36 & -3 \\ 0 & 15 \end{pmatrix}.
    \]</p>
    <p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \( 3A = \begin{pmatrix} 36 & -3 \\ 0 & 15 \end{pmatrix} \).</p>
</details>
           <details>
    <summary>–î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å</summary>
    <p>–î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å ‚Äì —Ü–µ –ø—Ä–æ—Å—Ç—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, —è–∫—ñ –ø–æ–ª—è–≥–∞—é—Ç—å —É –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –∞–±–æ –≤—ñ–¥–Ω—ñ–º–∞–Ω–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –¥–≤–æ—Ö –º–∞—Ç—Ä–∏—Ü—å. –û–¥–Ω–∞–∫, –¥–ª—è —Ç–æ–≥–æ —â–æ–± –≤–∏–∫–æ–Ω–∞—Ç–∏ —Ü—ñ –¥—ñ—ó, –º–∞—Ç—Ä–∏—Ü—ñ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É (–º–∞—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤ —ñ —Å—Ç–æ–≤–ø—Ü—ñ–≤). –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –º–∞—Ç—Ä–∏—Ü—é —Ä–æ–∑–º—ñ—Ä–æ–º \( 3 \times 2 \) –º–æ–∂–Ω–∞ –¥–æ–¥–∞–≤–∞—Ç–∏ —á–∏ –≤—ñ–¥–Ω—ñ–º–∞—Ç–∏ –ª–∏—à–µ –∑ —ñ–Ω—à–æ—é –º–∞—Ç—Ä–∏—Ü–µ—é —Ä–æ–∑–º—ñ—Ä—É \( 3 \times 2 \).</p>
    <p><strong>–î–æ–¥–∞–≤–∞–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å.</strong> –Ø–∫—â–æ –º–∞—Ç—Ä–∏—Ü—ñ \( A \) —ñ \( B \) –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤—ñ —Ä–æ–∑–º—ñ—Ä–∏ \( m \times n \), —Ç–æ —ó—Ö–Ω—è —Å—É–º–∞ \( C = A + B \) —Ç–∞–∫–æ–∂ –±—É–¥–µ –º–∞—Ç—Ä–∏—Ü—è —Ä–æ–∑–º—ñ—Ä—É \( m \times n \), –¥–µ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç \( c_{ij} \) –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è —è–∫ —Å—É–º–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –º–∞—Ç—Ä–∏—Ü—å \( A \) —ñ \( B \):</p>
    <p class="math-notation-centered">\[ c_{ij} = a_{ij} + b_{ij} \]</p>
    <p>–¢–æ–±—Ç–æ –¥–ª—è –º–∞—Ç—Ä–∏—Ü—å</p>
    <p class="math-notation-centered">\[
        A = \begin{pmatrix}
            a_{11} & a_{12} & \cdots & a_{1n} \\
            a_{21} & a_{22} & \cdots & a_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            a_{m1} & a_{m2} & \cdots & a_{mn}
        \end{pmatrix}, \quad
        B = \begin{pmatrix}
            b_{11} & b_{12} & \cdots & b_{1n} \\
            b_{21} & b_{22} & \cdots & b_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            b_{m1} & b_{m2} & \cdots & b_{mn}
        \end{pmatrix},
    \]</p>
    <p>—Å—É–º–∞ –º–∞—Ç—Ä–∏—Ü—å –±—É–¥–µ:</p>
    <p class="math-notation-centered">\[
        C = A + B = \begin{pmatrix}
            a_{11} + b_{11} & a_{12} + b_{12} & \cdots & a_{1n} + b_{1n} \\
            a_{21} + b_{21} & a_{22} + b_{22} & \cdots & a_{2n} + b_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            a_{m1} + b_{m1} & a_{m2} + b_{m2} & \cdots & a_{mn} + b_{mn}
        \end{pmatrix}.
    \]</p>
    <p><strong>–í—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å.</strong> –Ø–∫—â–æ –º–∞—Ç—Ä–∏—Ü—ñ \( A \) —ñ \( B \) –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤—ñ —Ä–æ–∑–º—ñ—Ä–∏ \( m \times n \), —Ç–æ —ó—Ö–Ω—è —Ä—ñ–∑–Ω–∏—Ü—è \( C = A - B \) —Ç–∞–∫–æ–∂ –±—É–¥–µ –º–∞—Ç—Ä–∏—Ü—è —Ä–æ–∑–º—ñ—Ä—É \( m \times n \), –¥–µ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç \( c_{ij} \) –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è —è–∫ —Ä—ñ–∑–Ω–∏—Ü—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –º–∞—Ç—Ä–∏—Ü—å \( A \) —ñ \( B \):</p>
    <p class="math-notation-centered">\[ c_{ij} = a_{ij} - b_{ij} \]</p>
    <p>–¢–æ–±—Ç–æ –¥–ª—è –º–∞—Ç—Ä–∏—Ü—å</p>
    <p class="math-notation-centered">\[
        A = \begin{pmatrix}
            a_{11} & a_{12} & \cdots & a_{1n} \\
            a_{21} & a_{22} & \cdots & a_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            a_{m1} & a_{m2} & \cdots & a_{mn}
        \end{pmatrix}, \quad
        B = \begin{pmatrix}
            b_{11} & b_{12} & \cdots & b_{1n} \\
            b_{21} & b_{22} & \cdots & b_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            b_{m1} & b_{m2} & \cdots & b_{mn}
        \end{pmatrix},
    \]</p>
    <p>—Ä—ñ–∑–Ω–∏—Ü—è –º–∞—Ç—Ä–∏—Ü—å –±—É–¥–µ:</p>
    <p class="math-notation-centered">\[
        C = A - B = \begin{pmatrix}
            a_{11} - b_{11} & a_{12} - b_{12} & \cdots & a_{1n} - b_{1n} \\
            a_{21} - b_{21} & a_{22} - b_{22} & \cdots & a_{2n} - b_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            a_{m1} - b_{m1} & a_{m2} - b_{m2} & \cdots & a_{mn} - b_{mn}
        \end{pmatrix}.
    \]</p>
    <p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 5.5.</span> <span class="example-condition">–î–æ–¥–∞—Ç–∏ –º–∞—Ç—Ä–∏—Ü—ñ \( A = \begin{pmatrix} 12 & -1 \\ -5 & 0 \end{pmatrix} \) —ñ \( B = \begin{pmatrix} -4 & -3 \\ 15 & 7 \end{pmatrix} \).</span></p>
    <p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
    <p>–î–æ–¥–∞—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –º–∞—Ç—Ä–∏—Ü—å \( A \) —ñ \( B \):</p>
    <p class="math-notation-centered">\[
        A + B = \begin{pmatrix} 12 & -1 \\ -5 & 0 \end{pmatrix} + \begin{pmatrix} -4 & -3 \\ 15 & 7 \end{pmatrix} = \begin{pmatrix} 12 + (-4) & -1 + (-3) \\ -5 + 15 & 0 + 7 \end{pmatrix} = \begin{pmatrix} 8 & -4 \\ 10 & 7 \end{pmatrix}.
    \]</p>
    <p>–î–æ–¥–∞–≤–∞–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑–∞ –ø—Ä–∞–≤–∏–ª–æ–º –ø–æ–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–≥–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è. –ì–æ–ª–æ–≤–Ω–µ ‚Äì —â–æ–± –º–∞—Ç—Ä–∏—Ü—ñ –º–∞–ª–∏ –æ–¥–Ω–∞–∫–æ–≤–∏–π —Ä–æ–∑–º—ñ—Ä.</p>
    <p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \( A + B = \begin{pmatrix} 8 & -4 \\ 10 & 7 \end{pmatrix} \).</p>
    <p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 5.6.</span> <span class="example-condition">–ó–Ω–∞–π—Ç–∏ —Ä—ñ–∑–Ω–∏—Ü—é –º–∞—Ç—Ä–∏—Ü—å \( C = \begin{pmatrix} 3 & 5 & -17 \\ -1 & 0 & 10 \end{pmatrix} \) —ñ \( D = \begin{pmatrix} -4 & 3 & -15 \\ -5 & -7 & 0 \end{pmatrix} \).</span></p>
    <p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
    <p><strong>–°–ø–æ—Å—ñ–± 1. –ë–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—î –≤—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è.</strong> –í—ñ–¥–Ω—ñ–º–∞—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –º–∞—Ç—Ä–∏—Ü—å \( C \) —ñ \( D \):</p>
    <p class="math-notation-centered">\[
        C - D = \begin{pmatrix} 3 & 5 & -17 \\ -1 & 0 & 10 \end{pmatrix} - \begin{pmatrix} -4 & 3 & -15 \\ -5 & -7 & 0 \end{pmatrix} = \begin{pmatrix} 3 - (-4) & 5 - 3 & -17 - (-15) \\ -1 - (-5) & 0 - (-7) & 10 - 0 \end{pmatrix} = \begin{pmatrix} 7 & 2 & -2 \\ 4 & 7 & 10 \end{pmatrix}.
    \]</p>
    <p><strong>–°–ø–æ—Å—ñ–± 2. –ß–µ—Ä–µ–∑ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–æ—Ç–∏–ª–µ–∂–Ω–æ—ó –º–∞—Ç—Ä–∏—Ü—ñ.</strong> –©–æ–± —Å–ø—Ä–æ—Å—Ç–∏—Ç–∏, –∑–∞–ø–∏—à–µ–º–æ –ø—Ä–æ—Ç–∏–ª–µ–∂–Ω—É –º–∞—Ç—Ä–∏—Ü—é \( -D \), –∑–∞–º—ñ–Ω–∏–≤—à–∏ –∑–Ω–∞–∫–∏ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –º–∞—Ç—Ä–∏—Ü—ñ \( D \):</p>
    <p class="math-notation-centered">\[
        -D = \begin{pmatrix} 4 & -3 & 15 \\ 5 & 7 & 0 \end{pmatrix}.
    \]</p>
    <p>–¢–æ–¥—ñ:</p>
    <p class="math-notation-centered">\[
        C - D = C + (-D) = \begin{pmatrix} 3 & 5 & -17 \\ -1 & 0 & 10 \end{pmatrix} + \begin{pmatrix} 4 & -3 & 15 \\ 5 & 7 & 0 \end{pmatrix} = \begin{pmatrix} 7 & 2 & -2 \\ 4 & 7 & 10 \end{pmatrix}.
    \]</p>
    <p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \( C - D = \begin{pmatrix} 7 & 2 & -2 \\ 4 & 7 & 10 \end{pmatrix} \).</p>
</details>
           <details>
    <summary>–í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –ª—ñ–Ω—ñ–π–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π –Ω–∞–¥ –º–∞—Ç—Ä–∏—Ü—è–º–∏</summary>
    <p>–î—ñ—ó –¥–æ–¥–∞–≤–∞–Ω–Ω—è, –≤—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è —Ç–∞ –º–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å –Ω–∞ —á–∏—Å–ª–æ (—Å–∫–∞–ª—è—Ä, –ø–æ–∑–Ω–∞—á–µ–Ω–∏–π —è–∫ \( \lambda \) –∞–±–æ \( \mu \)) –Ω–∞–∑–∏–≤–∞—é—Ç—å—Å—è –ª—ñ–Ω—ñ–π–Ω–∏–º–∏ –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏ –Ω–∞–¥ –º–∞—Ç—Ä–∏—Ü—è–º–∏. –¶—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –º–∞—é—Ç—å –ø–µ–≤–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ, —è–∫—ñ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, –∞ —Å–∞–º–µ:</p>
    <ol>
        <li>\( A + B = B + A \).</li>
        <li>\( (A + B) + C = A + (B + C) \).</li>
        <li>\( A + O = A \), –¥–µ \( O \) ‚Äì –Ω—É–ª—å–æ–≤–∞ –º–∞—Ç—Ä–∏—Ü—è.</li>
        <li>\( A + (-A) = O \).</li>
        <li>\( E \cdot A = A \), –¥–µ \( E \) ‚Äì –æ–¥–∏–Ω–∏—á–Ω–∞ –º–∞—Ç—Ä–∏—Ü—è.</li>
        <li>\( \lambda (\mu A) = (\lambda \mu) A \).</li>
        <li>\( \lambda (A + B) = \lambda A + \lambda B \).</li>
        <li>\( (\lambda + \mu) A = \lambda A + \mu A \).</li>
        <li>\( (A^T)^T = A \).</li>
        <li>\( (\lambda A)^T = \lambda A^T \).</li>
        <li>\( (A + B)^T = A^T + B^T \).</li>
    </ol>
    <p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 5.7.</span> <span class="example-condition">–ó–∞–¥–∞–Ω—ñ –º–∞—Ç—Ä–∏—Ü—ñ \( A = \begin{pmatrix} -4 & 6 \\ 2 & 3 \\ 5 & 7 \end{pmatrix} \), \( B = \begin{pmatrix} 2 & -3 \\ 0 & 8 \\ 1 & 4 \end{pmatrix} \). –ó–Ω–∞–π—Ç–∏: \( 2A - \frac{1}{2} B \).</span></p>
    <p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
    <p>–°–ø–æ—á–∞—Ç–∫—É –æ–±—á–∏—Å–ª–∏–º–æ –¥–æ–±—É—Ç–∫–∏ \( 2A \) —ñ \( -\frac{1}{2} B \):</p>
    <p class="math-notation-centered">\[
        2A = \begin{pmatrix} 2 \cdot (-4) & 2 \cdot 6 \\ 2 \cdot 2 & 2 \cdot 3 \\ 2 \cdot 5 & 2 \cdot 7 \end{pmatrix} = \begin{pmatrix} -8 & 12 \\ 4 & 6 \\ 10 & 14 \end{pmatrix},
    \]</p>
    <p class="math-notation-centered">\[
        -\frac{1}{2} B = \begin{pmatrix} -\frac{1}{2} \cdot 2 & -\frac{1}{2} \cdot (-3) \\ -\frac{1}{2} \cdot 0 & -\frac{1}{2} \cdot 8 \\ -\frac{1}{2} \cdot 1 & -\frac{1}{2} \cdot 4 \end{pmatrix} = \begin{pmatrix} -1 & \frac{3}{2} \\ 0 & -4 \\ -\frac{1}{2} & -2 \end{pmatrix}.
    \]</p>
    <p>–î–∞–ª—ñ –∑–Ω–∞—Ö–æ–¥–∏–º–æ —Ä—ñ–∑–Ω–∏—Ü—é –º–∞—Ç—Ä–∏—Ü—å \( 2A - \frac{1}{2} B \), —â–æ —î —Å—É–º–æ—é –º–∞—Ç—Ä–∏—Ü—å \( 2A + \left(-\frac{1}{2} B\right) \):</p>
    <p class="math-notation-centered">\[
        2A - \frac{1}{2} B = 2A + \left(-\frac{1}{2} B\right) = \begin{pmatrix} -8 & 12 \\ 4 & 6 \\ 10 & 14 \end{pmatrix} + \begin{pmatrix} -1 & \frac{3}{2} \\ 0 & -4 \\ -\frac{1}{2} & -2 \end{pmatrix} = \begin{pmatrix} -8 + (-1) & 12 + \frac{3}{2} \\ 4 + 0 & 6 + (-4) \\ 10 + \left(-\frac{1}{2}\right) & 14 + (-2) \end{pmatrix} = \begin{pmatrix} -9 & \frac{27}{2} \\ 4 & 2 \\ \frac{19}{2} & 12 \end{pmatrix}.
    \]</p>
    <p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \( 2A - \frac{1}{2} B = \begin{pmatrix} -9 & \frac{27}{2} \\ 4 & 2 \\ \frac{19}{2} & 12 \end{pmatrix} \).</p>
</details>
            <details>
    <summary>–ú–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å</summary>
    <p>–ú–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å ‚Äì —Ü–µ –∫–ª—é—á–æ–≤–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è, —è–∫–∞ –≤–∏–º–∞–≥–∞—î –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–µ–≤–Ω–∏—Ö —É–º–æ–≤ —â–æ–¥–æ —Ä–æ–∑–º—ñ—Ä–Ω–æ—Å—Ç—ñ –º–∞—Ç—Ä–∏—Ü—å. –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –¥–æ–¥–∞–≤–∞–Ω–Ω—è, –≤—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–Ω–æ–∂–µ–Ω–Ω—è –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –ø–æ—Ä—è–¥–∫—É –º–∞—Ç—Ä–∏—Ü—å.</p>
    <p><strong>–£–º–æ–≤–∏ –º–Ω–æ–∂–µ–Ω–Ω—è.</strong> –©–æ–± –ø–æ–º–Ω–æ–∂–∏—Ç–∏ –¥–≤—ñ –º–∞—Ç—Ä–∏—Ü—ñ, –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ–≤–ø—Ü—ñ–≤ –ø–µ—Ä—à–æ—ó –º–∞—Ç—Ä–∏—Ü—ñ –º–∞—î –¥–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ä—è–¥–∫—ñ–≤ –¥—Ä—É–≥–æ—ó ‚Äì –ª–∏—à–µ —Ç–æ–¥—ñ –¥–æ–±—É—Ç–æ–∫ –±—É–¥–µ –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π.</p>
    <p>–î–ª—è –º–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å \( A \) (—Ä–æ–∑–º—ñ—Ä—É \( m \times k \)) —ñ \( B \) (—Ä–æ–∑–º—ñ—Ä—É \( k \times n \)):</p>
    <p>–∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ–≤–ø—Ü—ñ–≤ –ø–µ—Ä—à–æ—ó –º–∞—Ç—Ä–∏—Ü—ñ (\( k \)) –º–∞—î –¥–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ä—è–¥–∫—ñ–≤ –¥—Ä—É–≥–æ—ó –º–∞—Ç—Ä–∏—Ü—ñ (\( k \)). –†–µ–∑—É–ª—å—Ç–∞—Ç \( C = A \cdot B \) –±—É–¥–µ –º–∞—Ç—Ä–∏—Ü–µ—é —Ä–æ–∑–º—ñ—Ä—É \( m \times n \). –¢–æ–±—Ç–æ</p>
    <p class="math-notation-centered">\[ A_{m \times k} \cdot B_{k \times n} = C_{m \times n}. \]</p>
    <p>–ù–∞–ø—Ä–∏–∫–ª–∞–¥, —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ –º–∞—Ç—Ä–∏—Ü—ñ \( A = \begin{pmatrix} -2 & 1 \\ 5 & 4 \end{pmatrix} \) (—Ä–æ–∑–º—ñ—Ä \( 2 \times 2 \)) —ñ \( B = \begin{pmatrix} 3 \\ -1 \end{pmatrix} \) (—Ä–æ–∑–º—ñ—Ä \( 2 \times 1 \)):</p>
    <p>–ß–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ–Ω–∞—Ç–∏ –º–Ω–æ–∂–µ–Ω–Ω—è \( A \cdot B \)? –¢–∞–∫, –∞–¥–∂–µ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ–≤–ø—Ü—ñ–≤ –º–∞—Ç—Ä–∏—Ü—ñ \( A \) (2 —Å—Ç–æ–≤–ø—Ü—ñ) –¥–æ—Ä—ñ–≤–Ω—é—î –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ä—è–¥–∫—ñ–≤ –º–∞—Ç—Ä–∏—Ü—ñ \( B \) (2 —Ä—è–¥–∫–∏). –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –º–Ω–æ–∂–µ–Ω–Ω—è \( A \cdot B \) –±—É–¥–µ –Ω–æ–≤–∞ –º–∞—Ç—Ä–∏—Ü—è —Ä–æ–∑–º—ñ—Ä—É \( 2 \times 1 \).</p>
    <p>–ê —è–∫—â–æ –ø–æ–º—ñ–Ω—è—Ç–∏ –º–∞—Ç—Ä–∏—Ü—ñ –º—ñ—Å—Ü—è–º–∏, —Ç–æ–±—Ç–æ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –ø–æ–º–Ω–æ–∂–∏—Ç–∏ \( B \cdot A \), —á–∏ –±—É–¥–µ —Ç–∞–∫–µ –º–Ω–æ–∂–µ–Ω–Ω—è –º–æ–∂–ª–∏–≤–∏–º? –ù—ñ, –∞–¥–∂–µ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ–≤–ø—Ü—ñ–≤ –º–∞—Ç—Ä–∏—Ü—ñ \( B \) (1 —Å—Ç–æ–≤–ø–µ—Ü—å) –Ω–µ –∑–±—ñ–≥–∞—î—Ç—å—Å—è –∑ –∫—ñ–ª—å–∫—ñ—Å—Ç—é —Ä—è–¥–∫—ñ–≤ –º–∞—Ç—Ä–∏—Ü—ñ \( A \) (2 —Ä—è–¥–∫–∏). –û—Ç–∂–µ, –¥–æ–±—É—Ç–æ–∫ \( B \cdot A \) –Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π.</p>
    <p><strong>–ú–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—ñ-—Ä—è–¥–∫–∞ –Ω–∞ –º–∞—Ç—Ä–∏—Ü—é-—Å—Ç–æ–≤–ø–µ—Ü—å.</strong> –†–æ–∑–≥–ª—è–Ω–µ–º–æ –æ–ø–µ—Ä–∞—Ü—ñ—é –º–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—ñ-—Ä—è–¥–∫–∞ \( A \) –Ω–∞ –º–∞—Ç—Ä–∏—Ü—é-—Å—Ç–æ–≤–ø–µ—Ü—å \( B \). –ü—Ä–∏–ø—É—Å—Ç–∏–º–æ, —â–æ –º–∞—Ç—Ä–∏—Ü—è \( A \) —î —Ä—è–¥–∫–æ–º —Ä–æ–∑–º—ñ—Ä–Ω–æ—Å—Ç—ñ \( 1 \times n \):</p>
    <p class="math-notation-centered">\[
        A = \begin{pmatrix} a_{11} & a_{12} & \cdots & a_{1n} \end{pmatrix},
    \]</p>
    <p>–∞ –º–∞—Ç—Ä–∏—Ü—è \( B \) —î —Å—Ç–æ–≤–ø—Ü–µ–º —Ä–æ–∑–º—ñ—Ä–Ω–æ—Å—Ç—ñ \( n \times 1 \):</p>
    <p class="math-notation-centered">\[
        B = \begin{pmatrix} b_{11} \\ b_{21} \\ \vdots \\ b_{n1} \end{pmatrix}.
    \]</p>
    <p>–î–æ–±—É—Ç–æ–∫ \( A \cdot B \) —î –º–∞—Ç—Ä–∏—Ü–µ—é —Ä–æ–∑–º—ñ—Ä–Ω–æ—Å—Ç—ñ \( 1 \times 1 \), —Ç–æ–±—Ç–æ —Å–∫–∞–ª—è—Ä–Ω–∏–º –∑–Ω–∞—á–µ–Ω–Ω—è–º (—á–∏—Å–ª–æ–º). –¶–µ–π –¥–æ–±—É—Ç–æ–∫ –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è –∑–∞ —Ñ–æ—Ä–º—É–ª–æ—é:</p>
    <p class="math-notation-centered">\[
        A \cdot B = \begin{pmatrix} a_{11} & a_{12} & \cdots & a_{1n} \end{pmatrix} \cdot \begin{pmatrix} b_{11} \\ b_{21} \\ \vdots \\ b_{n1} \end{pmatrix} = a_{11} b_{11} + a_{12} b_{21} + \cdots + a_{1n} b_{n1}.
    \]</p>
    <p>–¶—è —Ñ–æ—Ä–º—É–ª–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Å–∫–∞–ª—è—Ä–Ω–æ–º—É –¥–æ–±—É—Ç—É –≤–µ–∫—Ç–æ—Ä—ñ–≤, —è–∫—ñ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ñ –º–∞—Ç—Ä–∏—Ü–µ—é-—Ä—è–¥–∫–æ–º \( A \) —Ç–∞ –º–∞—Ç—Ä–∏—Ü–µ—é-—Å—Ç–æ–≤–ø—Ü–µ–º \( B \) —É \( n \)-–≤–∏–º—ñ—Ä–Ω–æ–º—É –ø—Ä–æ—Å—Ç–æ—Ä—ñ.</p>
    <p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 5.8.</span> <span class="example-condition">–ó–∞–¥–∞–Ω–æ –º–∞—Ç—Ä–∏—Ü—ñ \( A = \begin{pmatrix} -1 & 3 & 2 \end{pmatrix} \) —Ç–∞ \( B = \begin{pmatrix} 4 \\ -5 \\ 1 \end{pmatrix} \). –ù–µ–æ–±—Ö—ñ–¥–Ω–æ –∑–Ω–∞–π—Ç–∏ \( A \cdot B \).</span></p>
    <p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
    <p>–û—Å–∫—ñ–ª—å–∫–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ–≤–ø—Ü—ñ–≤ —É –º–∞—Ç—Ä–∏—Ü—ñ \( A \) (3) –¥–æ—Ä—ñ–≤–Ω—é—î –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ä—è–¥–∫—ñ–≤ —É \( B \) (3), –º–Ω–æ–∂–µ–Ω–Ω—è –º–æ–∂–ª–∏–≤–µ, —ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ –º–∞—Ç—Ä–∏—Ü–µ—é —Ä–æ–∑–º—ñ—Ä–æ–º \( 1 \times 1 \), —Ç–æ–±—Ç–æ —á–∏—Å–ª–æ–º.</p>
    <p class="math-notation-centered">\[
        A \cdot B = \begin{pmatrix} -1 & 3 & 2 \end{pmatrix} \cdot \begin{pmatrix} 4 \\ -5 \\ 1 \end{pmatrix} = (-1) \cdot 4 + 3 \cdot (-5) + 2 \cdot 1 = -4 - 15 + 2 = -17.
    \]</p>
    <p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \( A \cdot B = -17 \).</p>
    <p><strong>–ú–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—ñ –Ω–∞ –º–∞—Ç—Ä–∏—Ü—é-—Å—Ç–æ–≤–ø–µ—Ü—å.</strong> –ú–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—ñ –Ω–∞ –º–∞—Ç—Ä–∏—Ü—é-—Å—Ç–æ–≤–ø–µ—Ü—å –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∑–∞ –ø—Ä–∞–≤–∏–ª–æ–º ¬´—Ä—è–¥–æ–∫ –Ω–∞ —Å—Ç–æ–≤–ø–µ—Ü—å¬ª. –ù–µ—Ö–∞–π –¥–∞–Ω–∞ –º–∞—Ç—Ä–∏—Ü—è \( A \) —Ä–æ–∑–º—ñ—Ä–Ω–æ—Å—Ç—ñ \( m \times n \) —ñ –º–∞—Ç—Ä–∏—Ü—è-—Å—Ç–æ–≤–ø–µ—Ü—å \( B \) —Ä–æ–∑–º—ñ—Ä–Ω–æ—Å—Ç—ñ \( n \times 1 \). –ù–∞–ø—Ä–∏–∫–ª–∞–¥:</p>
    <p class="math-notation-centered">\[
        A = \begin{pmatrix}
            a_{11} & a_{12} & \cdots & a_{1n} \\
            a_{21} & a_{22} & \cdots & a_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            a_{m1} & a_{m2} & \cdots & a_{mn}
        \end{pmatrix}, \quad
        B = \begin{pmatrix} b_{11} \\ b_{21} \\ \vdots \\ b_{n1} \end{pmatrix}.
    \]</p>
    <p>–î–æ–±—É—Ç–æ–∫ \( A \cdot B \) —î –º–∞—Ç—Ä–∏—Ü–µ—é —Ä–æ–∑–º—ñ—Ä–Ω–æ—Å—Ç—ñ \( m \times 1 \) (—Å—Ç–æ–≤–ø—Ü–µ–º —ñ–∑ \( m \) –µ–ª–µ–º–µ–Ω—Ç—ñ–≤). –ö–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è —è–∫ —Å—É–º–∞ –¥–æ–±—É—Ç–∫—ñ–≤ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ \( i \)-–≥–æ —Ä—è–¥–∫–∞ –º–∞—Ç—Ä–∏—Ü—ñ \( A \) –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ —Å—Ç–æ–≤–ø—Ü—è \( B \):</p>
    <p class="math-notation-centered">\[
        A \cdot B = \begin{pmatrix}
            a_{11} & a_{12} & \cdots & a_{1n} \\
            a_{21} & a_{22} & \cdots & a_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            a_{m1} & a_{m2} & \cdots & a_{mn}
        \end{pmatrix} \cdot \begin{pmatrix} b_{11} \\ b_{21} \\ \vdots \\ b_{n1} \end{pmatrix} = \begin{pmatrix}
            a_{11} b_{11} + a_{12} b_{21} + \cdots + a_{1n} b_{n1} \\
            a_{21} b_{11} + a_{22} b_{21} + \cdots + a_{2n} b_{n1} \\
            \vdots \\
            a_{m1} b_{11} + a_{m2} b_{21} + \cdots + a_{mn} b_{n1}
        \end{pmatrix}.
    \]</p>
    <p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 5.9.</span> <span class="example-condition">–ü–æ–º–Ω–æ–∂–∏—Ç–∏ –º–∞—Ç—Ä–∏—Ü—é \( A = \begin{pmatrix} -2 & 1 \\ 5 & 4 \end{pmatrix} \) –Ω–∞ –º–∞—Ç—Ä–∏—Ü—é \( B = \begin{pmatrix} 3 \\ -1 \end{pmatrix} \).</span></p>
    <p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
    <p>–ó–≥—ñ–¥–Ω–æ –∑ –ø—Ä–∞–≤–∏–ª–æ–º –º–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—ñ –Ω–∞ –º–∞—Ç—Ä–∏—Ü—é-—Å—Ç–æ–≤–ø–µ—Ü—å, –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É ‚Äì —Ü–µ —Å—É–º–∞ –¥–æ–±—É—Ç–∫—ñ–≤ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —Ä—è–¥–∫–∞ –º–∞—Ç—Ä–∏—Ü—ñ \( A \) –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ —Å—Ç–æ–≤–ø—Ü—è \( B \):</p>
    <p class="math-notation-centered">\[
        A \cdot B = \begin{pmatrix} -2 & 1 \\ 5 & 4 \end{pmatrix} \cdot \begin{pmatrix} 3 \\ -1 \end{pmatrix} = \begin{pmatrix} (-2) \cdot 3 + 1 \cdot (-1) \\ 5 \cdot 3 + 4 \cdot (-1) \end{pmatrix} = \begin{pmatrix} -7 \\ 11 \end{pmatrix}.
    \]</p>
    <p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \( A \cdot B = \begin{pmatrix} -7 \\ 11 \end{pmatrix} \).</p>
    <p><strong>–ú–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—ñ –Ω–∞ –º–∞—Ç—Ä–∏—Ü—é.</strong> –î–æ–±—É—Ç–∫–æ–º –º–∞—Ç—Ä–∏—Ü—ñ \( A_{m \times k} \) –Ω–∞ –º–∞—Ç—Ä–∏—Ü—é \( B_{k \times n} \) –Ω–∞–∑–∏–≤–∞—é—Ç—å –º–∞—Ç—Ä–∏—Ü—é \( C_{m \times n} \), –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç \( c_{ij} \) —è–∫–æ—ó –¥–æ—Ä—ñ–≤–Ω—é—î —Å—É–º—ñ –¥–æ–±—É—Ç–∫—ñ–≤ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ \( i \)-–≥–æ —Ä—è–¥–∫–∞ –º–∞—Ç—Ä–∏—Ü—ñ \( A \) –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ \( j \)-–≥–æ —Å—Ç–æ–≤–ø—Ü—è –º–∞—Ç—Ä–∏—Ü—ñ \( B \). –¶–µ –∑–∞–ø–∏—Å—É—î—Ç—å—Å—è —Ç–∞–∫:</p>
    <p class="math-notation-centered">\[
        c_{ij} = a_{i1} b_{1j} + a_{i2} b_{2j} + \dots + a_{ik} b_{kj},
    \]</p>
    <p>–¥–µ \( i = 1, 2, \dots, m \), \( j = 1, 2, \dots, n \).</p>
    <p>–ü—Ä–æ—Ü–µ—Å –º–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å \( A_{m \times k} \cdot B_{k \times n} = C_{m \times n} \) –º–æ–∂–Ω–∞ –Ω–∞–æ—á–Ω–æ –ø—Ä–æ—ñ–ª—é—Å—Ç—Ä—É–≤–∞—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Å—Ö–µ–º–∏ (—Ä–∏—Å. 5.1), –Ω–∞ —è–∫—ñ–π —Å—Ç—Ä—ñ–ª–∫–∏ –ø–æ–∫–∞–∑—É—é—Ç—å, —è–∫ \( i \)-–π —Ä—è–¥–æ–∫ –º–∞—Ç—Ä–∏—Ü—ñ \( A \) –ø–µ—Ä–µ–º–Ω–æ–∂—É—î—Ç—å—Å—è –∑ \( j \)-–∏–º —Å—Ç–æ–≤–ø—Ü–µ–º –º–∞—Ç—Ä–∏—Ü—ñ \( B \), —É—Ç–≤–æ—Ä—é—é—á–∏ –µ–ª–µ–º–µ–Ω—Ç \( c_{ij} \) –º–∞—Ç—Ä–∏—Ü—ñ \( C \).</p>
    <p style="text-align: center;"><img src="static/figure5.1.jpg" alt="–°—Ö–µ–º–∞ –º–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å" class="figure figure-5-1"></p>
    <p><strong>–í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –º–Ω–æ–∂–µ–Ω–Ω—è.</strong> –ú–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å, —è–∫ –ø—Ä–∞–≤–∏–ª–æ, –Ω–µ —î –∫–æ–º—É—Ç–∞—Ç–∏–≤–Ω–∏–º, —Ç–æ–±—Ç–æ \( A \cdot B \neq B \cdot A \). –î–ª—è –∫–≤–∞–¥—Ä–∞—Ç–Ω–∏—Ö –º–∞—Ç—Ä–∏—Ü—å —Ä–æ–∑–º—ñ—Ä–Ω–æ—Å—Ç—ñ \( n \times n \) –æ–±–∏–¥–≤–∞ –¥–æ–±—É—Ç–∫–∏ \( A \cdot B \) —ñ \( B \cdot A \) –∑–∞–≤–∂–¥–∏ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ, –ø—Ä–æ—Ç–µ –∑–∞–∑–≤–∏—á–∞–π –¥–∞—é—Ç—å —Ä—ñ–∑–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏. –î–ª—è –Ω–µ–∫–≤–∞–¥—Ä–∞—Ç–Ω–∏—Ö –º–∞—Ç—Ä–∏—Ü—å –¥–æ–±—É—Ç–æ–∫ \( B \cdot A \) –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–≤–∏–∑–Ω–∞—á–µ–Ω–∏–º, —è–∫—â–æ —ó—Ö–Ω—ñ —Ä–æ–∑–º—ñ—Ä–Ω–æ—Å—Ç—ñ –Ω–µ –¥–æ–∑–≤–æ–ª—è—é—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ—é –º–Ω–æ–∂–µ–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–∏ \( n \neq m \)). –Ø–∫—â–æ –∂ –¥–ª—è –¥–µ—è–∫–∏—Ö –º–∞—Ç—Ä–∏—Ü—å \( A \) —ñ \( B \) –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —Ä—ñ–≤–Ω—ñ—Å—Ç—å \( A \cdot B = B \cdot A \), —Ç–∞–∫—ñ –º–∞—Ç—Ä–∏—Ü—ñ –Ω–∞–∑–∏–≤–∞—é—Ç—å –ø–µ—Ä–µ—Å—Ç–∞–≤–Ω–∏–º–∏. –í–∞—Ä—Ç–æ –∑–∞–∑–Ω–∞—á–∏—Ç–∏, —â–æ —Ü–µ–π –≤–∏–ø–∞–¥–æ–∫ —î —Ä—ñ–¥–∫—ñ—Å–Ω–∏–º —ñ –Ω–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–∏–º –¥–ª—è –∑–∞–≥–∞–ª—å–Ω–æ—ó —Å–∏—Ç—É–∞—Ü—ñ—ó.</p>
    <p><span class="example-title">–ü—Ä–∏–∫–ª–∞–¥ 5.10.</span> <span class="example-condition">–ü–æ–º–Ω–æ–∂–∏—Ç–∏ –º–∞—Ç—Ä–∏—Ü—é \( A = \begin{pmatrix} 5 & 8 & -4 \\ 6 & 9 & -5 \\ 4 & 7 & -3 \end{pmatrix} \) –Ω–∞ –º–∞—Ç—Ä–∏—Ü—é \( B = \begin{pmatrix} 3 & 2 & 5 \\ 4 & -1 & 3 \\ 9 & 6 & 5 \end{pmatrix} \).</span></p>
    <p class="solution" style="text-align: center;"><strong>–†–æ–∑–≤‚Äô—è–∑–∞–Ω–Ω—è</strong></p>
    <p>–ú–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å \( A \) —Ç–∞ \( B \) –º–æ–∂–ª–∏–≤–µ, –æ—Å–∫—ñ–ª—å–∫–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ–≤–ø—Ü—ñ–≤ –º–∞—Ç—Ä–∏—Ü—ñ \( A \) (3) –¥–æ—Ä—ñ–≤–Ω—é—î –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ä—è–¥–∫—ñ–≤ –º–∞—Ç—Ä–∏—Ü—ñ \( B \) (3). –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –±—É–¥–µ –º–∞—Ç—Ä–∏—Ü—è —Ä–æ–∑–º—ñ—Ä–Ω–æ—Å—Ç—ñ \( 3 \times 3 \).</p>
    <p>–ó–∞ –ø—Ä–∞–≤–∏–ª–æ–º –º–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å, –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç —Ä–µ–∑—É–ª—å—Ç—É—é—á–æ—ó –º–∞—Ç—Ä–∏—Ü—ñ \( C = A \cdot B \) –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è —è–∫ —Å—É–º–∞ –¥–æ–±—É—Ç–∫—ñ–≤ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ \( i \)-–≥–æ —Ä—è–¥–∫–∞ –º–∞—Ç—Ä–∏—Ü—ñ \( A \) –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ \( j \)-–≥–æ —Å—Ç–æ–≤–ø—Ü—è –º–∞—Ç—Ä–∏—Ü—ñ \( B \). –†–æ–∑–ø–∏—à–µ–º–æ –ø–æ–∫—Ä–æ–∫–æ–≤–æ:</p>
    <p class="math-notation-centered">\[
        A \cdot B = \begin{pmatrix} 5 & 8 & -4 \\ 6 & 9 & -5 \\ 4 & 7 & -3 \end{pmatrix} \cdot \begin{pmatrix} 3 & 2 & 5 \\ 4 & -1 & 3 \\ 9 & 6 & 5 \end{pmatrix}.
    \]</p>
    <p>–û–±—á–∏—Å–ª—é—î–º–æ –µ–ª–µ–º–µ–Ω—Ç–∏ \( c_{ij} \) –º–∞—Ç—Ä–∏—Ü—ñ \( C \). <strong>–ü–µ—Ä—à–∏–π —Ä—è–¥–æ–∫:</strong></p>
    <p class="math-notation-centered">\[
        c_{11} = 5 \cdot 3 + 8 \cdot 4 + (-4) \cdot 9 = 15 + 32 - 36 = 11,
    \]</p>
    <p class="math-notation-centered">\[
        c_{12} = 5 \cdot 2 + 8 \cdot (-1) + (-4) \cdot 6 = 10 - 8 - 24 = -22,
    \]</p>
    <p class="math-notation-centered">\[
        c_{13} = 5 \cdot 5 + 8 \cdot 3 + (-4) \cdot 5 = 25 + 24 - 20 = 29.
    \]</p>
    <p><strong>–î—Ä—É–≥–∏–π —Ä—è–¥–æ–∫:</strong></p>
    <p class="math-notation-centered">\[
        c_{21} = 6 \cdot 3 + 9 \cdot 4 + (-5) \cdot 9 = 18 + 36 - 45 = 9,
    \]</p>
    <p class="math-notation-centered">\[
        c_{22} = 6 \cdot 2 + 9 \cdot (-1) + (-5) \cdot 6 = 12 - 9 - 30 = -27,
    \]</p>
    <p class="math-notation-centered">\[
        c_{23} = 6 \cdot 5 + 9 \cdot 3 + (-5) \cdot 5 = 30 + 27 - 25 = 32.
    \]</p>
    <p><strong>–¢—Ä–µ—Ç—ñ–π —Ä—è–¥–æ–∫:</strong></p>
    <p class="math-notation-centered">\[
        c_{31} = 4 \cdot 3 + 7 \cdot 4 + (-3) \cdot 9 = 12 + 28 - 27 = 13,
    \]</p>
    <p class="math-notation-centered">\[
        c_{32} = 4 \cdot 2 + 7 \cdot (-1) + (-3) \cdot 6 = 8 - 7 - 18 = -17,
    \]</p>
    <p class="math-notation-centered">\[
        c_{33} = 4 \cdot 5 + 7 \cdot 3 + (-3) \cdot 5 = 20 + 21 - 15 = 26.
    \]</p>
    <p>–û—Ç–∂–µ, —Ä–µ–∑—É–ª—å—Ç—É—é—á–∞ –º–∞—Ç—Ä–∏—Ü—è –º–∞—î –≤–∏–≥–ª—è–¥:</p>
    <p class="math-notation-centered">\[
        C = A \cdot B = \begin{pmatrix} 11 & -22 & 29 \\ 9 & -27 & 32 \\ 13 & -17 & 26 \end{pmatrix}.
    \]</p>
    <p><strong>–í—ñ–¥–ø–æ–≤—ñ–¥—å.</strong> \( A \cdot B = \begin{pmatrix} 11 & -22 & 29 \\ 9 & -27 & 32 \\ 13 & -17 & 26 \end{pmatrix} \).</p>
    <p style="text-align: center;"><strong>–í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ –º–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å.</strong></p>

    <ol>
        <li>\( (A \cdot B) \cdot C = A \cdot (B \cdot C) \).</li>
        <li>\( (\lambda A) \cdot B = A \cdot (\lambda B) \), –¥–µ \( \lambda \) ‚Äì —Å–∫–∞–ª—è—Ä (—á–∏—Å–ª–æ).</li>
        <li>\( (A + B) \cdot C = A \cdot C + B \cdot C \).</li>
        <li>\( C \cdot (A + B) = C \cdot A + C \cdot B \).</li>
        <li>\( A^k = A \cdot A \cdot \dots \cdot A \), –¥–µ \( A \) ‚Äì –∫–≤–∞–¥—Ä–∞—Ç–Ω–∞ –º–∞—Ç—Ä–∏—Ü—è —ñ \( k \in \mathbb{N} \).</li>
        <li>\( (A \cdot B)^T = B^T \cdot A^T \).</li>
        <li>\( A \cdot E = E \cdot A = A \), –¥–µ \( A \) ‚Äì –∫–≤–∞–¥—Ä–∞—Ç–Ω–∞ –º–∞—Ç—Ä–∏—Ü—è, \( E \) ‚Äì –æ–¥–∏–Ω–∏—á–Ω–∞ –º–∞—Ç—Ä–∏—Ü—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É.</li>
    </ol>
</details>
        </div>
    </div>

    <div id="videoModal" class="modal">
    <div class="modal-header">
        <button class="close-btn" id="closeVideoBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
    <div class="modal-content">
        <h2 class="glow-title">–û–±–µ—Ä—ñ—Ç—å –≤—ñ–¥–µ–æ</h2>
        <div class="video-card-container">
            <div class="video-card" data-video="1">
                <img src="https://img.icons8.com/?size=100&id=o1CR3NjO7Pv8&format=png&color=000000" alt="–í—ñ–¥–µ–æ–∫–∞–º–µ—Ä–∞">
                <h3>–¢—Ä–∞–Ω—Å–ø–æ–Ω—É–≤–∞–Ω–Ω—è –ø—Ä—è–º–æ–∫—É—Ç–Ω–æ—ó –º–∞—Ç—Ä–∏—Ü—ñ</h3>
            </div>
            <div class="video-card" data-video="2">
                <img src="https://img.icons8.com/?size=100&id=o1CR3NjO7Pv8&format=png&color=000000" alt="–í—ñ–¥–µ–æ–∫–∞–º–µ—Ä–∞">
                <h3>–ú–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—ñ –Ω–∞ —á–∏—Å–ª–æ (—Å–∫–∞–ª—è—Ä)</h3>
            </div>
            <div class="video-card" data-video="3">
                <img src="https://img.icons8.com/?size=100&id=o1CR3NjO7Pv8&format=png&color=000000" alt="–í—ñ–¥–µ–æ–∫–∞–º–µ—Ä–∞">
                <h3>–î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å</h3>
            </div>
            <div class="video-card" data-video="4">
                <img src="https://img.icons8.com/?size=100&id=o1CR3NjO7Pv8&format=png&color=000000" alt="–í—ñ–¥–µ–æ–∫–∞–º–µ—Ä–∞">
                <h3>–ú–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—ñ –Ω–∞ –º–∞—Ç—Ä–∏—Ü—é</h3>
            </div>
            <div class="video-card" data-video="5">
                <img src="https://img.icons8.com/?size=100&id=o1CR3NjO7Pv8&format=png&color=000000" alt="–í—ñ–¥–µ–æ–∫–∞–º–µ—Ä–∞">
                <h3>–ú–Ω–æ–∂–µ–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å</h3>
            </div>
        </div>
    </div>
</div>

<div id="videoPlayerModal1" class="modal">
    <div class="modal-header">
        <button class="close-btn" id="closeVideoPlayerBtn1">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
    <div class="modal-content">
        <div class="video-player-container">
            <iframe id="youtubePlayer1" width="100%" src="https://www.youtube.com/embed/W-FcaquDpjo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>
</div>

<div id="videoPlayerModal2" class="modal">
    <div class="modal-header">
        <button class="close-btn" id="closeVideoPlayerBtn2">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
    <div class="modal-content">
        <div class="video-player-container">
            <iframe id="youtubePlayer2" width="100%" src="https://www.youtube.com/embed/syJdUa-QYVc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>
</div>

<div id="videoPlayerModal3" class="modal">
    <div class="modal-header">
        <button class="close-btn" id="closeVideoPlayerBtn3">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
    <div class="modal-content">
        <div class="video-player-container">
            <iframe id="youtubePlayer3" width="100%" src="https://www.youtube.com/embed/llxi11Yuucw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>
</div>

<div id="videoPlayerModal4" class="modal">
    <div class="modal-header">
        <button class="close-btn" id="closeVideoPlayerBtn4">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
    <div class="modal-content">
        <div class="video-player-container">
            <iframe id="youtubePlayer4" width="100%" src="https://www.youtube.com/embed/GyJfT9uWgZ8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>
</div>

<div id="videoPlayerModal5" class="modal">
    <div class="modal-header">
        <button class="close-btn" id="closeVideoPlayerBtn5">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
    <div class="modal-content">
        <div class="video-player-container">
            <iframe id="youtubePlayer5" width="100%" src="https://www.youtube.com/embed/36nNdwS-TxY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </div>
</div>

    <div id="questionsModal" class="modal">
    <div class="modal-header">
        <button class="close-btn" id="closeQuestionsBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
    <div class="modal-content">
        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    1. –©–æ —Ç–∞–∫–µ —Ç—Ä–∞–Ω—Å–ø–æ–Ω—É–≤–∞–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—ñ?
                </div>
                <div class="card-back">
                    <p>–¢—Ä–∞–Ω—Å–ø–æ–Ω—É–≤–∞–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—ñ ‚Äì —Ü–µ –æ–ø–µ—Ä–∞—Ü—ñ—è, –ø—Ä–∏ —è–∫—ñ–π —Ä—è–¥–∫–∏ –º–∞—Ç—Ä–∏—Ü—ñ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –Ω–∞ —Å—Ç–æ–≤–ø—Ü—ñ, –∞ —Å—Ç–æ–≤–ø—Ü—ñ ‚Äì –Ω–∞ —Ä—è–¥–∫–∏. –¢—Ä–∞–Ω—Å–ø–æ–Ω–æ–≤–∞–Ω–∞ –º–∞—Ç—Ä–∏—Ü—è –ø–æ–∑–Ω–∞—á–∞—î—Ç—å—Å—è \( A^T \). –Ø–∫—â–æ –º–∞—Ç—Ä–∏—Ü—è \( A \) –º–∞—î —Ä–æ–∑–º—ñ—Ä \( m \times n \), —Ç–æ –ø—ñ—Å–ª—è —Ç—Ä–∞–Ω—Å–ø–æ–Ω—É–≤–∞–Ω–Ω—è –≤–æ–Ω–∞ –º–∞—Ç–∏–º–µ —Ä–æ–∑–º—ñ—Ä \( n \times m \).</p>
                </div>
            </div>
        </div>
        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    2. –Ø–∫ –ø–æ–º–Ω–æ–∂–∏—Ç–∏ –º–∞—Ç—Ä–∏—Ü—é –Ω–∞ —á–∏—Å–ª–æ?
                </div>
                <div class="card-back">
                    <p>–©–æ–± –ø–æ–º–Ω–æ–∂–∏—Ç–∏ –º–∞—Ç—Ä–∏—Ü—é –Ω–∞ —á–∏—Å–ª–æ, –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–æ–∂–µ–Ω —ó—ó –µ–ª–µ–º–µ–Ω—Ç –ø–æ–º–Ω–æ–∂–∏—Ç–∏ –Ω–∞ —Ü–µ —á–∏—Å–ª–æ. –Ø–∫—â–æ \( \lambda \in \mathbb{R} \) —ñ –º–∞—Ç—Ä–∏—Ü—è \( A = (a_{ij}) \), —Ç–æ –¥–æ–±—É—Ç–æ–∫ \( \lambda A = (\lambda a_{ij}) \).</p>
                </div>
            </div>
        </div>
        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    3. –Ø–∫—ñ —É–º–æ–≤–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å?
                </div>
                <div class="card-back">
                    <p>–ú–∞—Ç—Ä–∏—Ü—ñ –ø–æ–≤–∏–Ω–Ω—ñ –º–∞—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤–∏–π —Ä–æ–∑–º—ñ—Ä, —Ç–æ–±—Ç–æ –æ–¥–Ω–∞–∫–æ–≤—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤ —ñ —Å—Ç–æ–≤–ø—Ü—ñ–≤.</p>
                </div>
            </div>
        </div>
        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    4. –Ø–∫ –∑–Ω–∞–π—Ç–∏ —Å—É–º—É —Ç–∞ —Ä—ñ–∑–Ω–∏—Ü—é –¥–≤–æ—Ö –º–∞—Ç—Ä–∏—Ü—å?
                </div>
                <div class="card-back">
                    <p>–î–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–∞ –≤—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è –º–∞—Ç—Ä–∏—Ü—å –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø–æ–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ: –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –¥–æ—Ä—ñ–≤–Ω—é—î —Å—É–º—ñ –∞–±–æ —Ä—ñ–∑–Ω–∏—Ü—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –¥–≤–æ—Ö –º–∞—Ç—Ä–∏—Ü—å. –£–º–æ–≤–∞: –º–∞—Ç—Ä–∏—Ü—ñ –ø–æ–≤–∏–Ω–Ω—ñ –º–∞—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤–∏–π —Ä–æ–∑–º—ñ—Ä.</p>
                    <p>–§–æ—Ä–º—É–ª–∏:</p>
                    <p class="math-notation-centered">\[
                        (A + B)_{ij} = a_{ij} + b_{ij}, \quad (A - B)_{ij} = a_{ij} - b_{ij}.
                    \]</p>
                </div>
            </div>
        </div>
        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    5. –Ø–∫–∞ —É–º–æ–≤–∞ –º–Ω–æ–∂–µ–Ω–Ω—è –¥–≤–æ—Ö –º–∞—Ç—Ä–∏—Ü—å?
                </div>
                <div class="card-back">
                    <p>–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ–≤–ø—Ü—ñ–≤ –ø–µ—Ä—à–æ—ó –º–∞—Ç—Ä–∏—Ü—ñ –º–∞—î –¥–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ä—è–¥–∫—ñ–≤ –¥—Ä—É–≥–æ—ó –º–∞—Ç—Ä–∏—Ü—ñ.</p>
                </div>
            </div>
        </div>
        <div class="question-card">
            <div class="card-inner">
                <div class="card-front">
                    6. –©–æ —Ç–∞–∫–µ –¥–æ–±—É—Ç–æ–∫ –º–∞—Ç—Ä–∏—Ü—å?
                </div>
                <div class="card-back">
                    <p>–î–æ–±—É—Ç–∫–æ–º –º–∞—Ç—Ä–∏—Ü—ñ \( A_{m \times k} \) –Ω–∞ –º–∞—Ç—Ä–∏—Ü—é \( B_{k \times n} \) –Ω–∞–∑–∏–≤–∞—é—Ç—å –º–∞—Ç—Ä–∏—Ü—é \( C_{m \times n} \), –µ–ª–µ–º–µ–Ω—Ç–∏ —è–∫–æ—ó –æ–±—á–∏—Å–ª—é—é—Ç—å—Å—è –∑–∞ —Ñ–æ—Ä–º—É–ª–æ—é:</p>
                    <p class="math-notation-centered">\[
                        c_{ij} = a_{i1} b_{1j} + a_{i2} b_{2j} + \dots + a_{ik} b_{kj},
                    \]</p>
                    <p>–¥–µ \( i = 1, 2, \dots, m \), \( j = 1, 2, \dots, n \).</p>
                </div>
            </div>
        </div>
    </div>
</div>

  <div id="trainerModal" class="modal">
    <div class="modal-header">
        <button class="close-btn" id="closeTrainerBtn">√ó –ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
    <div class="modal-content">
        <div class="trainer-container" id="trainerContent">
            <div class="question-number" id="questionNumber">–ü–∏—Ç–∞–Ω–Ω—è 1</div>
            <p class="trainer-question" id="trainerQuestion"></p>
            <div id="matrixDisplay" class="math-notation-centered"></div>
            <div class="answer-buttons" id="answerButtons"></div>
            <button class="submit-btn" id="submitAnswerBtn" disabled>–í—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏</button>
            <p id="feedback"></p>
        </div>
        <div id="completionScreen" class="completion-message hidden">
            <div class="completion-emoji"></div>
            <h2>–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!</h2>
            <p>–ú–æ–ª–æ–¥–µ—Ü—å!</p>
            <button id="resetTrainerBtn">–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑</button>
        </div>
    </div>
</div>

  <script>
// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–æ–¥–∞–ª—å–Ω–∏—Ö –≤—ñ–∫–æ–Ω
const modals = {
    theory: document.getElementById('theoryModal'),
    video: document.getElementById('videoModal'),
    questions: document.getElementById('questionsModal'),
    trainer: document.getElementById('trainerModal'),
    videoPlayer1: document.getElementById('videoPlayerModal1'),
    videoPlayer2: document.getElementById('videoPlayerModal2'),
    videoPlayer3: document.getElementById('videoPlayerModal3'),
    videoPlayer4: document.getElementById('videoPlayerModal4'),
    videoPlayer5: document.getElementById('videoPlayerModal5')
};

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–Ω–æ–ø–æ–∫
const buttons = {
    openTheory: document.getElementById('openTheoryBtn'),
    openVideo: document.getElementById('openVideoBtn'),
    openQuestions: document.getElementById('openQuestionsBtn'),
    openTrainer: document.getElementById('openTrainerBtn'),
    closeTheory: document.getElementById('closeTheoryBtn'),
    closeVideo: document.getElementById('closeVideoBtn'),
    closeQuestions: document.getElementById('closeQuestionsBtn'),
    closeTrainer: document.getElementById('closeTrainerBtn'),
    closeVideoPlayer1: document.getElementById('closeVideoPlayerBtn1'),
    closeVideoPlayer2: document.getElementById('closeVideoPlayerBtn2'),
    closeVideoPlayer3: document.getElementById('closeVideoPlayerBtn3'),
    closeVideoPlayer4: document.getElementById('closeVideoPlayerBtn4'),
    closeVideoPlayer5: document.getElementById('closeVideoPlayerBtn5'),
    submitAnswer: document.getElementById('submitAnswerBtn')
};

// –û–≤–µ—Ä–ª–µ–π
const overlay = document.getElementById('modalOverlay');

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è YouTube-–ø–ª–µ—î—Ä—ñ–≤
const youtubePlayers = {
    1: document.getElementById('youtubePlayer1'),
    2: document.getElementById('youtubePlayer2'),
    3: document.getElementById('youtubePlayer3'),
    4: document.getElementById('youtubePlayer4'),
    5: document.getElementById('youtubePlayer5')
};

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞
const trainerContent = document.getElementById('trainerContent');
const questionNumber = document.getElementById('questionNumber');
const trainerQuestion = document.getElementById('trainerQuestion');
const matrixDisplay = document.getElementById('matrixDisplay');
const answerButtons = document.getElementById('answerButtons');
const feedback = document.getElementById('feedback');
const completionScreen = document.getElementById('completionScreen');
const resetTrainerBtn = document.getElementById('resetTrainerBtn');
const submitAnswerBtn = document.getElementById('submitAnswerBtn');

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑–º—ñ–Ω–Ω–∏—Ö —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞
let currentQuestion = 1;
let selectedAnswer = null;
let incorrectAttempts = 0;
const maxIncorrectAttempts = 3;
let scrollPosition = 0;
let correctAnswerLatex = ''; // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å

// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
function checkElements() {
    Object.entries(modals).forEach(([key, modal]) => {
        if (!modal) console.error(`Modal ${key} not found`);
    });
    Object.entries(buttons).forEach(([key, button]) => {
        if (!button) console.error(`Button ${key} not found`);
    });
    if (!overlay) console.error('Overlay not found');
    if (!trainerContent) console.error('trainerContent not found');
    if (!questionNumber) console.error('questionNumber not found');
    if (!trainerQuestion) console.error('trainerQuestion not found');
    if (!matrixDisplay) console.error('matrixDisplay not found');
    if (!answerButtons) console.error('answerButtons not found');
    if (!feedback) console.error('feedback not found');
    if (!completionScreen) console.error('completionScreen not found');
    if (!resetTrainerBtn) console.error('resetTrainerBtn not found');
    if (!submitAnswerBtn) console.error('submitAnswerBtn not found');
    if (!completionScreen.querySelector('.completion-emoji')) console.error('completion-emoji not found');
    if (!completionScreen.querySelector('.completion-message h2')) console.error('completion-message h2 not found');
    if (!completionScreen.querySelector('.completion-message p')) console.error('completion-message p not found');
}
checkElements();

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞
function openModal(modal) {
    console.log('Opening modal:', modal.id);
    overlay.style.display = 'block';
    modal.style.display = 'flex';
    modal.classList.add('show');
    scrollPosition = window.pageYOffset;
    document.body.classList.add('modal-open');
    document.body.style.top = `-${scrollPosition}px`;
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–∞–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞
function closeModal(modal) {
    console.log('Closing modal:', modal.id);
    modal.classList.remove('show');
    setTimeout(() => {
        modal.style.display = 'none';
        if (modal.id.includes('videoPlayer')) {
            const iframe = modal.querySelector('iframe');
            if (iframe) iframe.src = iframe.src;
            openModal(modals.video);
        } else {
            overlay.style.display = 'none';
            document.body.classList.remove('modal-open');
            document.body.style.top = '';
            window.scrollTo(0, scrollPosition);
        }
    }, 250);
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≤–∏–ø–∞–¥–∫–æ–≤–æ–≥–æ —Ü—ñ–ª–æ–≥–æ —á–∏—Å–ª–∞
function getRandomInt(min = -9, max = 9) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –ø–µ—Ä–µ–º—ñ—à—É–≤–∞–Ω–Ω—è –º–∞—Å–∏–≤—É
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤–∏–±–æ—Ä—É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
function selectAnswer(btn) {
    console.log('Answer selected:', btn.innerHTML);
    document.querySelectorAll('.answer-btn').forEach(button => {
        button.classList.remove('selected');
    });
    btn.classList.add('selected');
    selectedAnswer = btn;
    submitAnswerBtn.disabled = false;
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É MathJax
function typesetMath(context = 'general', elements = null) {
    if (window.mathJaxReady && typeof MathJax !== 'undefined' && typeof MathJax.typesetPromise === 'function') {
        console.log(`Starting MathJax typeset for ${context}`);
        MathJax.typesetClear(elements || undefined);
        MathJax.typesetPromise(elements || undefined).then(() => {
            console.log(`MathJax typeset complete for ${context}`);
        }).catch(err => {
            console.error(`MathJax typesetting error in ${context}:`, err);
            feedback.textContent = '–ü–æ–º–∏–ª–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É —Ñ–æ—Ä–º—É–ª–∏. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑!';
            feedback.className = 'feedback incorrect';
        });
    } else {
        console.warn(`MathJax not ready or typesetPromise unavailable in ${context}`);
        feedback.textContent = 'MathJax –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ. –°–ø—Ä–æ–±—É–π—Ç–µ –æ–Ω–æ–≤–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É!';
        feedback.className = 'feedback incorrect';
    }
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è MathJax
function waitForMathJax(callback, context = 'general', maxAttempts = 100, interval = 200) {
    let attempts = 0;
    console.log(`Waiting for MathJax in ${context}`);
    const checkMathJax = setInterval(() => {
        if (window.mathJaxReady && typeof MathJax !== 'undefined' && typeof MathJax.typesetPromise === 'function') {
            clearInterval(checkMathJax);
            console.log(`MathJax ready for ${context}, executing callback`);
            callback();
        } else if (attempts >= maxAttempts) {
            clearInterval(checkMathJax);
            console.warn(`MathJax not loaded after ${maxAttempts * interval}ms in ${context}`);
            feedback.textContent = 'MathJax –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ. –°–ø—Ä–æ–±—É–π—Ç–µ –æ–Ω–æ–≤–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É!';
            feedback.className = 'feedback incorrect';
            callback();
        }
        attempts++;
    }, interval);
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–∏—Ç–∞–Ω–Ω—è 1
function generateQuestion1() {
    try {
        // –í–∏–∑–Ω–∞—á–∞—î–º–æ –º–æ–∂–ª–∏–≤—ñ —Ä–æ–∑–º—ñ—Ä–Ω–æ—Å—Ç—ñ
        const dimensions = [
            { rows: 1, cols: 3 },
            { rows: 2, cols: 3 },
            { rows: 3, cols: 3 },
            { rows: 3, cols: 1 },
            { rows: 3, cols: 2 },
            { rows: 2, cols: 2 }
        ];
        const { rows, cols } = dimensions[Math.floor(Math.random() * dimensions.length)];

        // –ì–µ–Ω–µ—Ä—É—î–º–æ –º–∞—Ç—Ä–∏—Ü—é –∑ —á–∏—Å–ª–∞–º–∏ –≤—ñ–¥ -9 –¥–æ 9
        const matrix = Array.from({ length: rows }, () =>
            Array.from({ length: cols }, () => getRandomInt(-9, 9))
        );

        // –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: —Ç—Ä–∞–Ω—Å–ø–æ–Ω–æ–≤–∞–Ω–∞ –º–∞—Ç—Ä–∏—Ü—è
        const correctTranspose = Array.from({ length: cols }, (v, i) =>
            Array.from({ length: rows }, (w, j) => matrix[j][i])
        );
        const correctLatex = `\\begin{pmatrix} ${correctTranspose.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`;
        correctAnswerLatex = correctLatex; // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

        // –ì–µ–Ω–µ—Ä—É—î–º–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
        const incorrectAnswers = [];

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 1: –ø–æ–º—ñ–Ω—è—Ç–∏ –º—ñ—Å—Ü—è–º–∏ —Ä—è–¥–∫–∏ (—è–∫—â–æ –º–æ–∂–ª–∏–≤–æ)
        let incorrect1;
        if (rows > 1) {
            incorrect1 = [...matrix].reverse(); // –†–µ–≤–µ—Ä—Å —Ä—è–¥–∫—ñ–≤
        } else {
            incorrect1 = [...matrix]; // –Ø–∫—â–æ 1 —Ä—è–¥–æ–∫, –∫–æ–ø—ñ—é—î–º–æ –º–∞—Ç—Ä–∏—Ü—é
            incorrect1[0] = [...incorrect1[0]].reverse(); // –†–µ–≤–µ—Ä—Å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —É —Ä—è–¥–∫—É
        }
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect1.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 2: –ø–æ–º—ñ–Ω—è—Ç–∏ –º—ñ—Å—Ü—è–º–∏ —Å—Ç–æ–≤–ø—Ü—ñ —Ç—Ä–∞–Ω—Å–ø–æ–Ω–æ–≤–∞–Ω–æ—ó –º–∞—Ç—Ä–∏—Ü—ñ (—è–∫—â–æ –º–æ–∂–ª–∏–≤–æ)
        let incorrect2 = [...correctTranspose];
        if (cols > 1) {
            incorrect2 = incorrect2.map(row => [...row].reverse()); // –†–µ–≤–µ—Ä—Å —Å—Ç–æ–≤–ø—Ü—ñ–≤
        } else {
            incorrect2 = [...incorrect2];
            incorrect2[0] = [...incorrect2[0]].reverse(); // –†–µ–≤–µ—Ä—Å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —É —Å—Ç–æ–≤–ø—Ü—ñ
        }
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect2.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 3: —Ç—Ä–∞–Ω—Å–ø–æ–Ω–æ–≤–∞–Ω–∞ –º–∞—Ç—Ä–∏—Ü—è –∑ –¥–≤–æ–º–∞ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏, –ø–æ–º—ñ–Ω—è–Ω–∏–º–∏ –º—ñ—Å—Ü—è–º–∏
        let incorrect3 = correctTranspose.map(row => [...row]);
        if (rows * cols >= 2) {
            let pos1, pos2;
            do {
                pos1 = { row: Math.floor(Math.random() * cols), col: Math.floor(Math.random() * rows) };
                pos2 = { row: Math.floor(Math.random() * cols), col: Math.floor(Math.random() * rows) };
            } while (pos1.row === pos2.row && pos1.col === pos2.col);
            [incorrect3[pos1.row][pos1.col], incorrect3[pos2.row][pos2.col]] = [
                incorrect3[pos2.row][pos2.col],
                incorrect3[pos1.row][pos1.col]
            ];
        }
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect3.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
        const uniqueAnswers = new Set();
        incorrectAnswers.forEach(ans => uniqueAnswers.add(ans.text));
        uniqueAnswers.add(correctLatex);
        if (uniqueAnswers.size < 4) {
            console.log('Duplicate answers detected, regenerating question');
            return generateQuestion1(); // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≥–µ–Ω–µ—Ä—É—î–º–æ, —è–∫—â–æ —î –¥—É–±–ª—ñ
        }

        // –î–æ–¥–∞—î–º–æ –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
        const answerOptions = [
            { text: correctLatex, correct: true },
            ...incorrectAnswers
        ];

        // –ü–µ—Ä–µ–º—ñ—à—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
        const shuffledOptions = shuffleArray(answerOptions);

        // –í—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ –ø–∏—Ç–∞–Ω–Ω—è
        const matrixLatex = `\\begin{pmatrix} ${matrix.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`;
        questionNumber.textContent = '–ü–∏—Ç–∞–Ω–Ω—è 1';
        trainerQuestion.textContent = '–ó–Ω–∞–π–¥—ñ—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ–Ω–æ–≤–∞–Ω—É –º–∞—Ç—Ä–∏—Ü—é –¥–ª—è:';
        matrixDisplay.innerHTML = `<div style="display: block;" id="matrix-${Date.now()}">\\[${matrixLatex}\\]</div>`;
        answerButtons.innerHTML = '';
        shuffledOptions.forEach((option, index) => {
            const btn = document.createElement('button');
            btn.className = 'answer-btn';
            btn.innerHTML = `\\(${option.text}\\)`;
            btn.dataset.correct = option.correct.toString();
            btn.dataset.option = option.text;
            btn.addEventListener('click', () => selectAnswer(btn));
            answerButtons.appendChild(btn);
        });

        // –°–∫–∏–¥–∞—î–º–æ —Å—Ç–∞–Ω
        submitAnswerBtn.disabled = true;
        selectedAnswer = null;
        feedback.textContent = '';
        feedback.className = 'feedback';
        completionScreen.classList.add('hidden');
        trainerContent.style.display = 'block';

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ MathJax
        waitForMathJax(() => typesetMath('trainer question 1', [matrixDisplay, answerButtons]), 'trainer question 1');
    } catch (err) {
        console.error('Error in generateQuestion1:', err);
        feedback.textContent = '–ü–æ–º–∏–ª–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–∏—Ç–∞–Ω–Ω—è. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑!';
        feedback.className = 'feedback incorrect';
    }
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–∏—Ç–∞–Ω–Ω—è 2
function generateQuestion2() {
    try {
        // –í–∏–∑–Ω–∞—á–∞—î–º–æ –º–æ–∂–ª–∏–≤—ñ —Ä–æ–∑–º—ñ—Ä–Ω–æ—Å—Ç—ñ
        const dimensions = [
            { rows: 1, cols: 3 },
            { rows: 2, cols: 3 },
            { rows: 3, cols: 3 },
            { rows: 3, cols: 1 },
            { rows: 3, cols: 2 },
            { rows: 2, cols: 2 }
        ];
        const { rows, cols } = dimensions[Math.floor(Math.random() * dimensions.length)];

        // –í–∏–±–∏—Ä–∞—î–º–æ –≤–∏–ø–∞–¥–∫–æ–≤–∏–π –º–Ω–æ–∂–Ω–∏–∫
        const multipliers = [-5, -4, -3, -2, -1, 2, 3, 4, 5];
        const multiplier = multipliers[Math.floor(Math.random() * multipliers.length)];

        // –ì–µ–Ω–µ—Ä—É—î–º–æ –º–∞—Ç—Ä–∏—Ü—é –∑ —á–∏—Å–ª–∞–º–∏ –≤—ñ–¥ -9 –¥–æ 9
        const matrix = Array.from({ length: rows }, () =>
            Array.from({ length: cols }, () => getRandomInt(-9, 9))
        );

        // –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: –º–∞—Ç—Ä–∏—Ü—è, –ø–æ–º–Ω–æ–∂–µ–Ω–∞ –Ω–∞ –º–Ω–æ–∂–Ω–∏–∫
        const correctMatrix = matrix.map(row => row.map(val => val * multiplier));
        const correctLatex = `\\begin{pmatrix} ${correctMatrix.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`;
        correctAnswerLatex = correctLatex; // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

        // –ì–µ–Ω–µ—Ä—É—î–º–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
        const incorrectAnswers = [];

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 1: –ø–æ–º–Ω–æ–∂–∏—Ç–∏ –ª–∏—à–µ –ø–µ—Ä—à–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å
        let incorrect1 = matrix.map(row => [...row]);
        for (let i = 0; i < rows; i++) {
            incorrect1[i][0] *= multiplier; // –ú–Ω–æ–∂–∏–º–æ –ø–µ—Ä—à–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å
        }
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect1.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 2: –ø–æ–º–Ω–æ–∂–∏—Ç–∏ –ª–∏—à–µ –¥—ñ–∞–≥–æ–Ω–∞–ª—å (—è–∫—â–æ —î)
        let incorrect2 = matrix.map(row => [...row]);
        const diagLength = Math.min(rows, cols);
        for (let i = 0; i < diagLength; i++) {
            incorrect2[i][i] *= multiplier; // –ú–Ω–æ–∂–∏–º–æ –¥—ñ–∞–≥–æ–Ω–∞–ª—å–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏
        }
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect2.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 3: –ø–æ–º–Ω–æ–∂–∏—Ç–∏ –ª–∏—à–µ –ø–µ—Ä—à–∏–π —Ä—è–¥–æ–∫
        let incorrect3 = matrix.map(row => [...row]);
        if (rows > 0) {
            incorrect3[0] = incorrect3[0].map(val => val * multiplier); // –ú–Ω–æ–∂–∏–º–æ –ø–µ—Ä—à–∏–π —Ä—è–¥–æ–∫
        }
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect3.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
        const uniqueAnswers = new Set();
        incorrectAnswers.forEach(ans => uniqueAnswers.add(ans.text));
        uniqueAnswers.add(correctLatex);
        if (uniqueAnswers.size < 4) {
            console.log('Duplicate answers detected, regenerating question 2');
            return generateQuestion2(); // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≥–µ–Ω–µ—Ä—É—î–º–æ, —è–∫—â–æ —î –¥—É–±–ª—ñ
        }

        // –î–æ–¥–∞—î–º–æ –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
        const answerOptions = [
            { text: correctLatex, correct: true },
            ...incorrectAnswers
        ];

        // –ü–µ—Ä–µ–º—ñ—à—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
        const shuffledOptions = shuffleArray(answerOptions);

        // –í—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ –ø–∏—Ç–∞–Ω–Ω—è
        const matrixLatex = `\\begin{pmatrix} ${matrix.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`;
        questionNumber.textContent = '–ü–∏—Ç–∞–Ω–Ω—è 2';
        trainerQuestion.textContent = `–ü–æ–º–Ω–æ–∂—Ç–µ –º–∞—Ç—Ä–∏—Ü—é –Ω–∞ —á–∏—Å–ª–æ ${multiplier}:`;
        matrixDisplay.innerHTML = `<div style="display: block;" id="matrix-${Date.now()}">\\[${matrixLatex}\\]</div>`;
        answerButtons.innerHTML = '';
        shuffledOptions.forEach((option, index) => {
            const btn = document.createElement('button');
            btn.className = 'answer-btn';
            btn.innerHTML = `\\(${option.text}\\)`;
            btn.dataset.correct = option.correct.toString();
            btn.dataset.option = option.text;
            btn.addEventListener('click', () => selectAnswer(btn));
            answerButtons.appendChild(btn);
        });

        // –°–∫–∏–¥–∞—î–º–æ —Å—Ç–∞–Ω
        submitAnswerBtn.disabled = true;
        selectedAnswer = null;
        feedback.textContent = '';
        feedback.className = 'feedback';
        completionScreen.classList.add('hidden');
        trainerContent.style.display = 'block';

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ MathJax
        waitForMathJax(() => typesetMath('trainer question 2', [matrixDisplay, answerButtons]), 'trainer question 2');
    } catch (err) {
        console.error('Error in generateQuestion2:', err);
        feedback.textContent = '–ü–æ–º–∏–ª–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–∏—Ç–∞–Ω–Ω—è. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑!';
        feedback.className = 'feedback incorrect';
    }
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–∏—Ç–∞–Ω–Ω—è 3
function generateQuestion3() {
    try {
        // –í–∏–∑–Ω–∞—á–∞—î–º–æ –º–æ–∂–ª–∏–≤—ñ —Ä–æ–∑–º—ñ—Ä–Ω–æ—Å—Ç—ñ
        const dimensions = [
            { rows: 2, cols: 3 },
            { rows: 3, cols: 3 },
            { rows: 3, cols: 2 },
            { rows: 2, cols: 2 }
        ];
        const { rows, cols } = dimensions[Math.floor(Math.random() * dimensions.length)];

        // –ì–µ–Ω–µ—Ä—É—î–º–æ –¥–≤—ñ –º–∞—Ç—Ä–∏—Ü—ñ –∑ —á–∏—Å–ª–∞–º–∏ –≤—ñ–¥ -9 –¥–æ 9
        const matrixA = Array.from({ length: rows }, () =>
            Array.from({ length: cols }, () => getRandomInt(-9, 9))
        );
        const matrixB = Array.from({ length: rows }, () =>
            Array.from({ length: cols }, () => getRandomInt(-9, 9))
        );

        // –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: —Å—É–º–∞ –º–∞—Ç—Ä–∏—Ü—å
        const correctSum = matrixA.map((row, i) =>
            row.map((val, j) => val + matrixB[i][j])
        );
        const correctLatex = `\\begin{pmatrix} ${correctSum.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`;
        correctAnswerLatex = correctLatex; // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

        // –ì–µ–Ω–µ—Ä—É—î–º–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
        const incorrectAnswers = [];

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 1: –¥–æ–¥–∞—î–º–æ –ª–∏—à–µ –ø–µ—Ä—à—ñ —Å—Ç–æ–≤–ø—Ü—ñ
        let incorrect1 = matrixA.map(row => [...row]);
        for (let i = 0; i < rows; i++) {
            incorrect1[i][0] = matrixA[i][0] + matrixB[i][0]; // –î–æ–¥–∞—î–º–æ –ª–∏—à–µ –ø–µ—Ä—à–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å
            for (let j = 1; j < cols; j++) {
                incorrect1[i][j] = matrixA[i][j]; // –†–µ—à—Ç–∞ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∑ matrixA
            }
        }
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect1.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 2: –¥–æ–¥–∞—î–º–æ —É—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏, –∫—Ä—ñ–º –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ
        let incorrect2 = correctSum.map(row => [...row]);
        incorrect2[rows - 1][cols - 1] = matrixA[rows - 1][cols - 1]; // –û—Å—Ç–∞–Ω–Ω—ñ–π –µ–ª–µ–º–µ–Ω—Ç –ª–∏—à–µ –∑ matrixA
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect2.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 3: –¥–æ–¥–∞—î–º–æ –ø–µ—Ä—à—ñ —Å—Ç–æ–≤–ø—Ü—ñ, –∞ –≤ –¥—Ä—É–≥–æ–º—É —Å—Ç–æ–≤–ø—Ü—ñ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π
        let incorrect3 = matrixA.map(row => [...row]);
        for (let i = 0; i < rows; i++) {
            incorrect3[i][0] = matrixA[i][0] + matrixB[i][0]; // –î–æ–¥–∞—î–º–æ –ø–µ—Ä—à–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å
        }
        if (cols > 1) {
            incorrect3[0][1] = matrixA[0][1] + getRandomInt(-9, 9); // –ü–æ–º–∏–ª–∫–∞ –≤ –ø–µ—Ä—à–æ–º—É –µ–ª–µ–º–µ–Ω—Ç—ñ –¥—Ä—É–≥–æ–≥–æ —Å—Ç–æ–≤–ø—Ü—è
            for (let i = 1; i < rows; i++) {
                for (let j = 1; j < cols; j++) {
                    incorrect3[i][j] = matrixA[i][j]; // –†–µ—à—Ç–∞ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∑ matrixA
                }
            }
        }
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect3.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
        const uniqueAnswers = new Set();
        incorrectAnswers.forEach(ans => uniqueAnswers.add(ans.text));
        uniqueAnswers.add(correctLatex);
        if (uniqueAnswers.size < 4) {
            console.log('Duplicate answers detected, regenerating question 3');
            return generateQuestion3(); // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≥–µ–Ω–µ—Ä—É—î–º–æ, —è–∫—â–æ —î –¥—É–±–ª—ñ
        }

        // –î–æ–¥–∞—î–º–æ –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
        const answerOptions = [
            { text: correctLatex, correct: true },
            ...incorrectAnswers
        ];

        // –ü–µ—Ä–µ–º—ñ—à—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
        const shuffledOptions = shuffleArray(answerOptions);

        // –í—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ –ø–∏—Ç–∞–Ω–Ω—è
        const matrixALatex = `\\begin{pmatrix} ${matrixA.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`;
        const matrixBLatex = `\\begin{pmatrix} ${matrixB.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`;
        questionNumber.textContent = '–ü–∏—Ç–∞–Ω–Ω—è 3';
        trainerQuestion.textContent = '–ó–Ω–∞–π–¥—ñ—Ç—å —Å—É–º—É –º–∞—Ç—Ä–∏—Ü—å:';
        matrixDisplay.innerHTML = `<div style="display: block;" id="matrix-${Date.now()}">\\[${matrixALatex} + ${matrixBLatex}\\]</div>`;
        answerButtons.innerHTML = '';
        shuffledOptions.forEach((option, index) => {
            const btn = document.createElement('button');
            btn.className = 'answer-btn';
            btn.innerHTML = `\\(${option.text}\\)`;
            btn.dataset.correct = option.correct.toString();
            btn.dataset.option = option.text;
            btn.addEventListener('click', () => selectAnswer(btn));
            answerButtons.appendChild(btn);
        });

        // –°–∫–∏–¥–∞—î–º–æ —Å—Ç–∞–Ω
        submitAnswerBtn.disabled = true;
        selectedAnswer = null;
        feedback.textContent = '';
        feedback.className = 'feedback';
        completionScreen.classList.add('hidden');
        trainerContent.style.display = 'block';

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ MathJax
        waitForMathJax(() => typesetMath('trainer question 3', [matrixDisplay, answerButtons]), 'trainer question 3');
    } catch (err) {
        console.error('Error in generateQuestion3:', err);
        feedback.textContent = '–ü–æ–º–∏–ª–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–∏—Ç–∞–Ω–Ω—è. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑!';
        feedback.className = 'feedback incorrect';
    }
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–∏—Ç–∞–Ω–Ω—è 4
function generateQuestion4() {
    try {
        // –í–∏–∑–Ω–∞—á–∞—î–º–æ –º–æ–∂–ª–∏–≤—ñ —Ä–æ–∑–º—ñ—Ä–Ω–æ—Å—Ç—ñ
        const dimensions = [
            { rows: 2, cols: 3 },
            { rows: 3, cols: 3 },
            { rows: 3, cols: 2 },
            { rows: 2, cols: 2 }
        ];
        const { rows, cols } = dimensions[Math.floor(Math.random() * dimensions.length)];

        // –ì–µ–Ω–µ—Ä—É—î–º–æ –¥–≤—ñ –º–∞—Ç—Ä–∏—Ü—ñ –∑ —á–∏—Å–ª–∞–º–∏ –≤—ñ–¥ -9 –¥–æ 9
        const matrixA = Array.from({ length: rows }, () =>
            Array.from({ length: cols }, () => getRandomInt(-9, 9))
        );
        const matrixB = Array.from({ length: rows }, () =>
            Array.from({ length: cols }, () => getRandomInt(-9, 9))
        );

        // –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: —Ä—ñ–∑–Ω–∏—Ü—è –º–∞—Ç—Ä–∏—Ü—å
        const correctDiff = matrixA.map((row, i) =>
            row.map((val, j) => val - matrixB[i][j])
        );
        const correctLatex = `\\begin{pmatrix} ${correctDiff.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`;
        correctAnswerLatex = correctLatex; // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

        // –ì–µ–Ω–µ—Ä—É—î–º–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
        const incorrectAnswers = [];

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 1: –≤—ñ–¥–Ω—ñ–º–∞—î–º–æ –∑ –ø–æ–º–∏–ª–∫–∞–º–∏, –¥–µ –≤—ñ–¥'—î–º–Ω—ñ —á–∏—Å–ª–∞ –≤—ñ–¥–Ω—ñ–º–∞—î–º–æ —è–∫ –¥–æ–¥–∞—Ç–Ω—ñ
        let incorrect1 = matrixA.map((row, i) =>
            row.map((val, j) => {
                const diff = val - matrixB[i][j];
                return diff < 0 ? val + Math.abs(matrixB[i][j]) : diff;
            })
        );
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect1.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 2: –ø–æ–º–∏–ª–∫–∞ –≤ –æ–¥–Ω–æ–º—É –µ–ª–µ–º–µ–Ω—Ç—ñ
        let incorrect2 = correctDiff.map(row => [...row]);
        const errorRow = Math.floor(Math.random() * rows);
        const errorCol = Math.floor(Math.random() * cols);
        incorrect2[errorRow][errorCol] = incorrect2[errorRow][errorCol] + getRandomInt(-9, 9);
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect2.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 3: —Ç—Ä–∏ –ø–æ–º–∏–ª–∫–∏ –≤ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è—Ö
        let incorrect3 = correctDiff.map(row => [...row]);
        let errorPositions = [];
        while (errorPositions.length < 3 && rows * cols >= 3) {
            const pos = { row: Math.floor(Math.random() * rows), col: Math.floor(Math.random() * cols) };
            if (!errorPositions.some(p => p.row === pos.row && p.col === pos.col)) {
                errorPositions.push(pos);
            }
        }
        errorPositions.forEach(pos => {
            incorrect3[pos.row][pos.col] = incorrect3[pos.row][pos.col] + getRandomInt(-9, 9);
        });
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect3.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
        const uniqueAnswers = new Set();
        incorrectAnswers.forEach(ans => uniqueAnswers.add(ans.text));
        uniqueAnswers.add(correctLatex);
        if (uniqueAnswers.size < 4) {
            console.log('Duplicate answers detected, regenerating question 4');
            return generateQuestion4(); // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≥–µ–Ω–µ—Ä—É—î–º–æ, —è–∫—â–æ —î –¥—É–±–ª—ñ
        }

        // –î–æ–¥–∞—î–º–æ –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
        const answerOptions = [
            { text: correctLatex, correct: true },
            ...incorrectAnswers
        ];

        // –ü–µ—Ä–µ–º—ñ—à—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
        const shuffledOptions = shuffleArray(answerOptions);

        // –í—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ –ø–∏—Ç–∞–Ω–Ω—è
        const matrixALatex = `\\begin{pmatrix} ${matrixA.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`;
        const matrixBLatex = `\\begin{pmatrix} ${matrixB.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`;
        questionNumber.textContent = '–ü–∏—Ç–∞–Ω–Ω—è 4';
        trainerQuestion.textContent = '–ó–Ω–∞–π–¥—ñ—Ç—å —Ä—ñ–∑–Ω–∏—Ü—é –º–∞—Ç—Ä–∏—Ü—å:';
        matrixDisplay.innerHTML = `<div style="display: block;" id="matrix-${Date.now()}">\\[${matrixALatex} - ${matrixBLatex}\\]</div>`;
        answerButtons.innerHTML = '';
        shuffledOptions.forEach((option, index) => {
            const btn = document.createElement('button');
            btn.className = 'answer-btn';
            btn.innerHTML = `\\(${option.text}\\)`;
            btn.dataset.correct = option.correct.toString();
            btn.dataset.option = option.text;
            btn.addEventListener('click', () => selectAnswer(btn));
            answerButtons.appendChild(btn);
        });

        // –°–∫–∏–¥–∞—î–º–æ —Å—Ç–∞–Ω
        submitAnswerBtn.disabled = true;
        selectedAnswer = null;
        feedback.textContent = '';
        feedback.className = 'feedback';
        completionScreen.classList.add('hidden');
        trainerContent.style.display = 'block';

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ MathJax
        waitForMathJax(() => typesetMath('trainer question 4', [matrixDisplay, answerButtons]), 'trainer question 4');
    } catch (err) {
        console.error('Error in generateQuestion4:', err);
        feedback.textContent = '–ü–æ–º–∏–ª–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–∏—Ç–∞–Ω–Ω—è. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑!';
        feedback.className = 'feedback incorrect';
    }
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–∏—Ç–∞–Ω–Ω—è 5
function generateQuestion5() {
    try {
        // –í–∏–∑–Ω–∞—á–∞—î–º–æ —Ä–æ–∑–º—ñ—Ä–Ω—ñ—Å—Ç—å (–∑–∞–≤–∂–¥–∏ 2√ó2)
        const rows = 2;
        const cols = 2;

        // –ì–µ–Ω–µ—Ä—É—î–º–æ –¥–≤—ñ –º–∞—Ç—Ä–∏—Ü—ñ 2√ó2 –∑ —á–∏—Å–ª–∞–º–∏ –≤—ñ–¥ -9 –¥–æ 9
        const matrixA = Array.from({ length: rows }, () =>
            Array.from({ length: cols }, () => getRandomInt(-9, 9))
        );
        const matrixB = Array.from({ length: rows }, () =>
            Array.from({ length: cols }, () => getRandomInt(-9, 9))
        );

        // –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: –¥–æ–±—É—Ç–æ–∫ –º–∞—Ç—Ä–∏—Ü—å
        const correctProduct = [
            [
                matrixA[0][0] * matrixB[0][0] + matrixA[0][1] * matrixB[1][0],
                matrixA[0][0] * matrixB[0][1] + matrixA[0][1] * matrixB[1][1]
            ],
            [
                matrixA[1][0] * matrixB[0][0] + matrixA[1][1] * matrixB[1][0],
                matrixA[1][0] * matrixB[0][1] + matrixA[1][1] * matrixB[1][1]
            ]
        ];
        const correctLatex = `\\begin{pmatrix} ${correctProduct.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`;
        correctAnswerLatex = correctLatex; // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

        // –ì–µ–Ω–µ—Ä—É—î–º–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
        const incorrectAnswers = [];

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 1: –º–Ω–æ–∂–µ–Ω–Ω—è –ø–µ—Ä—à–æ–≥–æ —Ä—è–¥–∫–∞ –Ω–∞ –ø–µ—Ä—à–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å –Ω–∞ a11, –ø–µ—Ä—à–∏–π —Ä—è–¥–æ–∫ –Ω–∞ –¥—Ä—É–≥–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å –Ω–∞ a21, –¥—Ä—É–≥–∏–π —Ä—è–¥–æ–∫ –Ω–∞ –ø–µ—Ä—à–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å –Ω–∞ a12, –¥—Ä—É–≥–∏–π —Ä—è–¥–æ–∫ –Ω–∞ –¥—Ä—É–≥–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å –Ω–∞ a22
        const incorrect1 = [
            [matrixA[0][0] * matrixB[0][0] + matrixA[0][1] * matrixB[1][0], matrixA[1][0] * matrixB[0][0] + matrixA[1][1] * matrixB[1][0]],
            [matrixA[0][0] * matrixB[0][1] + matrixA[0][1] * matrixB[1][1], matrixA[1][0] * matrixB[0][1] + matrixA[1][1] * matrixB[1][1]]
        ];
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect1.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 2: –º–Ω–æ–∂–µ–Ω–Ω—è a11 –ø–µ—Ä—à–æ—ó –º–∞—Ç—Ä–∏—Ü—ñ –Ω–∞ –ø–µ—Ä—à–∏–π —Ä—è–¥–æ–∫ –¥—Ä—É–≥–æ—ó –º–∞—Ç—Ä–∏—Ü—ñ –Ω–∞ a11, –∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ —ñ–Ω—à—ñ
        const incorrect2 = [
            [matrixA[0][0] * matrixB[0][0], matrixA[0][0] * matrixB[0][1]],
            [matrixA[1][1] * matrixB[1][0], matrixA[1][1] * matrixB[1][1]]
        ];
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect2.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ 3: —è–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–∞, –∞–ª–µ –∑ –æ–¥–Ω—ñ—î—é –ø–æ–º–∏–ª–∫–æ—é —É –¥—Ä—É–≥–æ–º—É —Å—Ç–æ–≤–ø—Ü—ñ
        let incorrect3 = correctProduct.map(row => [...row]);
        incorrect3[Math.floor(Math.random() * 2)][1] += getRandomInt(-9, 9); // –ü–æ–º–∏–ª–∫–∞ –≤ –¥—Ä—É–≥–æ–º—É —Å—Ç–æ–≤–ø—Ü—ñ
        incorrectAnswers.push({
            text: `\\begin{pmatrix} ${incorrect3.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`,
            correct: false
        });

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
        const uniqueAnswers = new Set();
        incorrectAnswers.forEach(ans => uniqueAnswers.add(ans.text));
        uniqueAnswers.add(correctLatex);
        if (uniqueAnswers.size < 4) {
            console.log('Duplicate answers detected, regenerating question 5');
            return generateQuestion5(); // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≥–µ–Ω–µ—Ä—É—î–º–æ, —è–∫—â–æ —î –¥—É–±–ª—ñ
        }

        // –î–æ–¥–∞—î–º–æ –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
        const answerOptions = [
            { text: correctLatex, correct: true },
            ...incorrectAnswers
        ];

        // –ü–µ—Ä–µ–º—ñ—à—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
        const shuffledOptions = shuffleArray(answerOptions);

        // –í—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ –ø–∏—Ç–∞–Ω–Ω—è
        const matrixALatex = `\\begin{pmatrix} ${matrixA.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`;
        const matrixBLatex = `\\begin{pmatrix} ${matrixB.map(row => row.join(' & ')).join(' \\\\ ')} \\end{pmatrix}`;
        questionNumber.textContent = '–ü–∏—Ç–∞–Ω–Ω—è 5';
        trainerQuestion.textContent = '–ó–Ω–∞–π–¥—ñ—Ç—å –¥–æ–±—É—Ç–æ–∫ –º–∞—Ç—Ä–∏—Ü—å:';
        matrixDisplay.innerHTML = `<div style="display: block;" id="matrix-${Date.now()}">\\[${matrixALatex} \\cdot ${matrixBLatex}\\]</div>`;
        answerButtons.innerHTML = '';
        shuffledOptions.forEach((option, index) => {
            const btn = document.createElement('button');
            btn.className = 'answer-btn';
            btn.innerHTML = `\\(${option.text}\\)`;
            btn.dataset.correct = option.correct.toString();
            btn.dataset.option = option.text;
            btn.addEventListener('click', () => selectAnswer(btn));
            answerButtons.appendChild(btn);
        });

        // –°–∫–∏–¥–∞—î–º–æ —Å—Ç–∞–Ω
        submitAnswerBtn.disabled = true;
        selectedAnswer = null;
        feedback.textContent = '';
        feedback.className = 'feedback';
        completionScreen.classList.add('hidden');
        trainerContent.style.display = 'block';

        // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ MathJax
        waitForMathJax(() => typesetMath('trainer question 5', [matrixDisplay, answerButtons]), 'trainer question 5');
    } catch (err) {
        console.error('Error in generateQuestion5:', err);
        feedback.textContent = '–ü–æ–º–∏–ª–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–∏—Ç–∞–Ω–Ω—è. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑!';
        feedback.className = 'feedback incorrect';
    }
}

// –û–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–í—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏"
buttons.submitAnswer.addEventListener('click', () => {
    console.log('Submit answer clicked', {
        currentQuestion: currentQuestion,
        selectedAnswer: selectedAnswer ? selectedAnswer.dataset.option : null,
        datasetCorrect: selectedAnswer ? selectedAnswer.dataset.correct : null
    });
    if (!selectedAnswer) {
        feedback.textContent = '–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∏–±–µ—Ä—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å!';
        feedback.className = 'feedback incorrect show';
        setTimeout(() => {
            feedback.className = 'feedback';
        }, 2000);
        return;
    }

    const isCorrect = selectedAnswer.dataset.correct === 'true';
    console.log('Answer evaluation', {
        isCorrect: isCorrect,
        selectedLatex: selectedAnswer.dataset.option,
        correctLatex: correctAnswerLatex
    });

    document.querySelectorAll('.answer-btn').forEach(btn => {
        if (btn.dataset.correct === 'true') {
            btn.classList.add('correct');
        } else if (btn === selectedAnswer) {
            btn.classList.add('incorrect');
        }
        btn.disabled = true;
        btn.style.pointerEvents = 'none';
    });

    feedback.textContent = isCorrect ? '‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –ú–æ–ª–æ–¥–µ—Ü—å!' : '‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Å–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑!';
    feedback.className = `feedback ${isCorrect ? 'correct' : 'incorrect'} show`;
    submitAnswerBtn.disabled = true;

    setTimeout(() => {
        feedback.className = 'feedback';
        if (isCorrect) {
            incorrectAttempts = 0;
            if (currentQuestion === 1) {
                currentQuestion = 2;
                console.log('Moving to question 2');
                generateQuestion2();
            } else if (currentQuestion === 2) {
                currentQuestion = 3;
                console.log('Moving to question 3');
                generateQuestion3();
            } else if (currentQuestion === 3) {
                currentQuestion = 4;
                console.log('Moving to question 4');
                generateQuestion4();
            } else if (currentQuestion === 4) {
                currentQuestion = 5;
                console.log('Moving to question 5');
                generateQuestion5();
            } else {
                console.log('Showing completion screen');
                trainerContent.style.display = 'none';
                completionScreen.classList.remove('hidden');
                const emoji = completionScreen.querySelector('.completion-emoji');
                const heading = completionScreen.querySelector('.completion-message h2');
                const paragraph = completionScreen.querySelector('.completion-message p');
                if (emoji && heading && paragraph) {
                    heading.textContent = '–¢—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!';
                    paragraph.textContent = '–ú–æ–ª–æ–¥–µ—Ü—å!';
                    console.log('Completion screen updated', {
                        heading: heading.textContent,
                        paragraph: paragraph.textContent
                    });
                } else {
                    console.error('Completion screen elements missing', { emoji, heading, paragraph });
                }
                completionScreen.scrollIntoView({ behavior: 'smooth', block: 'center' });
                resetTrainerBtn.focus();
            }
        } else {
            document.querySelectorAll('.answer-btn').forEach(btn => {
                btn.disabled = false;
                btn.classList.remove('selected', 'correct', 'incorrect');
                btn.style.pointerEvents = 'auto';
                btn.style.background = '#3b4a5a';
                btn.style.border = '1.5px solid #a855f7';
            });
            submitAnswerBtn.disabled = true;
            selectedAnswer = null;
            if (currentQuestion === 1) {
                incorrectAttempts++;
                console.log('Incorrect attempts:', incorrectAttempts);
                if (incorrectAttempts >= maxIncorrectAttempts) {
                    incorrectAttempts = 0;
                    console.log('Max incorrect attempts reached, regenerating question 1');
                    generateQuestion1();
                } else {
                    console.log('Regenerating question 1');
                    generateQuestion1();
                }
            } else if (currentQuestion === 2 || currentQuestion === 3 || currentQuestion === 4 || currentQuestion === 5) {
                console.log(`Regenerating question ${currentQuestion}`);
                if (currentQuestion === 2) {
                    generateQuestion2();
                } else if (currentQuestion === 3) {
                    generateQuestion3();
                } else if (currentQuestion === 4) {
                    generateQuestion4();
                } else {
                    generateQuestion5();
                }
            }
        }
    }, 2000);
});

// –û–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑"
resetTrainerBtn.addEventListener('click', () => {
    console.log('Reset trainer clicked');
    currentQuestion = 1;
    incorrectAttempts = 0;
    completionScreen.classList.add('hidden');
    trainerContent.style.display = 'block';
    generateQuestion1();
});

// –û–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π –¥–ª—è –∫–Ω–æ–ø–æ–∫ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª—å–Ω–∏—Ö –≤—ñ–∫–æ–Ω
buttons.openTheory.addEventListener('click', () => {
    console.log('Open theory button clicked');
    openModal(modals.theory);
});

buttons.openVideo.addEventListener('click', () => {
    console.log('Open video button clicked');
    openModal(modals.video);
});

buttons.openQuestions.addEventListener('click', () => {
    console.log('Open questions button clicked');
    openModal(modals.questions);
});

buttons.openTrainer.addEventListener('click', () => {
    console.log('Open trainer clicked');
    openModal(modals.trainer);
    currentQuestion = 1;
    incorrectAttempts = 0;
    completionScreen.classList.add('hidden');
    trainerContent.style.display = 'block';
    generateQuestion1();
});

// –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∑–∞–∫—Ä–∏—Ç—Ç—è
Object.values(buttons).forEach(button => {
    if (button && button.id.includes('close')) {
        button.addEventListener('click', () => {
            const modalId = button.id.replace('close', '').toLowerCase();
            const modalKey = modalId.includes('videoplayer') ? `videoPlayer${modalId.slice(-1)}` : modalId.replace('btn', '');
            console.log('Close button clicked for:', modalKey);
            closeModal(modals[modalKey]);
        });
    }
});

// –ó–∞–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞ –ø—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ –æ–≤–µ—Ä–ª–µ–π
overlay.addEventListener('click', () => {
    Object.values(modals).forEach(modal => {
        if (modal && modal.classList.contains('show')) {
            console.log('Overlay clicked, closing modal:', modal.id);
            closeModal(modal);
        }
    });
});

// –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è –∫–∞—Ä—Ç–æ–∫ –≤—ñ–¥–µ–æ
document.querySelectorAll('.video-card').forEach(card => {
    card.addEventListener('click', () => {
        const videoId = card.dataset.video;
        console.log('Video card clicked:', videoId);
        closeModal(modals.video);
        openModal(modals[`videoPlayer${videoId}`]);
    });
});

// –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è —Ñ–ª–µ—à-–∫–∞—Ä—Ç–æ–∫
document.querySelectorAll('.question-card .card-inner').forEach(card => {
    card.addEventListener('click', () => {
        console.log('Flipping card');
        card.classList.toggle('flipped');
    });
});

// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ MathJax –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
window.addEventListener('load', () => {
    if (!window.mathJaxReady) {
        console.warn('MathJax not initialized after page load');
        feedback.textContent = 'MathJax –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ. –°–ø—Ä–æ–±—É–π—Ç–µ –æ–Ω–æ–≤–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É!';
        feedback.className = 'feedback incorrect';
    }
});

// –ó–∞–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞ –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ Escape
document.addEventListener('keydown', e => {
    if (e.key === 'Escape') {
        Object.values(modals).forEach(modal => {
            if (modal && modal.classList.contains('show')) {
                console.log('Escape key pressed, closing modal:', modal.id);
                closeModal(modal);
            }
        });
    }
});
</script>
</body>
</html>


